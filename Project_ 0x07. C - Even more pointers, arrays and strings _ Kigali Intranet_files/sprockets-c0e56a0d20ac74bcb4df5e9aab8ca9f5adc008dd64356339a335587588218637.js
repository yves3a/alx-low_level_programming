function dean_addEvent(t,e,i){if(t.addEventListener)t.addEventListener(e,i,!1);else{i.$$guid||(i.$$guid=dean_addEvent.guid++),t.events||(t.events={});var n=t.events[e];n||(n=t.events[e]={},t["on"+e]&&(n[0]=t["on"+e])),n[i.$$guid]=i,t["on"+e]=handleEvent}}function removeEvent(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.events&&t.events[e]&&delete t.events[e][i.$$guid]}function handleEvent(t){var e=!0;t=t||fixEvent(((this.ownerDocument||this.document||this).parentWindow||window).event);var i=this.events[t.type];for(var n in i)this.$$handleEvent=i[n],!1===this.$$handleEvent(t)&&(e=!1);return e}function fixEvent(t){return t.preventDefault=fixEvent.preventDefault,t.stopPropagation=fixEvent.stopPropagation,t}!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,(function(t,e){"use strict";function i(t,e,i){var n,r,o=(i=i||xt).createElement("script");if(o.text=t,e)for(n in _t)(r=e[n]||e.getAttribute&&e.getAttribute(n))&&o.setAttribute(n,r);i.head.appendChild(o).parentNode.removeChild(o)}function n(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?pt[ft.call(t)]||"object":typeof t}function r(t){var e=!!t&&"length"in t&&t.length,i=n(t);return!bt(t)&&!wt(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}function o(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}function s(t,e,i){return bt(e)?Ct.grep(t,(function(t,n){return!!e.call(t,n,t)!==i})):e.nodeType?Ct.grep(t,(function(t){return t===e!==i})):"string"!=typeof e?Ct.grep(t,(function(t){return dt.call(e,t)>-1!==i})):Ct.filter(e,t,i)}function a(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function l(t){var e={};return Ct.each(t.match(It)||[],(function(t,i){e[i]=!0})),e}function c(t){return t}function u(t){throw t}function h(t,e,i,n){var r;try{t&&bt(r=t.promise)?r.call(t).done(e).fail(i):t&&bt(r=t.then)?r.call(t,e,i):e.apply(void 0,[t].slice(n))}catch(t){i.apply(void 0,[t])}}function d(){xt.removeEventListener("DOMContentLoaded",d),t.removeEventListener("load",d),Ct.ready()}function p(t,e){return e.toUpperCase()}function f(t){return t.replace(jt,"ms-").replace(Ft,p)}function m(){this.expando=Ct.expando+m.uid++}function g(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Ht.test(t)?JSON.parse(t):t)}function v(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(Ut,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i=g(i)}catch(t){}Bt.set(t,e,i)}else i=void 0;return i}function y(t,e,i,n){var r,o,s=20,a=n?function(){return n.cur()}:function(){return Ct.css(t,e,"")},l=a(),c=i&&i[3]||(Ct.cssNumber[e]?"":"px"),u=t.nodeType&&(Ct.cssNumber[e]||"px"!==c&&+l)&&Xt.exec(Ct.css(t,e));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;s--;)Ct.style(t,e,u+c),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),u/=o;u*=2,Ct.style(t,e,u+c),i=i||[]}return i&&(u=+u||+l||0,r=i[1]?u+(i[1]+1)*i[2]:+i[2],n&&(n.unit=c,n.start=u,n.end=r)),r}function b(t){var e,i=t.ownerDocument,n=t.nodeName,r=Jt[n];return r||(e=i.body.appendChild(i.createElement(n)),r=Ct.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),Jt[n]=r,r)}function w(t,e){for(var i,n,r=[],o=0,s=t.length;o<s;o++)(n=t[o]).style&&(i=n.style.display,e?("none"===i&&(r[o]=Rt.get(n,"display")||null,r[o]||(n.style.display="")),""===n.style.display&&Qt(n)&&(r[o]=b(n))):"none"!==i&&(r[o]="none",Rt.set(n,"display",i)));for(o=0;o<s;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}function x(t,e){var i;return i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&o(t,e)?Ct.merge([t],i):i}function _(t,e){for(var i=0,n=t.length;i<n;i++)Rt.set(t[i],"globalEval",!e||Rt.get(e[i],"globalEval"))}function k(t,e,i,r,o){for(var s,a,l,c,u,h,d=e.createDocumentFragment(),p=[],f=0,m=t.length;f<m;f++)if((s=t[f])||0===s)if("object"===n(s))Ct.merge(p,s.nodeType?[s]:s);else if(oe.test(s)){for(a=a||d.appendChild(e.createElement("div")),l=(ie.exec(s)||["",""])[1].toLowerCase(),c=re[l]||re._default,a.innerHTML=c[1]+Ct.htmlPrefilter(s)+c[2],h=c[0];h--;)a=a.lastChild;Ct.merge(p,a.childNodes),(a=d.firstChild).textContent=""}else p.push(e.createTextNode(s));for(d.textContent="",f=0;s=p[f++];)if(r&&Ct.inArray(s,r)>-1)o&&o.push(s);else if(u=Vt(s),a=x(d.appendChild(s),"script"),u&&_(a),i)for(h=0;s=a[h++];)ne.test(s.type||"")&&i.push(s);return d}function C(){return!0}function S(){return!1}function T(t,e){return t===A()==("focus"===e)}function A(){try{return xt.activeElement}catch(t){}}function E(t,e,i,n,r,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof i&&(n=n||i,i=void 0),e)E(t,a,i,n,e[a],o);return t}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),!1===r)r=S;else if(!r)return t;return 1===o&&(s=r,r=function(t){return Ct().off(t),s.apply(this,arguments)},r.guid=s.guid||(s.guid=Ct.guid++)),t.each((function(){Ct.event.add(this,e,r,n,i)}))}function P(t,e,i){i?(Rt.set(t,e,!1),Ct.event.add(t,e,{namespace:!1,handler:function(t){var n,r,o=Rt.get(this,e);if(1&t.isTrigger&&this[e]){if(o.length)(Ct.event.special[e]||{}).delegateType&&t.stopPropagation();else if(o=ct.call(arguments),Rt.set(this,e,o),n=i(this,e),this[e](),o!==(r=Rt.get(this,e))||n?Rt.set(this,e,!1):r={},o!==r)return t.stopImmediatePropagation(),t.preventDefault(),r.value}else o.length&&(Rt.set(this,e,{value:Ct.event.trigger(Ct.extend(o[0],Ct.Event.prototype),o.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===Rt.get(t,e)&&Ct.event.add(t,e,C)}function M(t,e){return o(t,"table")&&o(11!==e.nodeType?e:e.firstChild,"tr")&&Ct(t).children("tbody")[0]||t}function L(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function O(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function D(t,e){var i,n,r,o,s,a;if(1===e.nodeType){if(Rt.hasData(t)&&(a=Rt.get(t).events))for(r in Rt.remove(e,"handle events"),a)for(i=0,n=a[r].length;i<n;i++)Ct.event.add(e,r,a[r][i]);Bt.hasData(t)&&(o=Bt.access(t),s=Ct.extend({},o),Bt.set(e,s))}}function I(t,e){var i=e.nodeName.toLowerCase();"input"===i&&ee.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function $(t,e,n,r){e=ut(e);var o,s,a,l,c,u,h=0,d=t.length,p=d-1,f=e[0],m=bt(f);if(m||d>1&&"string"==typeof f&&!yt.checkClone&&ue.test(f))return t.each((function(i){var o=t.eq(i);m&&(e[0]=f.call(this,i,o.html())),$(o,e,n,r)}));if(d&&(s=(o=k(e,t[0].ownerDocument,!1,t,r)).firstChild,1===o.childNodes.length&&(o=s),s||r)){for(l=(a=Ct.map(x(o,"script"),L)).length;h<d;h++)c=o,h!==p&&(c=Ct.clone(c,!0,!0),l&&Ct.merge(a,x(c,"script"))),n.call(t[h],c,h);if(l)for(u=a[a.length-1].ownerDocument,Ct.map(a,O),h=0;h<l;h++)c=a[h],ne.test(c.type||"")&&!Rt.access(c,"globalEval")&&Ct.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?Ct._evalUrl&&!c.noModule&&Ct._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):i(c.textContent.replace(he,""),c,u))}return t}function N(t,e,i){for(var n,r=e?Ct.filter(e,t):t,o=0;null!=(n=r[o]);o++)i||1!==n.nodeType||Ct.cleanData(x(n)),n.parentNode&&(i&&Vt(n)&&_(x(n,"script")),n.parentNode.removeChild(n));return t}function z(t,e,i){var n,r,o,s,a=t.style;return(i=i||pe(t))&&(""!==(s=i.getPropertyValue(e)||i[e])||Vt(t)||(s=Ct.style(t,e)),!yt.pixelBoxStyles()&&de.test(s)&&me.test(e)&&(n=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=n,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function j(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function F(t){for(var e=t[0].toUpperCase()+t.slice(1),i=ge.length;i--;)if((t=ge[i]+e)in ve)return t}function q(t){var e=Ct.cssProps[t]||ye[t];return e||(t in ve?t:ye[t]=F(t)||t)}function R(t,e,i){var n=Xt.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function B(t,e,i,n,r,o){var s="width"===e?1:0,a=0,l=0;if(i===(n?"border":"content"))return 0;for(;s<4;s+=2)"margin"===i&&(l+=Ct.css(t,i+Gt[s],!0,r)),n?("content"===i&&(l-=Ct.css(t,"padding"+Gt[s],!0,r)),"margin"!==i&&(l-=Ct.css(t,"border"+Gt[s]+"Width",!0,r))):(l+=Ct.css(t,"padding"+Gt[s],!0,r),"padding"!==i?l+=Ct.css(t,"border"+Gt[s]+"Width",!0,r):a+=Ct.css(t,"border"+Gt[s]+"Width",!0,r));return!n&&o>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-l-a-.5))||0),l}function H(t,e,i){var n=pe(t),r=(!yt.boxSizingReliable()||i)&&"border-box"===Ct.css(t,"boxSizing",!1,n),s=r,a=z(t,e,n),l="offset"+e[0].toUpperCase()+e.slice(1);if(de.test(a)){if(!i)return a;a="auto"}return(!yt.boxSizingReliable()&&r||!yt.reliableTrDimensions()&&o(t,"tr")||"auto"===a||!parseFloat(a)&&"inline"===Ct.css(t,"display",!1,n))&&t.getClientRects().length&&(r="border-box"===Ct.css(t,"boxSizing",!1,n),(s=l in t)&&(a=t[l])),(a=parseFloat(a)||0)+B(t,e,i||(r?"border":"content"),s,n,a)+"px"}function U(t,e,i,n,r){return new U.prototype.init(t,e,i,n,r)}function W(){Ce&&(!1===xt.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(W):t.setTimeout(W,Ct.fx.interval),Ct.fx.tick())}function X(){return t.setTimeout((function(){ke=void 0})),ke=Date.now()}function G(t,e){var i,n=0,r={height:t};for(e=e?1:0;n<4;n+=2-e)r["margin"+(i=Gt[n])]=r["padding"+i]=t;return e&&(r.opacity=r.width=t),r}function Y(t,e,i){for(var n,r=(Q.tweeners[e]||[]).concat(Q.tweeners["*"]),o=0,s=r.length;o<s;o++)if(n=r[o].call(i,e,t))return n}function V(t,e,i){var n,r,o,s,a,l,c,u,h="width"in e||"height"in e,d=this,p={},f=t.style,m=t.nodeType&&Qt(t),g=Rt.get(t,"fxshow");for(n in i.queue||(null==(s=Ct._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,d.always((function(){d.always((function(){s.unqueued--,Ct.queue(t,"fx").length||s.empty.fire()}))}))),e)if(r=e[n],Se.test(r)){if(delete e[n],o=o||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!g||void 0===g[n])continue;m=!0}p[n]=g&&g[n]||Ct.style(t,n)}if((l=!Ct.isEmptyObject(e))||!Ct.isEmptyObject(p))for(n in h&&1===t.nodeType&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=g&&g.display)&&(c=Rt.get(t,"display")),"none"===(u=Ct.css(t,"display"))&&(c?u=c:(w([t],!0),c=t.style.display||c,u=Ct.css(t,"display"),w([t]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===Ct.css(t,"float")&&(l||(d.done((function(){f.display=c})),null==c&&(u=f.display,c="none"===u?"":u)),f.display="inline-block")),i.overflow&&(f.overflow="hidden",d.always((function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]}))),l=!1,p)l||(g?"hidden"in g&&(m=g.hidden):g=Rt.access(t,"fxshow",{display:c}),o&&(g.hidden=!m),m&&w([t],!0),d.done((function(){for(n in m||w([t]),Rt.remove(t,"fxshow"),p)Ct.style(t,n,p[n])}))),l=Y(m?g[n]:0,n,d),n in g||(g[n]=l.start,m&&(l.end=l.start,l.start=0))}function K(t,e){var i,n,r,o,s;for(i in t)if(r=e[n=f(i)],o=t[i],Array.isArray(o)&&(r=o[1],o=t[i]=o[0]),i!==n&&(t[n]=o,delete t[i]),(s=Ct.cssHooks[n])&&"expand"in s)for(i in o=s.expand(o),delete t[n],o)i in t||(t[i]=o[i],e[i]=r);else e[n]=r}function Q(t,e,i){var n,r,o=0,s=Q.prefilters.length,a=Ct.Deferred().always((function(){delete l.elem})),l=function(){if(r)return!1;for(var e=ke||X(),i=Math.max(0,c.startTime+c.duration-e),n=1-(i/c.duration||0),o=0,s=c.tweens.length;o<s;o++)c.tweens[o].run(n);return a.notifyWith(t,[c,n,i]),n<1&&s?i:(s||a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:Ct.extend({},e),opts:Ct.extend(!0,{specialEasing:{},easing:Ct.easing._default},i),originalProperties:e,originalOptions:i,startTime:ke||X(),duration:i.duration,tweens:[],createTween:function(e,i){var n=Ct.Tween(t,c.opts,e,i,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var i=0,n=e?c.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)c.tweens[i].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),u=c.props;for(K(u,c.opts.specialEasing);o<s;o++)if(n=Q.prefilters[o].call(c,t,u,c.opts))return bt(n.stop)&&(Ct._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return Ct.map(u,Y,c),bt(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),Ct.fx.timer(Ct.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c}function J(t){return(t.match(It)||[]).join(" ")}function Z(t){return t.getAttribute&&t.getAttribute("class")||""}function tt(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(It)||[]}function et(t,e,i,r){var o;if(Array.isArray(e))Ct.each(e,(function(e,n){i||ze.test(t)?r(t,n):et(t+"["+("object"==typeof n&&null!=n?e:"")+"]",n,i,r)}));else if(i||"object"!==n(e))r(t,e);else for(o in e)et(t+"["+o+"]",e[o],i,r)}function it(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,r=0,o=e.toLowerCase().match(It)||[];if(bt(i))for(;n=o[r++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function nt(t,e,i,n){function r(a){var l;return o[a]=!0,Ct.each(t[a]||[],(function(t,a){var c=a(e,i,n);return"string"!=typeof c||s||o[c]?s?!(l=c):void 0:(e.dataTypes.unshift(c),r(c),!1)})),l}var o={},s=t===Ve;return r(e.dataTypes[0])||!o["*"]&&r("*")}function rt(t,e){var i,n,r=Ct.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&Ct.extend(!0,t,n),t}function ot(t,e,i){for(var n,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(r in a)if(a[r]&&a[r].test(n)){l.unshift(r);break}if(l[0]in i)o=l[0];else{for(r in i){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),i[o]}function st(t,e,i,n){var r,o,s,a,l,c={},u=t.dataTypes.slice();if(u[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=u.shift();o;)if(t.responseFields[o]&&(i[t.responseFields[o]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(r in c)if((a=r.split(" "))[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[r]:!0!==c[r]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}var at=[],lt=Object.getPrototypeOf,ct=at.slice,ut=at.flat?function(t){return at.flat.call(t)}:function(t){return at.concat.apply([],t)},ht=at.push,dt=at.indexOf,pt={},ft=pt.toString,mt=pt.hasOwnProperty,gt=mt.toString,vt=gt.call(Object),yt={},bt=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},wt=function(t){return null!=t&&t===t.window},xt=t.document,_t={type:!0,src:!0,nonce:!0,noModule:!0},kt="3.5.1",Ct=function(t,e){return new Ct.fn.init(t,e)};Ct.fn=Ct.prototype={jquery:kt,constructor:Ct,length:0,toArray:function(){return ct.call(this)},get:function(t){return null==t?ct.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=Ct.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return Ct.each(this,t)},map:function(t){return this.pushStack(Ct.map(this,(function(e,i){return t.call(e,i,e)})))},slice:function(){return this.pushStack(ct.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(Ct.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(Ct.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:ht,sort:at.sort,splice:at.splice},Ct.extend=Ct.fn.extend=function(){var t,e,i,n,r,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||bt(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)n=t[e],"__proto__"!==e&&s!==n&&(c&&n&&(Ct.isPlainObject(n)||(r=Array.isArray(n)))?(i=s[e],o=r&&!Array.isArray(i)?[]:r||Ct.isPlainObject(i)?i:{},r=!1,s[e]=Ct.extend(c,o,n)):void 0!==n&&(s[e]=n));return s},Ct.extend({expando:"jQuery"+(kt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==ft.call(t))&&(!(e=lt(t))||"function"==typeof(i=mt.call(e,"constructor")&&e.constructor)&&gt.call(i)===vt)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){i(t,{nonce:e&&e.nonce},n)},each:function(t,e){var i,n=0;if(r(t))for(i=t.length;n<i&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},makeArray:function(t,e){var i=e||[];return null!=t&&(r(Object(t))?Ct.merge(i,"string"==typeof t?[t]:t):ht.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:dt.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,r=t.length;n<i;n++)t[r++]=e[n];return t.length=r,t},grep:function(t,e,i){for(var n=[],r=0,o=t.length,s=!i;r<o;r++)!e(t[r],r)!==s&&n.push(t[r]);return n},map:function(t,e,i){var n,o,s=0,a=[];if(r(t))for(n=t.length;s<n;s++)null!=(o=e(t[s],s,i))&&a.push(o);else for(s in t)null!=(o=e(t[s],s,i))&&a.push(o);return ut(a)},guid:1,support:yt}),"function"==typeof Symbol&&(Ct.fn[Symbol.iterator]=at[Symbol.iterator]),Ct.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){pt["[object "+e+"]"]=e.toLowerCase()}));var St=function(t){function e(t,e,i,n){var r,o,s,a,l,c,u,d=e&&e.ownerDocument,f=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==f&&9!==f&&11!==f)return i;if(!n&&(O(e),e=e||D,$)){if(11!==f&&(l=bt.exec(t)))if(r=l[1]){if(9===f){if(!(s=e.getElementById(r)))return i;if(s.id===r)return i.push(s),i}else if(d&&(s=d.getElementById(r))&&F(e,s)&&s.id===r)return i.push(s),i}else{if(l[2])return Z.apply(i,e.getElementsByTagName(t)),i;if((r=l[3])&&_.getElementsByClassName&&e.getElementsByClassName)return Z.apply(i,e.getElementsByClassName(r)),i}if(_.qsa&&!G[t+" "]&&(!N||!N.test(t))&&(1!==f||"object"!==e.nodeName.toLowerCase())){if(u=t,d=e,1===f&&(ht.test(t)||ut.test(t))){for((d=wt.test(t)&&h(e.parentNode)||e)===e&&_.scope||((a=e.getAttribute("id"))?a=a.replace(kt,Ct):e.setAttribute("id",a=q)),o=(c=T(t)).length;o--;)c[o]=(a?"#"+a:":scope")+" "+p(c[o]);u=c.join(",")}try{return Z.apply(i,d.querySelectorAll(u)),i}catch(e){G(t,!0)}finally{a===q&&e.removeAttribute("id")}}}return E(t.replace(lt,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>k.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[q]=!0,t}function r(t){var e=D.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var i=t.split("|"),n=i.length;n--;)k.attrHandle[i[n]]=e}function s(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function a(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function l(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function c(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&Tt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function u(t){return n((function(e){return e=+e,n((function(i,n){for(var r,o=t([],i.length,e),s=o.length;s--;)i[r=o[s]]&&(i[r]=!(n[r]=i[r]))}))}))}function h(t){return t&&void 0!==t.getElementsByTagName&&t}function d(){}function p(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function f(t,e,i){var n=e.dir,r=e.next,o=r||n,s=i&&"parentNode"===o,a=H++;return e.first?function(e,i,r){for(;e=e[n];)if(1===e.nodeType||s)return t(e,i,r);return!1}:function(e,i,l){var c,u,h,d=[B,a];if(l){for(;e=e[n];)if((1===e.nodeType||s)&&t(e,i,l))return!0}else for(;e=e[n];)if(1===e.nodeType||s)if(u=(h=e[q]||(e[q]={}))[e.uniqueID]||(h[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[n]||e;else{if((c=u[o])&&c[0]===B&&c[1]===a)return d[2]=c[2];if(u[o]=d,d[2]=t(e,i,l))return!0}return!1}}function m(t){return t.length>1?function(e,i,n){for(var r=t.length;r--;)if(!t[r](e,i,n))return!1;return!0}:t[0]}function g(t,i,n){for(var r=0,o=i.length;r<o;r++)e(t,i[r],n);return n}function v(t,e,i,n,r){for(var o,s=[],a=0,l=t.length,c=null!=e;a<l;a++)(o=t[a])&&(i&&!i(o,n,r)||(s.push(o),c&&e.push(a)));return s}function y(t,e,i,r,o,s){return r&&!r[q]&&(r=y(r)),o&&!o[q]&&(o=y(o,s)),n((function(n,s,a,l){var c,u,h,d=[],p=[],f=s.length,m=n||g(e||"*",a.nodeType?[a]:a,[]),y=!t||!n&&e?m:v(m,d,t,a,l),b=i?o||(n?t:f||r)?[]:s:y;if(i&&i(y,b,a,l),r)for(c=v(b,p),r(c,[],a,l),u=c.length;u--;)(h=c[u])&&(b[p[u]]=!(y[p[u]]=h));if(n){if(o||t){if(o){for(c=[],u=b.length;u--;)(h=b[u])&&c.push(y[u]=h);o(null,b=[],c,l)}for(u=b.length;u--;)(h=b[u])&&(c=o?et(n,h):d[u])>-1&&(n[c]=!(s[c]=h))}}else b=v(b===s?b.splice(f,b.length):b),o?o(null,s,b,l):Z.apply(s,b)}))}function b(t){for(var e,i,n,r=t.length,o=k.relative[t[0].type],s=o||k.relative[" "],a=o?1:0,l=f((function(t){return t===e}),s,!0),c=f((function(t){return et(e,t)>-1}),s,!0),u=[function(t,i,n){var r=!o&&(n||i!==P)||((e=i).nodeType?l(t,i,n):c(t,i,n));return e=null,r}];a<r;a++)if(i=k.relative[t[a].type])u=[f(m(u),i)];else{if((i=k.filter[t[a].type].apply(null,t[a].matches))[q]){for(n=++a;n<r&&!k.relative[t[n].type];n++);return y(a>1&&m(u),a>1&&p(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(lt,"$1"),i,a<n&&b(t.slice(a,n)),n<r&&b(t=t.slice(n)),n<r&&p(t))}u.push(i)}return m(u)}function w(t,i){var r=i.length>0,o=t.length>0,s=function(n,s,a,l,c){var u,h,d,p=0,f="0",m=n&&[],g=[],y=P,b=n||o&&k.find.TAG("*",c),w=B+=null==y?1:Math.random()||.1,x=b.length;for(c&&(P=s==D||s||c);f!==x&&null!=(u=b[f]);f++){if(o&&u){for(h=0,s||u.ownerDocument==D||(O(u),a=!$);d=t[h++];)if(d(u,s||D,a)){l.push(u);break}c&&(B=w)}r&&((u=!d&&u)&&p--,n&&m.push(u))}if(p+=f,r&&f!==p){for(h=0;d=i[h++];)d(m,g,s,a);if(n){if(p>0)for(;f--;)m[f]||g[f]||(g[f]=Q.call(l));g=v(g)}Z.apply(l,g),c&&!n&&g.length>0&&p+i.length>1&&e.uniqueSort(l)}return c&&(B=w,P=y),m};return r?n(s):s}var x,_,k,C,S,T,A,E,P,M,L,O,D,I,$,N,z,j,F,q="sizzle"+1*new Date,R=t.document,B=0,H=0,U=i(),W=i(),X=i(),G=i(),Y=function(t,e){return t===e&&(L=!0),0},V={}.hasOwnProperty,K=[],Q=K.pop,J=K.push,Z=K.push,tt=K.slice,et=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},it="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\[\\da-fA-F]{1,6}"+nt+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",ot="\\["+nt+"*("+rt+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+nt+"*\\]",st=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),lt=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ct=new RegExp("^"+nt+"*,"+nt+"*"),ut=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ht=new RegExp(nt+"|>"),dt=new RegExp(st),pt=new RegExp("^"+rt+"$"),ft={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt+"|[*])"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+it+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},mt=/HTML$/i,gt=/^(?:input|select|textarea|button)$/i,vt=/^h\d$/i,yt=/^[^{]+\{\s*\[native \w/,bt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,wt=/[+~]/,xt=new RegExp("\\\\[\\da-fA-F]{1,6}"+nt+"?|\\\\([^\\r\\n\\f])","g"),_t=function(t,e){var i="0x"+t.slice(1)-65536;return e||(i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320))},kt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Ct=function(t,e){return e?"\0"===t?"\ufffd":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},St=function(){O()},Tt=f((function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{Z.apply(K=tt.call(R.childNodes),R.childNodes),K[R.childNodes.length].nodeType}catch(t){Z={apply:K.length?function(t,e){J.apply(t,tt.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}for(x in _=e.support={},S=e.isXML=function(t){var e=t.namespaceURI,i=(t.ownerDocument||t).documentElement;return!mt.test(e||i&&i.nodeName||"HTML")},O=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:R;return n!=D&&9===n.nodeType&&n.documentElement?(I=(D=n).documentElement,$=!S(D),R!=D&&(i=D.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",St,!1):i.attachEvent&&i.attachEvent("onunload",St)),_.scope=r((function(t){return I.appendChild(t).appendChild(D.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length})),_.attributes=r((function(t){return t.className="i",!t.getAttribute("className")})),_.getElementsByTagName=r((function(t){return t.appendChild(D.createComment("")),!t.getElementsByTagName("*").length})),_.getElementsByClassName=yt.test(D.getElementsByClassName),_.getById=r((function(t){return I.appendChild(t).id=q,!D.getElementsByName||!D.getElementsByName(q).length})),_.getById?(k.filter.ID=function(t){var e=t.replace(xt,_t);return function(t){return t.getAttribute("id")===e}},k.find.ID=function(t,e){if(void 0!==e.getElementById&&$){var i=e.getElementById(t);return i?[i]:[]}}):(k.filter.ID=function(t){var e=t.replace(xt,_t);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}},k.find.ID=function(t,e){if(void 0!==e.getElementById&&$){var i,n,r,o=e.getElementById(t);if(o){if((i=o.getAttributeNode("id"))&&i.value===t)return[o];for(r=e.getElementsByName(t),n=0;o=r[n++];)if((i=o.getAttributeNode("id"))&&i.value===t)return[o]}return[]}}),k.find.TAG=_.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):_.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;i=o[r++];)1===i.nodeType&&n.push(i);return n}return o},k.find.CLASS=_.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&$)return e.getElementsByClassName(t)},z=[],N=[],(_.qsa=yt.test(D.querySelectorAll))&&(r((function(t){var e;I.appendChild(t).innerHTML="<a id='"+q+"'></a><select id='"+q+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&N.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||N.push("\\["+nt+"*(?:value|"+it+")"),t.querySelectorAll("[id~="+q+"-]").length||N.push("~="),(e=D.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||N.push("\\["+nt+"*name"+nt+"*="+nt+"*(?:''|\"\")"),t.querySelectorAll(":checked").length||N.push(":checked"),t.querySelectorAll("a#"+q+"+*").length||N.push(".#.+[+~]"),t.querySelectorAll("\\\f"),N.push("[\\r\\n\\f]")})),r((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=D.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&N.push("name"+nt+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&N.push(":enabled",":disabled"),I.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&N.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),N.push(",.*:")}))),(_.matchesSelector=yt.test(j=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&r((function(t){_.disconnectedMatch=j.call(t,"*"),j.call(t,"[s!='']:x"),z.push("!=",st)})),N=N.length&&new RegExp(N.join("|")),z=z.length&&new RegExp(z.join("|")),e=yt.test(I.compareDocumentPosition),F=e||yt.test(I.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},Y=e?function(t,e){if(t===e)return L=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!_.sortDetached&&e.compareDocumentPosition(t)===i?t==D||t.ownerDocument==R&&F(R,t)?-1:e==D||e.ownerDocument==R&&F(R,e)?1:M?et(M,t)-et(M,e):0:4&i?-1:1)}:function(t,e){if(t===e)return L=!0,0;var i,n=0,r=t.parentNode,o=e.parentNode,a=[t],l=[e];if(!r||!o)return t==D?-1:e==D?1:r?-1:o?1:M?et(M,t)-et(M,e):0;if(r===o)return s(t,e);for(i=t;i=i.parentNode;)a.unshift(i);for(i=e;i=i.parentNode;)l.unshift(i);for(;a[n]===l[n];)n++;return n?s(a[n],l[n]):a[n]==R?-1:l[n]==R?1:0},D):D},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if(O(t),_.matchesSelector&&$&&!G[i+" "]&&(!z||!z.test(i))&&(!N||!N.test(i)))try{var n=j.call(t,i);if(n||_.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){G(i,!0)}return e(i,D,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!=D&&O(t),F(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!=D&&O(t);var i=k.attrHandle[e.toLowerCase()],n=i&&V.call(k.attrHandle,e.toLowerCase())?i(t,e,!$):void 0;return void 0!==n?n:_.attributes||!$?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.escape=function(t){return(t+"").replace(kt,Ct)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,r=0;if(L=!_.detectDuplicates,M=!_.sortStable&&t.slice(0),t.sort(Y),L){for(;e=t[r++];)e===t[r]&&(n=i.push(r));for(;n--;)t.splice(i[n],1)}return M=null,t},C=e.getText=function(t){var e,i="",n=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=C(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[n++];)i+=C(e);return i},k=e.selectors={cacheLength:50,createPseudo:n,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(xt,_t),t[3]=(t[3]||t[4]||t[5]||"").replace(xt,_t),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&dt.test(i)&&(e=T(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(xt,_t).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=U[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&U(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,i,n){return function(r){var o=e.attr(r,t);return null==o?"!="===i:!i||(o+="","="===i?o===n:"!="===i?o!==n:"^="===i?n&&0===o.indexOf(n):"*="===i?n&&o.indexOf(n)>-1:"$="===i?n&&o.slice(-n.length)===n:"~="===i?(" "+o.replace(at," ")+" ").indexOf(n)>-1:"|="===i&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,i,n,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===r?function(t){return!!t.parentNode}:function(e,i,l){var c,u,h,d,p,f,m=o!==s?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(g){if(o){for(;m;){for(d=e;d=d[m];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&y){for(b=(p=(c=(u=(h=(d=g)[q]||(d[q]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===B&&c[1])&&c[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(b=p=0)||f.pop();)if(1===d.nodeType&&++b&&d===e){u[t]=[B,p,b];break}}else if(y&&(b=p=(c=(u=(h=(d=e)[q]||(d[q]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===B&&c[1]),
!1===b)for(;(d=++p&&d&&d[m]||(b=p=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++b||(y&&((u=(h=d[q]||(d[q]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]=[B,b]),d!==e)););return(b-=r)===n||b%n==0&&b/n>=0}}},PSEUDO:function(t,i){var r,o=k.pseudos[t]||k.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[q]?o(i):o.length>1?(r=[t,t,"",i],k.setFilters.hasOwnProperty(t.toLowerCase())?n((function(t,e){for(var n,r=o(t,i),s=r.length;s--;)t[n=et(t,r[s])]=!(e[n]=r[s])})):function(t){return o(t,0,r)}):o}},pseudos:{not:n((function(t){var e=[],i=[],r=A(t.replace(lt,"$1"));return r[q]?n((function(t,e,i,n){for(var o,s=r(t,null,n,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))})):function(t,n,o){return e[0]=t,r(e,null,o,i),e[0]=null,!i.pop()}})),has:n((function(t){return function(i){return e(t,i).length>0}})),contains:n((function(t){return t=t.replace(xt,_t),function(e){return(e.textContent||C(e)).indexOf(t)>-1}})),lang:n((function(t){return pt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(xt,_t).toLowerCase(),function(e){var i;do{if(i=$?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===I},focus:function(t){return t===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:c(!1),disabled:c(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!k.pseudos.empty(t)},header:function(t){return vt.test(t.nodeName)},input:function(t){return gt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u((function(){return[0]})),last:u((function(t,e){return[e-1]})),eq:u((function(t,e,i){return[i<0?i+e:i]})),even:u((function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t})),odd:u((function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t})),lt:u((function(t,e,i){for(var n=i<0?i+e:i>e?e:i;--n>=0;)t.push(n);return t})),gt:u((function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t}))}},k.pseudos.nth=k.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[x]=a(x);for(x in{submit:!0,reset:!0})k.pseudos[x]=l(x);return d.prototype=k.filters=k.pseudos,k.setFilters=new d,T=e.tokenize=function(t,i){var n,r,o,s,a,l,c,u=W[t+" "];if(u)return i?0:u.slice(0);for(a=t,l=[],c=k.preFilter;a;){for(s in n&&!(r=ct.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),n=!1,(r=ut.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(lt," ")}),a=a.slice(n.length)),k.filter)!(r=ft[s].exec(a))||c[s]&&!(r=c[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return i?a.length:a?e.error(t):W(t,l).slice(0)},A=e.compile=function(t,e){var i,n=[],r=[],o=X[t+" "];if(!o){for(e||(e=T(t)),i=e.length;i--;)(o=b(e[i]))[q]?n.push(o):r.push(o);(o=X(t,w(r,n))).selector=t}return o},E=e.select=function(t,e,i,n){var r,o,s,a,l,c="function"==typeof t&&t,u=!n&&T(t=c.selector||t);if(i=i||[],1===u.length){if((o=u[0]=u[0].slice(0)).length>2&&"ID"===(s=o[0]).type&&9===e.nodeType&&$&&k.relative[o[1].type]){if(!(e=(k.find.ID(s.matches[0].replace(xt,_t),e)||[])[0]))return i;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=ft.needsContext.test(t)?0:o.length;r--&&(s=o[r],!k.relative[a=s.type]);)if((l=k.find[a])&&(n=l(s.matches[0].replace(xt,_t),wt.test(o[0].type)&&h(e.parentNode)||e))){if(o.splice(r,1),!(t=n.length&&p(o)))return Z.apply(i,n),i;break}}return(c||A(t,u))(n,e,!$,i,!e||wt.test(t)&&h(e.parentNode)||e),i},_.sortStable=q.split("").sort(Y).join("")===q,_.detectDuplicates=!!L,O(),_.sortDetached=r((function(t){return 1&t.compareDocumentPosition(D.createElement("fieldset"))})),r((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||o("type|href|height|width",(function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),_.attributes&&r((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||o("value",(function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),r((function(t){return null==t.getAttribute("disabled")}))||o(it,(function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null})),e}(t);Ct.find=St,Ct.expr=St.selectors,Ct.expr[":"]=Ct.expr.pseudos,Ct.uniqueSort=Ct.unique=St.uniqueSort,Ct.text=St.getText,Ct.isXMLDoc=St.isXML,Ct.contains=St.contains,Ct.escapeSelector=St.escape;var Tt=function(t,e,i){for(var n=[],r=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&Ct(t).is(i))break;n.push(t)}return n},At=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},Et=Ct.expr.match.needsContext,Pt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;Ct.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?Ct.find.matchesSelector(n,t)?[n]:[]:Ct.find.matches(t,Ct.grep(e,(function(t){return 1===t.nodeType})))},Ct.fn.extend({find:function(t){var e,i,n=this.length,r=this;if("string"!=typeof t)return this.pushStack(Ct(t).filter((function(){for(e=0;e<n;e++)if(Ct.contains(r[e],this))return!0})));for(i=this.pushStack([]),e=0;e<n;e++)Ct.find(t,r[e],i);return n>1?Ct.uniqueSort(i):i},filter:function(t){return this.pushStack(s(this,t||[],!1))},not:function(t){return this.pushStack(s(this,t||[],!0))},is:function(t){return!!s(this,"string"==typeof t&&Et.test(t)?Ct(t):t||[],!1).length}});var Mt,Lt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(Ct.fn.init=function(t,e,i){var n,r;if(!t)return this;if(i=i||Mt,"string"==typeof t){if(!(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:Lt.exec(t))||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof Ct?e[0]:e,Ct.merge(this,Ct.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:xt,!0)),Pt.test(n[1])&&Ct.isPlainObject(e))for(n in e)bt(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return(r=xt.getElementById(n[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):bt(t)?void 0!==i.ready?i.ready(t):t(Ct):Ct.makeArray(t,this)}).prototype=Ct.fn,Mt=Ct(xt);var Ot=/^(?:parents|prev(?:Until|All))/,Dt={children:!0,contents:!0,next:!0,prev:!0};Ct.fn.extend({has:function(t){var e=Ct(t,this),i=e.length;return this.filter((function(){for(var t=0;t<i;t++)if(Ct.contains(this,e[t]))return!0}))},closest:function(t,e){var i,n=0,r=this.length,o=[],s="string"!=typeof t&&Ct(t);if(!Et.test(t))for(;n<r;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&Ct.find.matchesSelector(i,t))){o.push(i);break}return this.pushStack(o.length>1?Ct.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?dt.call(Ct(t),this[0]):dt.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(Ct.uniqueSort(Ct.merge(this.get(),Ct(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),Ct.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Tt(t,"parentNode")},parentsUntil:function(t,e,i){return Tt(t,"parentNode",i)},next:function(t){return a(t,"nextSibling")},prev:function(t){return a(t,"previousSibling")},nextAll:function(t){return Tt(t,"nextSibling")},prevAll:function(t){return Tt(t,"previousSibling")},nextUntil:function(t,e,i){return Tt(t,"nextSibling",i)},prevUntil:function(t,e,i){return Tt(t,"previousSibling",i)},siblings:function(t){return At((t.parentNode||{}).firstChild,t)},children:function(t){return At(t.firstChild)},contents:function(t){return null!=t.contentDocument&&lt(t.contentDocument)?t.contentDocument:(o(t,"template")&&(t=t.content||t),Ct.merge([],t.childNodes))}},(function(t,e){Ct.fn[t]=function(i,n){var r=Ct.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=Ct.filter(n,r)),this.length>1&&(Dt[t]||Ct.uniqueSort(r),Ot.test(t)&&r.reverse()),this.pushStack(r)}}));var It=/[^\x20\t\r\n\f]+/g;Ct.Callbacks=function(t){t="string"==typeof t?l(t):Ct.extend({},t);var e,i,r,o,s=[],a=[],c=-1,u=function(){for(o=o||t.once,r=e=!0;a.length;c=-1)for(i=a.shift();++c<s.length;)!1===s[c].apply(i[0],i[1])&&t.stopOnFalse&&(c=s.length,i=!1);t.memory||(i=!1),e=!1,o&&(s=i?[]:"")},h={add:function(){return s&&(i&&!e&&(c=s.length-1,a.push(i)),function e(i){Ct.each(i,(function(i,r){bt(r)?t.unique&&h.has(r)||s.push(r):r&&r.length&&"string"!==n(r)&&e(r)}))}(arguments),i&&!e&&u()),this},remove:function(){return Ct.each(arguments,(function(t,e){for(var i;(i=Ct.inArray(e,s,i))>-1;)s.splice(i,1),i<=c&&c--})),this},has:function(t){return t?Ct.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return o=a=[],s=i="",this},disabled:function(){return!s},lock:function(){return o=a=[],i||e||(s=i=""),this},locked:function(){return!!o},fireWith:function(t,i){return o||(i=[t,(i=i||[]).slice?i.slice():i],a.push(i),e||u()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!r}};return h},Ct.extend({Deferred:function(e){var i=[["notify","progress",Ct.Callbacks("memory"),Ct.Callbacks("memory"),2],["resolve","done",Ct.Callbacks("once memory"),Ct.Callbacks("once memory"),0,"resolved"],["reject","fail",Ct.Callbacks("once memory"),Ct.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return Ct.Deferred((function(e){Ct.each(i,(function(i,n){var r=bt(t[n[4]])&&t[n[4]];o[n[1]]((function(){var t=r&&r.apply(this,arguments);t&&bt(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[n[0]+"With"](this,r?[t]:arguments)}))})),t=null})).promise()},then:function(e,n,r){function o(e,i,n,r){return function(){var a=this,l=arguments,h=function(){var t,h;if(!(e<s)){if((t=n.apply(a,l))===i.promise())throw new TypeError("Thenable self-resolution");h=t&&("object"==typeof t||"function"==typeof t)&&t.then,bt(h)?r?h.call(t,o(s,i,c,r),o(s,i,u,r)):(s++,h.call(t,o(s,i,c,r),o(s,i,u,r),o(s,i,c,i.notifyWith))):(n!==c&&(a=void 0,l=[t]),(r||i.resolveWith)(a,l))}},d=r?h:function(){try{h()}catch(t){Ct.Deferred.exceptionHook&&Ct.Deferred.exceptionHook(t,d.stackTrace),e+1>=s&&(n!==u&&(a=void 0,l=[t]),i.rejectWith(a,l))}};e?d():(Ct.Deferred.getStackHook&&(d.stackTrace=Ct.Deferred.getStackHook()),t.setTimeout(d))}}var s=0;return Ct.Deferred((function(t){i[0][3].add(o(0,t,bt(r)?r:c,t.notifyWith)),i[1][3].add(o(0,t,bt(e)?e:c)),i[2][3].add(o(0,t,bt(n)?n:u))})).promise()},promise:function(t){return null!=t?Ct.extend(t,r):r}},o={};return Ct.each(i,(function(t,e){var s=e[2],a=e[5];r[e[1]]=s.add,a&&s.add((function(){n=a}),i[3-t][2].disable,i[3-t][3].disable,i[0][2].lock,i[0][3].lock),s.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?void 0:this,arguments),this},o[e[0]+"With"]=s.fireWith})),r.promise(o),e&&e.call(o,o),o},when:function(t){var e=arguments.length,i=e,n=Array(i),r=ct.call(arguments),o=Ct.Deferred(),s=function(t){return function(i){n[t]=this,r[t]=arguments.length>1?ct.call(arguments):i,--e||o.resolveWith(n,r)}};if(e<=1&&(h(t,o.done(s(i)).resolve,o.reject,!e),"pending"===o.state()||bt(r[i]&&r[i].then)))return o.then();for(;i--;)h(r[i],s(i),o.reject);return o.promise()}});var $t=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;Ct.Deferred.exceptionHook=function(e,i){t.console&&t.console.warn&&e&&$t.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,i)},Ct.readyException=function(e){t.setTimeout((function(){throw e}))};var Nt=Ct.Deferred();Ct.fn.ready=function(t){return Nt.then(t).catch((function(t){Ct.readyException(t)})),this},Ct.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--Ct.readyWait:Ct.isReady)||(Ct.isReady=!0,!0!==t&&--Ct.readyWait>0||Nt.resolveWith(xt,[Ct]))}}),Ct.ready.then=Nt.then,"complete"===xt.readyState||"loading"!==xt.readyState&&!xt.documentElement.doScroll?t.setTimeout(Ct.ready):(xt.addEventListener("DOMContentLoaded",d),t.addEventListener("load",d));var zt=function(t,e,i,r,o,s,a){var l=0,c=t.length,u=null==i;if("object"===n(i))for(l in o=!0,i)zt(t,e,l,i[l],!0,s,a);else if(void 0!==r&&(o=!0,bt(r)||(a=!0),u&&(a?(e.call(t,r),e=null):(u=e,e=function(t,e,i){return u.call(Ct(t),i)})),e))for(;l<c;l++)e(t[l],i,a?r:r.call(t[l],l,e(t[l],i)));return o?t:u?e.call(t):c?e(t[0],i):s},jt=/^-ms-/,Ft=/-([a-z])/g,qt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};m.uid=1,m.prototype={cache:function(t){var e=t[this.expando];return e||(e={},qt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,r=this.cache(t);if("string"==typeof e)r[f(e)]=i;else for(n in e)r[f(n)]=e[n];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][f(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){i=(e=Array.isArray(e)?e.map(f):(e=f(e))in n?[e]:e.match(It)||[]).length;for(;i--;)delete n[e[i]]}(void 0===e||Ct.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!Ct.isEmptyObject(e)}};var Rt=new m,Bt=new m,Ht=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ut=/[A-Z]/g;Ct.extend({hasData:function(t){return Bt.hasData(t)||Rt.hasData(t)},data:function(t,e,i){return Bt.access(t,e,i)},removeData:function(t,e){Bt.remove(t,e)},_data:function(t,e,i){return Rt.access(t,e,i)},_removeData:function(t,e){Rt.remove(t,e)}}),Ct.fn.extend({data:function(t,e){var i,n,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=Bt.get(o),1===o.nodeType&&!Rt.get(o,"hasDataAttrs"))){for(i=s.length;i--;)s[i]&&0===(n=s[i].name).indexOf("data-")&&(n=f(n.slice(5)),v(o,n,r[n]));Rt.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each((function(){Bt.set(this,t)})):zt(this,(function(e){var i;if(o&&void 0===e)return void 0!==(i=Bt.get(o,t))||void 0!==(i=v(o,t))?i:void 0;this.each((function(){Bt.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){Bt.remove(this,t)}))}}),Ct.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=Rt.get(t,e),i&&(!n||Array.isArray(i)?n=Rt.access(t,e,Ct.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=Ct.queue(t,e),n=i.length,r=i.shift(),o=Ct._queueHooks(t,e),s=function(){Ct.dequeue(t,e)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!n&&o&&o.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return Rt.get(t,i)||Rt.access(t,i,{empty:Ct.Callbacks("once memory").add((function(){Rt.remove(t,[e+"queue",i])}))})}}),Ct.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?Ct.queue(this[0],t):void 0===e?this:this.each((function(){var i=Ct.queue(this,t,e);Ct._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&Ct.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){Ct.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,r=Ct.Deferred(),o=this,s=this.length,a=function(){--n||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(i=Rt.get(o[s],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),r.promise(e)}});var Wt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Xt=new RegExp("^(?:([+-])=|)("+Wt+")([a-z%]*)$","i"),Gt=["Top","Right","Bottom","Left"],Yt=xt.documentElement,Vt=function(t){return Ct.contains(t.ownerDocument,t)},Kt={composed:!0};Yt.getRootNode&&(Vt=function(t){return Ct.contains(t.ownerDocument,t)||t.getRootNode(Kt)===t.ownerDocument});var Qt=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&Vt(t)&&"none"===Ct.css(t,"display")},Jt={};Ct.fn.extend({show:function(){return w(this,!0)},hide:function(){return w(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){Qt(this)?Ct(this).show():Ct(this).hide()}))}});var Zt,te,ee=/^(?:checkbox|radio)$/i,ie=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ne=/^$|^module$|\/(?:java|ecma)script/i;Zt=xt.createDocumentFragment().appendChild(xt.createElement("div")),(te=xt.createElement("input")).setAttribute("type","radio"),te.setAttribute("checked","checked"),te.setAttribute("name","t"),Zt.appendChild(te),yt.checkClone=Zt.cloneNode(!0).cloneNode(!0).lastChild.checked,Zt.innerHTML="<textarea>x</textarea>",yt.noCloneChecked=!!Zt.cloneNode(!0).lastChild.defaultValue,Zt.innerHTML="<option></option>",yt.option=!!Zt.lastChild;var re={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};re.tbody=re.tfoot=re.colgroup=re.caption=re.thead,re.th=re.td,yt.option||(re.optgroup=re.option=[1,"<select multiple='multiple'>","</select>"]);var oe=/<|&#?\w+;/,se=/^key/,ae=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,le=/^([^.]*)(?:\.(.+)|)/;Ct.event={global:{},add:function(t,e,i,n,r){var o,s,a,l,c,u,h,d,p,f,m,g=Rt.get(t);if(qt(t))for(i.handler&&(i=(o=i).handler,r=o.selector),r&&Ct.find.matchesSelector(Yt,r),i.guid||(i.guid=Ct.guid++),(l=g.events)||(l=g.events=Object.create(null)),(s=g.handle)||(s=g.handle=function(e){return void 0!==Ct&&Ct.event.triggered!==e.type?Ct.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(It)||[""]).length;c--;)p=m=(a=le.exec(e[c])||[])[1],f=(a[2]||"").split(".").sort(),p&&(h=Ct.event.special[p]||{},p=(r?h.delegateType:h.bindType)||p,h=Ct.event.special[p]||{},u=Ct.extend({type:p,origType:m,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&Ct.expr.match.needsContext.test(r),namespace:f.join(".")},o),(d=l[p])||((d=l[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,n,f,s)||t.addEventListener&&t.addEventListener(p,s)),h.add&&(h.add.call(t,u),u.handler.guid||(u.handler.guid=i.guid)),r?d.splice(d.delegateCount++,0,u):d.push(u),Ct.event.global[p]=!0)},remove:function(t,e,i,n,r){var o,s,a,l,c,u,h,d,p,f,m,g=Rt.hasData(t)&&Rt.get(t);if(g&&(l=g.events)){for(c=(e=(e||"").match(It)||[""]).length;c--;)if(p=m=(a=le.exec(e[c])||[])[1],f=(a[2]||"").split(".").sort(),p){for(h=Ct.event.special[p]||{},d=l[p=(n?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)u=d[o],!r&&m!==u.origType||i&&i.guid!==u.guid||a&&!a.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(d.splice(o,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(t,u));s&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,f,g.handle)||Ct.removeEvent(t,p,g.handle),delete l[p])}else for(p in l)Ct.event.remove(t,p+e[c],i,n,!0);Ct.isEmptyObject(l)&&Rt.remove(t,"handle events")}},dispatch:function(t){var e,i,n,r,o,s,a=new Array(arguments.length),l=Ct.event.fix(t),c=(Rt.get(this,"events")||Object.create(null))[l.type]||[],u=Ct.event.special[l.type]||{};for(a[0]=l,e=1;e<arguments.length;e++)a[e]=arguments[e];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(s=Ct.event.handlers.call(this,l,c),e=0;(r=s[e++])&&!l.isPropagationStopped();)for(l.currentTarget=r.elem,i=0;(o=r.handlers[i++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==o.namespace&&!l.rnamespace.test(o.namespace)||(l.handleObj=o,l.data=o.data,void 0!==(n=((Ct.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a))&&!1===(l.result=n)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(t,e){var i,n,r,o,s,a=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(o=[],s={},i=0;i<l;i++)void 0===s[r=(n=e[i]).selector+" "]&&(s[r]=n.needsContext?Ct(r,this).index(c)>-1:Ct.find(r,this,null,[c]).length),s[r]&&o.push(n);o.length&&a.push({elem:c,handlers:o})}return c=this,l<e.length&&a.push({elem:c,handlers:e.slice(l)}),a},addProp:function(t,e){Object.defineProperty(Ct.Event.prototype,t,{enumerable:!0,configurable:!0,get:bt(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[Ct.expando]?t:new Ct.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return ee.test(e.type)&&e.click&&o(e,"input")&&P(e,"click",C),!1},trigger:function(t){var e=this||t;return ee.test(e.type)&&e.click&&o(e,"input")&&P(e,"click"),!0},_default:function(t){var e=t.target;return ee.test(e.type)&&e.click&&o(e,"input")&&Rt.get(e,"click")||o(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},Ct.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},Ct.Event=function(t,e){if(!(this instanceof Ct.Event))return new Ct.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?C:S,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&Ct.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[Ct.expando]=!0},Ct.Event.prototype={constructor:Ct.Event,isDefaultPrevented:S,isPropagationStopped:S,isImmediatePropagationStopped:S,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=C,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=C,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=C,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},Ct.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&se.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&ae.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},Ct.event.addProp),Ct.each({focus:"focusin",blur:"focusout"},(function(t,e){Ct.event.special[t]={setup:function(){return P(this,t,T),!1},trigger:function(){return P(this,t),!0},delegateType:e}})),Ct.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){Ct.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===n||Ct.contains(n,r))||(t.type=o.origType,i=o.handler.apply(this,arguments),t.type=e),i}}})),Ct.fn.extend({on:function(t,e,i,n){return E(this,t,e,i,n)},one:function(t,e,i,n){return E(this,t,e,i,n,1)},off:function(t,e,i){var n,r;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,Ct(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=S),this.each((function(){Ct.event.remove(this,t,i,e)}))}});var ce=/<script|<style|<link/i,ue=/checked\s*(?:[^=]|=\s*.checked.)/i,he=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;Ct.extend({htmlPrefilter:function(t){return t},clone:function(t,e,i){var n,r,o,s,a=t.cloneNode(!0),l=Vt(t);if(!(yt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Ct.isXMLDoc(t)))for(s=x(a),n=0,r=(o=x(t)).length;n<r;n++)I(o[n],s[n]);if(e)if(i)for(o=o||x(t),s=s||x(a),n=0,r=o.length;n<r;n++)D(o[n],s[n]);else D(t,a);return(s=x(a,"script")).length>0&&_(s,!l&&x(t,"script")),a},cleanData:function(t){for(var e,i,n,r=Ct.event.special,o=0;void 0!==(i=t[o]);o++)if(qt(i)){if(e=i[Rt.expando]){if(e.events)for(n in e.events)r[n]?Ct.event.remove(i,n):Ct.removeEvent(i,n,e.handle);i[Rt.expando]=void 0}i[Bt.expando]&&(i[Bt.expando]=void 0)}}}),Ct.fn.extend({detach:function(t){return N(this,t,!0)},remove:function(t){return N(this,t)},text:function(t){return zt(this,(function(t){return void 0===t?Ct.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return $(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||M(this,t).appendChild(t)}))},prepend:function(){return $(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=M(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return $(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return $(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(Ct.cleanData(x(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return Ct.clone(this,t,e)}))},html:function(t){return zt(this,(function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!ce.test(t)&&!re[(ie.exec(t)||["",""])[1].toLowerCase()]){t=Ct.htmlPrefilter(t);try{for(;i<n;i++)1===(e=this[i]||{}).nodeType&&(Ct.cleanData(x(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return $(this,arguments,(function(e){var i=this.parentNode;Ct.inArray(this,t)<0&&(Ct.cleanData(x(this)),i&&i.replaceChild(e,this))}),t)}}),Ct.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){Ct.fn[t]=function(t){for(var i,n=[],r=Ct(t),o=r.length-1,s=0;s<=o;s++)i=s===o?this:this.clone(!0),Ct(r[s])[e](i),ht.apply(n,i.get());return this.pushStack(n)}}));var de=new RegExp("^("+Wt+")(?!px)[a-z%]+$","i"),pe=function(e){var i=e.ownerDocument.defaultView;return i&&i.opener||(i=t),i.getComputedStyle(e)},fe=function(t,e,i){var n,r,o={};for(r in e)o[r]=t.style[r],t.style[r]=e[r];for(r in n=i.call(t),e)t.style[r]=o[r];return n},me=new RegExp(Gt.join("|"),"i");!function(){function e(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Yt.appendChild(c).appendChild(u);var e=t.getComputedStyle(u);n="1%"!==e.top,l=12===i(e.marginLeft),u.style.right="60%",s=36===i(e.right),r=36===i(e.width),u.style.position="absolute",o=12===i(u.offsetWidth/3),Yt.removeChild(c),u=null}}function i(t){return Math.round(parseFloat(t))}var n,r,o,s,a,l,c=xt.createElement("div"),u=xt.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",yt.clearCloneStyle="content-box"===u.style.backgroundClip,Ct.extend(yt,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,i,n,r;return null==a&&(e=xt.createElement("table"),i=xt.createElement("tr"),n=xt.createElement("div"),e.style.cssText="position:absolute;left:-11111px",i.style.height="1px",n.style.height="9px",Yt.appendChild(e).appendChild(i).appendChild(n),r=t.getComputedStyle(i),a=parseInt(r.height)>3,Yt.removeChild(e)),a}}))}();var ge=["Webkit","Moz","ms"],ve=xt.createElement("div").style,ye={},be=/^(none|table(?!-c[ea]).+)/,we=/^--/,xe={position:"absolute",visibility:"hidden",display:"block"},_e={letterSpacing:"0",fontWeight:"400"};Ct.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=z(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=f(e),l=we.test(e),c=t.style;if(l||(e=q(a)),s=Ct.cssHooks[e]||Ct.cssHooks[a],void 0===i)return s&&"get"in s&&void 0!==(r=s.get(t,!1,n))?r:c[e];"string"===(o=typeof i)&&(r=Xt.exec(i))&&r[1]&&(i=y(t,e,r),o="number"),null!=i&&i==i&&("number"!==o||l||(i+=r&&r[3]||(Ct.cssNumber[a]?"":"px")),yt.clearCloneStyle||""!==i||0!==e.indexOf("background")||(c[e]="inherit"),s&&"set"in s&&void 0===(i=s.set(t,i,n))||(l?c.setProperty(e,i):c[e]=i))}},css:function(t,e,i,n){var r,o,s,a=f(e);return we.test(e)||(e=q(a)),(s=Ct.cssHooks[e]||Ct.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,i)),void 0===r&&(r=z(t,e,n)),"normal"===r&&e in _e&&(r=_e[e]),""===i||i?(o=parseFloat(r),!0===i||isFinite(o)?o||0:r):r}}),Ct.each(["height","width"],(function(t,e){Ct.cssHooks[e]={get:function(t,i,n){if(i)return!be.test(Ct.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?H(t,e,n):fe(t,xe,(function(){return H(t,e,n)}))},set:function(t,i,n){var r,o=pe(t),s=!yt.scrollboxSize()&&"absolute"===o.position,a=(s||n)&&"border-box"===Ct.css(t,"boxSizing",!1,o),l=n?B(t,e,n,a,o):0;return a&&s&&(l-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-B(t,e,"border",!1,o)-.5)),l&&(r=Xt.exec(i))&&"px"!==(r[3]||"px")&&(t.style[e]=i,i=Ct.css(t,e)),R(t,i,l)}}})),Ct.cssHooks.marginLeft=j(yt.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(z(t,"marginLeft"))||t.getBoundingClientRect().left-fe(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),Ct.each({margin:"",padding:"",border:"Width"},(function(t,e){Ct.cssHooks[t+e]={expand:function(i){for(var n=0,r={},o="string"==typeof i?i.split(" "):[i];n<4;n++)r[t+Gt[n]+e]=o[n]||o[n-2]||o[0];return r}},"margin"!==t&&(Ct.cssHooks[t+e].set=R)})),Ct.fn.extend({css:function(t,e){return zt(this,(function(t,e,i){var n,r,o={},s=0;if(Array.isArray(e)){for(n=pe(t),r=e.length;s<r;s++)o[e[s]]=Ct.css(t,e[s],!1,n);return o}return void 0!==i?Ct.style(t,e,i):Ct.css(t,e)}),t,e,arguments.length>1)}}),Ct.Tween=U,U.prototype={constructor:U,init:function(t,e,i,n,r,o){this.elem=t,this.prop=i,this.easing=r||Ct.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=o||(Ct.cssNumber[i]?"":"px")},cur:function(){var t=U.propHooks[this.prop];return t&&t.get?t.get(this):U.propHooks._default.get(this)},run:function(t){var e,i=U.propHooks[this.prop];return this.options.duration?this.pos=e=Ct.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):U.propHooks._default.set(this),this}},U.prototype.init.prototype=U.prototype,U.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=Ct.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){Ct.fx.step[t.prop]?Ct.fx.step[t.prop](t):1!==t.elem.nodeType||!Ct.cssHooks[t.prop]&&null==t.elem.style[q(t.prop)]?t.elem[t.prop]=t.now:Ct.style(t.elem,t.prop,t.now+t.unit)}}},U.propHooks.scrollTop=U.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},Ct.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},Ct.fx=U.prototype.init,Ct.fx.step={};var ke,Ce,Se=/^(?:toggle|show|hide)$/,Te=/queueHooks$/;Ct.Animation=Ct.extend(Q,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e)
;return y(i.elem,t,Xt.exec(e),i),i}]},tweener:function(t,e){bt(t)?(e=t,t=["*"]):t=t.match(It);for(var i,n=0,r=t.length;n<r;n++)i=t[n],Q.tweeners[i]=Q.tweeners[i]||[],Q.tweeners[i].unshift(e)},prefilters:[V],prefilter:function(t,e){e?Q.prefilters.unshift(t):Q.prefilters.push(t)}}),Ct.speed=function(t,e,i){var n=t&&"object"==typeof t?Ct.extend({},t):{complete:i||!i&&e||bt(t)&&t,duration:t,easing:i&&e||e&&!bt(e)&&e};return Ct.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in Ct.fx.speeds?n.duration=Ct.fx.speeds[n.duration]:n.duration=Ct.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){bt(n.old)&&n.old.call(this),n.queue&&Ct.dequeue(this,n.queue)},n},Ct.fn.extend({fadeTo:function(t,e,i,n){return this.filter(Qt).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=Ct.isEmptyObject(t),o=Ct.speed(e,i,n),s=function(){var e=Q(this,Ct.extend({},t),o);(r||Rt.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each((function(){var e=!0,r=null!=t&&t+"queueHooks",o=Ct.timers,s=Rt.get(this);if(r)s[r]&&s[r].stop&&n(s[r]);else for(r in s)s[r]&&s[r].stop&&Te.test(r)&&n(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(i),e=!1,o.splice(r,1));!e&&i||Ct.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,i=Rt.get(this),n=i[t+"queue"],r=i[t+"queueHooks"],o=Ct.timers,s=n?n.length:0;for(i.finish=!0,Ct.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish}))}}),Ct.each(["toggle","show","hide"],(function(t,e){var i=Ct.fn[e];Ct.fn[e]=function(t,n,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(G(e,!0),t,n,r)}})),Ct.each({slideDown:G("show"),slideUp:G("hide"),slideToggle:G("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){Ct.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}})),Ct.timers=[],Ct.fx.tick=function(){var t,e=0,i=Ct.timers;for(ke=Date.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||Ct.fx.stop(),ke=void 0},Ct.fx.timer=function(t){Ct.timers.push(t),Ct.fx.start()},Ct.fx.interval=13,Ct.fx.start=function(){Ce||(Ce=!0,W())},Ct.fx.stop=function(){Ce=null},Ct.fx.speeds={slow:600,fast:200,_default:400},Ct.fn.delay=function(e,i){return e=Ct.fx&&Ct.fx.speeds[e]||e,i=i||"fx",this.queue(i,(function(i,n){var r=t.setTimeout(i,e);n.stop=function(){t.clearTimeout(r)}}))},function(){var t=xt.createElement("input"),e=xt.createElement("select").appendChild(xt.createElement("option"));t.type="checkbox",yt.checkOn=""!==t.value,yt.optSelected=e.selected,(t=xt.createElement("input")).value="t",t.type="radio",yt.radioValue="t"===t.value}();var Ae,Ee=Ct.expr.attrHandle;Ct.fn.extend({attr:function(t,e){return zt(this,Ct.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){Ct.removeAttr(this,t)}))}}),Ct.extend({attr:function(t,e,i){var n,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?Ct.prop(t,e,i):(1===o&&Ct.isXMLDoc(t)||(r=Ct.attrHooks[e.toLowerCase()]||(Ct.expr.match.bool.test(e)?Ae:void 0)),void 0!==i?null===i?void Ct.removeAttr(t,e):r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:(t.setAttribute(e,i+""),i):r&&"get"in r&&null!==(n=r.get(t,e))?n:null==(n=Ct.find.attr(t,e))?void 0:n)},attrHooks:{type:{set:function(t,e){if(!yt.radioValue&&"radio"===e&&o(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,r=e&&e.match(It);if(r&&1===t.nodeType)for(;i=r[n++];)t.removeAttribute(i)}}),Ae={set:function(t,e,i){return!1===e?Ct.removeAttr(t,i):t.setAttribute(i,i),i}},Ct.each(Ct.expr.match.bool.source.match(/\w+/g),(function(t,e){var i=Ee[e]||Ct.find.attr;Ee[e]=function(t,e,n){var r,o,s=e.toLowerCase();return n||(o=Ee[s],Ee[s]=r,r=null!=i(t,e,n)?s:null,Ee[s]=o),r}}));var Pe=/^(?:input|select|textarea|button)$/i,Me=/^(?:a|area)$/i;Ct.fn.extend({prop:function(t,e){return zt(this,Ct.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[Ct.propFix[t]||t]}))}}),Ct.extend({prop:function(t,e,i){var n,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&Ct.isXMLDoc(t)||(e=Ct.propFix[e]||e,r=Ct.propHooks[e]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:t[e]=i:r&&"get"in r&&null!==(n=r.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=Ct.find.attr(t,"tabindex");return e?parseInt(e,10):Pe.test(t.nodeName)||Me.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),yt.optSelected||(Ct.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),Ct.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){Ct.propFix[this.toLowerCase()]=this})),Ct.fn.extend({addClass:function(t){var e,i,n,r,o,s,a,l=0;if(bt(t))return this.each((function(e){Ct(this).addClass(t.call(this,e,Z(this)))}));if((e=tt(t)).length)for(;i=this[l++];)if(r=Z(i),n=1===i.nodeType&&" "+J(r)+" "){for(s=0;o=e[s++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");r!==(a=J(n))&&i.setAttribute("class",a)}return this},removeClass:function(t){var e,i,n,r,o,s,a,l=0;if(bt(t))return this.each((function(e){Ct(this).removeClass(t.call(this,e,Z(this)))}));if(!arguments.length)return this.attr("class","");if((e=tt(t)).length)for(;i=this[l++];)if(r=Z(i),n=1===i.nodeType&&" "+J(r)+" "){for(s=0;o=e[s++];)for(;n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");r!==(a=J(n))&&i.setAttribute("class",a)}return this},toggleClass:function(t,e){var i=typeof t,n="string"===i||Array.isArray(t);return"boolean"==typeof e&&n?e?this.addClass(t):this.removeClass(t):bt(t)?this.each((function(i){Ct(this).toggleClass(t.call(this,i,Z(this),e),e)})):this.each((function(){var e,r,o,s;if(n)for(r=0,o=Ct(this),s=tt(t);e=s[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==i||((e=Z(this))&&Rt.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Rt.get(this,"__className__")||""))}))},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+J(Z(i))+" ").indexOf(e)>-1)return!0;return!1}});var Le=/\r/g;Ct.fn.extend({val:function(t){var e,i,n,r=this[0];return arguments.length?(n=bt(t),this.each((function(i){var r;1===this.nodeType&&(null==(r=n?t.call(this,i,Ct(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=Ct.map(r,(function(t){return null==t?"":t+""}))),(e=Ct.valHooks[this.type]||Ct.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))}))):r?(e=Ct.valHooks[r.type]||Ct.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(r,"value"))?i:"string"==typeof(i=r.value)?i.replace(Le,""):null==i?"":i:void 0}}),Ct.extend({valHooks:{option:{get:function(t){var e=Ct.find.attr(t,"value");return null!=e?e:J(Ct.text(t))}},select:{get:function(t){var e,i,n,r=t.options,s=t.selectedIndex,a="select-one"===t.type,l=a?null:[],c=a?s+1:r.length;for(n=s<0?c:a?s:0;n<c;n++)if(((i=r[n]).selected||n===s)&&!i.disabled&&(!i.parentNode.disabled||!o(i.parentNode,"optgroup"))){if(e=Ct(i).val(),a)return e;l.push(e)}return l},set:function(t,e){for(var i,n,r=t.options,o=Ct.makeArray(e),s=r.length;s--;)((n=r[s]).selected=Ct.inArray(Ct.valHooks.option.get(n),o)>-1)&&(i=!0);return i||(t.selectedIndex=-1),o}}}}),Ct.each(["radio","checkbox"],(function(){Ct.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=Ct.inArray(Ct(t).val(),e)>-1}},yt.checkOn||(Ct.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),yt.focusin="onfocusin"in t;var Oe=/^(?:focusinfocus|focusoutblur)$/,De=function(t){t.stopPropagation()};Ct.extend(Ct.event,{trigger:function(e,i,n,r){var o,s,a,l,c,u,h,d,p=[n||xt],f=mt.call(e,"type")?e.type:e,m=mt.call(e,"namespace")?e.namespace.split("."):[];if(s=d=a=n=n||xt,3!==n.nodeType&&8!==n.nodeType&&!Oe.test(f+Ct.event.triggered)&&(f.indexOf(".")>-1&&(m=f.split("."),f=m.shift(),m.sort()),c=f.indexOf(":")<0&&"on"+f,(e=e[Ct.expando]?e:new Ct.Event(f,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:Ct.makeArray(i,[e]),h=Ct.event.special[f]||{},r||!h.trigger||!1!==h.trigger.apply(n,i))){if(!r&&!h.noBubble&&!wt(n)){for(l=h.delegateType||f,Oe.test(l+f)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(n.ownerDocument||xt)&&p.push(a.defaultView||a.parentWindow||t)}for(o=0;(s=p[o++])&&!e.isPropagationStopped();)d=s,e.type=o>1?l:h.bindType||f,(u=(Rt.get(s,"events")||Object.create(null))[e.type]&&Rt.get(s,"handle"))&&u.apply(s,i),(u=c&&s[c])&&u.apply&&qt(s)&&(e.result=u.apply(s,i),!1===e.result&&e.preventDefault());return e.type=f,r||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(p.pop(),i)||!qt(n)||c&&bt(n[f])&&!wt(n)&&((a=n[c])&&(n[c]=null),Ct.event.triggered=f,e.isPropagationStopped()&&d.addEventListener(f,De),n[f](),e.isPropagationStopped()&&d.removeEventListener(f,De),Ct.event.triggered=void 0,a&&(n[c]=a)),e.result}},simulate:function(t,e,i){var n=Ct.extend(new Ct.Event,i,{type:t,isSimulated:!0});Ct.event.trigger(n,null,e)}}),Ct.fn.extend({trigger:function(t,e){return this.each((function(){Ct.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var i=this[0];if(i)return Ct.event.trigger(t,e,i,!0)}}),yt.focusin||Ct.each({focus:"focusin",blur:"focusout"},(function(t,e){var i=function(t){Ct.event.simulate(e,t.target,Ct.event.fix(t))};Ct.event.special[e]={setup:function(){var n=this.ownerDocument||this.document||this,r=Rt.access(n,e);r||n.addEventListener(t,i,!0),Rt.access(n,e,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this.document||this,r=Rt.access(n,e)-1;r?Rt.access(n,e,r):(n.removeEventListener(t,i,!0),Rt.remove(n,e))}}}));var Ie=t.location,$e={guid:Date.now()},Ne=/\?/;Ct.parseXML=function(e){var i;if(!e||"string"!=typeof e)return null;try{i=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||Ct.error("Invalid XML: "+e),i};var ze=/\[\]$/,je=/\r?\n/g,Fe=/^(?:submit|button|image|reset|file)$/i,qe=/^(?:input|select|textarea|keygen)/i;Ct.param=function(t,e){var i,n=[],r=function(t,e){var i=bt(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!Ct.isPlainObject(t))Ct.each(t,(function(){r(this.name,this.value)}));else for(i in t)et(i,t[i],e,r);return n.join("&")},Ct.fn.extend({serialize:function(){return Ct.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=Ct.prop(this,"elements");return t?Ct.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!Ct(this).is(":disabled")&&qe.test(this.nodeName)&&!Fe.test(t)&&(this.checked||!ee.test(t))})).map((function(t,e){var i=Ct(this).val();return null==i?null:Array.isArray(i)?Ct.map(i,(function(t){return{name:e.name,value:t.replace(je,"\r\n")}})):{name:e.name,value:i.replace(je,"\r\n")}})).get()}});var Re=/%20/g,Be=/#.*$/,He=/([?&])_=[^&]*/,Ue=/^(.*?):[ \t]*([^\r\n]*)$/gm,We=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Xe=/^(?:GET|HEAD)$/,Ge=/^\/\//,Ye={},Ve={},Ke="*/".concat("*"),Qe=xt.createElement("a");Qe.href=Ie.href,Ct.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ie.href,type:"GET",isLocal:We.test(Ie.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ke,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":Ct.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?rt(rt(t,Ct.ajaxSettings),e):rt(Ct.ajaxSettings,t)},ajaxPrefilter:it(Ye),ajaxTransport:it(Ve),ajax:function(e,i){function n(e,i,n,a){var c,d,p,w,x,_=i;u||(u=!0,l&&t.clearTimeout(l),r=void 0,s=a||"",k.readyState=e>0?4:0,c=e>=200&&e<300||304===e,n&&(w=ot(f,k,n)),!c&&Ct.inArray("script",f.dataTypes)>-1&&(f.converters["text script"]=function(){}),w=st(f,w,k,c),c?(f.ifModified&&((x=k.getResponseHeader("Last-Modified"))&&(Ct.lastModified[o]=x),(x=k.getResponseHeader("etag"))&&(Ct.etag[o]=x)),204===e||"HEAD"===f.type?_="nocontent":304===e?_="notmodified":(_=w.state,d=w.data,c=!(p=w.error))):(p=_,!e&&_||(_="error",e<0&&(e=0))),k.status=e,k.statusText=(i||_)+"",c?v.resolveWith(m,[d,_,k]):v.rejectWith(m,[k,_,p]),k.statusCode(b),b=void 0,h&&g.trigger(c?"ajaxSuccess":"ajaxError",[k,f,c?d:p]),y.fireWith(m,[k,_]),h&&(g.trigger("ajaxComplete",[k,f]),--Ct.active||Ct.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=void 0),i=i||{};var r,o,s,a,l,c,u,h,d,p,f=Ct.ajaxSetup({},i),m=f.context||f,g=f.context&&(m.nodeType||m.jquery)?Ct(m):Ct.event,v=Ct.Deferred(),y=Ct.Callbacks("once memory"),b=f.statusCode||{},w={},x={},_="canceled",k={readyState:0,getResponseHeader:function(t){var e;if(u){if(!a)for(a={};e=Ue.exec(s);)a[e[1].toLowerCase()+" "]=(a[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=a[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return u?s:null},setRequestHeader:function(t,e){return null==u&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,w[t]=e),this},overrideMimeType:function(t){return null==u&&(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(u)k.always(t[k.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||_;return r&&r.abort(e),n(0,e),this}};if(v.promise(k),f.url=((e||f.url||Ie.href)+"").replace(Ge,Ie.protocol+"//"),f.type=i.method||i.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(It)||[""],null==f.crossDomain){c=xt.createElement("a");try{c.href=f.url,c.href=c.href,f.crossDomain=Qe.protocol+"//"+Qe.host!=c.protocol+"//"+c.host}catch(t){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=Ct.param(f.data,f.traditional)),nt(Ye,f,i,k),u)return k;for(d in(h=Ct.event&&f.global)&&0==Ct.active++&&Ct.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Xe.test(f.type),o=f.url.replace(Be,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Re,"+")):(p=f.url.slice(o.length),f.data&&(f.processData||"string"==typeof f.data)&&(o+=(Ne.test(o)?"&":"?")+f.data,delete f.data),!1===f.cache&&(o=o.replace(He,"$1"),p=(Ne.test(o)?"&":"?")+"_="+$e.guid+++p),f.url=o+p),f.ifModified&&(Ct.lastModified[o]&&k.setRequestHeader("If-Modified-Since",Ct.lastModified[o]),Ct.etag[o]&&k.setRequestHeader("If-None-Match",Ct.etag[o])),(f.data&&f.hasContent&&!1!==f.contentType||i.contentType)&&k.setRequestHeader("Content-Type",f.contentType),k.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Ke+"; q=0.01":""):f.accepts["*"]),f.headers)k.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(!1===f.beforeSend.call(m,k,f)||u))return k.abort();if(_="abort",y.add(f.complete),k.done(f.success),k.fail(f.error),r=nt(Ve,f,i,k)){if(k.readyState=1,h&&g.trigger("ajaxSend",[k,f]),u)return k;f.async&&f.timeout>0&&(l=t.setTimeout((function(){k.abort("timeout")}),f.timeout));try{u=!1,r.send(w,n)}catch(t){if(u)throw t;n(-1,t)}}else n(-1,"No Transport");return k},getJSON:function(t,e,i){return Ct.get(t,e,i,"json")},getScript:function(t,e){return Ct.get(t,void 0,e,"script")}}),Ct.each(["get","post"],(function(t,e){Ct[e]=function(t,i,n,r){return bt(i)&&(r=r||n,n=i,i=void 0),Ct.ajax(Ct.extend({url:t,type:e,dataType:r,data:i,success:n},Ct.isPlainObject(t)&&t))}})),Ct.ajaxPrefilter((function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")})),Ct._evalUrl=function(t,e,i){return Ct.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){Ct.globalEval(t,e,i)}})},Ct.fn.extend({wrapAll:function(t){var e;return this[0]&&(bt(t)&&(t=t.call(this[0])),e=Ct(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return bt(t)?this.each((function(e){Ct(this).wrapInner(t.call(this,e))})):this.each((function(){var e=Ct(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)}))},wrap:function(t){var e=bt(t);return this.each((function(i){Ct(this).wrapAll(e?t.call(this,i):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){Ct(this).replaceWith(this.childNodes)})),this}}),Ct.expr.pseudos.hidden=function(t){return!Ct.expr.pseudos.visible(t)},Ct.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},Ct.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var Je={0:200,1223:204},Ze=Ct.ajaxSettings.xhr();yt.cors=!!Ze&&"withCredentials"in Ze,yt.ajax=Ze=!!Ze,Ct.ajaxTransport((function(e){var i,n;if(yt.cors||Ze&&!e.crossDomain)return{send:function(r,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);i=function(t){return function(){i&&(i=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Je[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=i(),n=a.onerror=a.ontimeout=i("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout((function(){i&&n()}))},i=i("abort");try{a.send(e.hasContent&&e.data||null)}catch(t){if(i)throw t}},abort:function(){i&&i()}}})),Ct.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),Ct.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return Ct.globalEval(t),t}}}),Ct.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),Ct.ajaxTransport("script",(function(t){var e,i;if(t.crossDomain||t.scriptAttrs)return{send:function(n,r){e=Ct("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&r("error"===t.type?404:200,t.type)}),xt.head.appendChild(e[0])},abort:function(){i&&i()}}}));var ti,ei=[],ii=/(=)\?(?=&|$)|\?\?/;Ct.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ei.pop()||Ct.expando+"_"+$e.guid++;return this[t]=!0,t}}),Ct.ajaxPrefilter("json jsonp",(function(e,i,n){var r,o,s,a=!1!==e.jsonp&&(ii.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&ii.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=bt(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(ii,"$1"+r):!1!==e.jsonp&&(e.url+=(Ne.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||Ct.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},n.always((function(){void 0===o?Ct(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=i.jsonpCallback,ei.push(r)),s&&bt(o)&&o(s[0]),s=o=void 0})),"script"})),yt.createHTMLDocument=((ti=xt.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===ti.childNodes.length),Ct.parseHTML=function(t,e,i){return"string"!=typeof t?[]:("boolean"==typeof e&&(i=e,e=!1),e||(yt.createHTMLDocument?((n=(e=xt.implementation.createHTMLDocument("")).createElement("base")).href=xt.location.href,e.head.appendChild(n)):e=xt),o=!i&&[],(r=Pt.exec(t))?[e.createElement(r[1])]:(r=k([t],e,o),o&&o.length&&Ct(o).remove(),Ct.merge([],r.childNodes)));var n,r,o},Ct.fn.load=function(t,e,i){var n,r,o,s=this,a=t.indexOf(" ");return a>-1&&(n=J(t.slice(a)),t=t.slice(0,a)),bt(e)?(i=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&Ct.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done((function(t){o=arguments,s.html(n?Ct("<div>").append(Ct.parseHTML(t)).find(n):t)})).always(i&&function(t,e){s.each((function(){i.apply(this,o||[t.responseText,e,t])}))}),this},Ct.expr.pseudos.animated=function(t){return Ct.grep(Ct.timers,(function(e){return t===e.elem})).length},Ct.offset={setOffset:function(t,e,i){var n,r,o,s,a,l,c=Ct.css(t,"position"),u=Ct(t),h={};"static"===c&&(t.style.position="relative"),a=u.offset(),o=Ct.css(t,"top"),l=Ct.css(t,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(s=(n=u.position()).top,r=n.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),bt(e)&&(e=e.call(t,i,Ct.extend({},a))),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+r),"using"in e?e.using.call(t,h):("number"==typeof h.top&&(h.top+="px"),"number"==typeof h.left&&(h.left+="px"),u.css(h))}},Ct.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){Ct.offset.setOffset(this,t,e)}));var e,i,n=this[0];return n?n.getClientRects().length?(e=n.getBoundingClientRect(),i=n.ownerDocument.defaultView,{top:e.top+i.pageYOffset,left:e.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,i,n=this[0],r={top:0,left:0};if("fixed"===Ct.css(n,"position"))e=n.getBoundingClientRect();else{for(e=this.offset(),i=n.ownerDocument,t=n.offsetParent||i.documentElement;t&&(t===i.body||t===i.documentElement)&&"static"===Ct.css(t,"position");)t=t.parentNode;t&&t!==n&&1===t.nodeType&&((r=Ct(t).offset()).top+=Ct.css(t,"borderTopWidth",!0),r.left+=Ct.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-Ct.css(n,"marginTop",!0),left:e.left-r.left-Ct.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===Ct.css(t,"position");)t=t.offsetParent;return t||Yt}))}}),Ct.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var i="pageYOffset"===e;Ct.fn[t]=function(n){return zt(this,(function(t,n,r){var o;if(wt(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[n];o?o.scrollTo(i?o.pageXOffset:r,i?r:o.pageYOffset):t[n]=r}),t,n,arguments.length)}})),Ct.each(["top","left"],(function(t,e){Ct.cssHooks[e]=j(yt.pixelPosition,(function(t,i){if(i)return i=z(t,e),de.test(i)?Ct(t).position()[e]+"px":i}))})),Ct.each({Height:"height",Width:"width"},(function(t,e){Ct.each({padding:"inner"+t,content:e,"":"outer"+t},(function(i,n){Ct.fn[n]=function(r,o){var s=arguments.length&&(i||"boolean"!=typeof r),a=i||(!0===r||!0===o?"margin":"border");return zt(this,(function(e,i,r){var o;return wt(e)?0===n.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?Ct.css(e,i,a):Ct.style(e,i,r,a)}),e,s?r:void 0,s)}}))})),Ct.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){Ct.fn[e]=function(t){return this.on(e,t)}})),Ct.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),Ct.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){Ct.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}));var ni=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;Ct.proxy=function(t,e){var i,n,r;if("string"==typeof e&&(i=t[e],e=t,t=i),bt(t))return n=ct.call(arguments,2),r=function(){return t.apply(e||this,n.concat(ct.call(arguments)))},r.guid=t.guid=t.guid||Ct.guid++,r},Ct.holdReady=function(t){t?Ct.readyWait++:Ct.ready(!0)},Ct.isArray=Array.isArray,Ct.parseJSON=JSON.parse,Ct.nodeName=o,Ct.isFunction=bt,Ct.isWindow=wt,Ct.camelCase=f,Ct.type=n,Ct.now=Date.now,Ct.isNumeric=function(t){var e=Ct.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},Ct.trim=function(t){return null==t?"":(t+"").replace(ni,"")},"function"==typeof define&&define.amd&&define("jquery",[],(function(){return Ct}));var ri=t.jQuery,oi=t.$;return Ct.noConflict=function(e){return t.$===Ct&&(t.$=oi),e&&t.jQuery===Ct&&(t.jQuery=ri),Ct},void 0===e&&(t.jQuery=t.$=Ct),Ct})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).Popper={})}(this,(function(t){"use strict";function e(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function i(t){return t instanceof e(t).Element||t instanceof Element}function n(t){return t instanceof e(t).HTMLElement||t instanceof HTMLElement}function r(t){return"undefined"!=typeof ShadowRoot&&(t instanceof e(t).ShadowRoot||t instanceof ShadowRoot)}function o(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map((function(t){return t.brand+"/"+t.version})).join(" "):navigator.userAgent}function s(){return!/^((?!chrome|android).)*safari/i.test(o())}function a(t,r,o){void 0===r&&(r=!1),void 0===o&&(o=!1);var a=t.getBoundingClientRect(),l=1,c=1;r&&n(t)&&(l=t.offsetWidth>0&&W(a.width)/t.offsetWidth||1,c=t.offsetHeight>0&&W(a.height)/t.offsetHeight||1);var u=(i(t)?e(t):window).visualViewport,h=!s()&&o,d=(a.left+(h&&u?u.offsetLeft:0))/l,p=(a.top+(h&&u?u.offsetTop:0))/c,f=a.width/l,m=a.height/c;return{width:f,height:m,top:p,right:d+f,bottom:p+m,left:d,x:d,y:p}}function l(t){var i=e(t);return{scrollLeft:i.pageXOffset,scrollTop:i.pageYOffset}}function c(t){return t?(t.nodeName||"").toLowerCase():null}function u(t){return((i(t)?t.ownerDocument:t.document)||window.document).documentElement}function h(t){return a(u(t)).left+l(t).scrollLeft}function d(t){return e(t).getComputedStyle(t)}function p(t){var e=d(t),i=e.overflow,n=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(i+r+n)}function f(t,i,r){void 0===r&&(r=!1);var o,s,d=n(i),f=n(i)&&function(t){var e=t.getBoundingClientRect(),i=W(e.width)/t.offsetWidth||1,n=W(e.height)/t.offsetHeight||1;return 1!==i||1!==n}(i),m=u(i),g=a(t,f,r),v={scrollLeft:0,scrollTop:0},y={x:0,y:0};return(d||!d&&!r)&&(("body"!==c(i)||p(m))&&(v=(o=i)!==e(o)&&n(o)?{scrollLeft:(s=o).scrollLeft,scrollTop:s.scrollTop}:l(o)),n(i)?((y=a(i,!0)).x+=i.clientLeft,y.y+=i.clientTop):m&&(y.x=h(m))),{x:g.left+v.scrollLeft-y.x,y:g.top+v.scrollTop-y.y,width:g.width,height:g.height}}function m(t){var e=a(t),i=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-i)<=1&&(i=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:n}}function g(t){return"html"===c(t)?t:t.assignedSlot||t.parentNode||(r(t)?t.host:null)||u(t)}function v(t){return["html","body","#document"].indexOf(c(t))>=0?t.ownerDocument.body:n(t)&&p(t)?t:v(g(t))}function y(t,i){var n;void 0===i&&(i=[]);var r=v(t),o=r===(null==(n=t.ownerDocument)?void 0:n.body),s=e(r),a=o?[s].concat(s.visualViewport||[],p(r)?r:[]):r,l=i.concat(a);return o?l:l.concat(y(g(a)))}function b(t){return["table","td","th"].indexOf(c(t))>=0}function w(t){return n(t)&&"fixed"!==d(t).position?t.offsetParent:null}function x(t){for(var i=e(t),s=w(t);s&&b(s)&&"static"===d(s).position;)s=w(s);return s&&("html"===c(s)||"body"===c(s)&&"static"===d(s).position)?i:s||function(t){var e=/firefox/i.test(o());if(/Trident/i.test(o())&&n(t)&&"fixed"===d(t).position)return null;var i=g(t);for(r(i)&&(i=i.host);n(i)&&["html","body"].indexOf(c(i))<0;){var s=d(i);if("none"!==s.transform||"none"!==s.perspective||"paint"===s.contain||-1!==["transform","perspective"].indexOf(s.willChange)||e&&"filter"===s.willChange||e&&s.filter&&"none"!==s.filter)return i;i=i.parentNode}return null}(t)||i}function _(t){function e(t){n.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!n.has(t)){var r=i.get(t);r&&e(r)}})),r.push(t)}var i=new Map,n=new Set,r=[];return t.forEach((function(t){i.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||e(t)})),r}function k(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&r(i)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function C(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function S(t,n,r){return n===tt?C(function(t,i){var n=e(t),r=u(t),o=n.visualViewport,a=r.clientWidth,l=r.clientHeight,c=0,d=0;if(o){a=o.width,l=o.height;var p=s();(p||!p&&"fixed"===i)&&(c=o.offsetLeft,d=o.offsetTop)}return{width:a,height:l,x:c+h(t),y:d}}(t,r)):i(n)?function(t,e){var i=a(t,!1,"fixed"===e);return i.top=i.top+t.clientTop,i.left=i.left+t.clientLeft,i.bottom=i.top+t.clientHeight,i.right=i.left+t.clientWidth,i.width=t.clientWidth,i.height=t.clientHeight,i.x=i.left,i.y=i.top,i}(n,r):C(function(t){var e,i=u(t),n=l(t),r=null==(e=t.ownerDocument)?void 0:e.body,o=H(i.scrollWidth,i.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=H(i.scrollHeight,i.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-n.scrollLeft+h(t),c=-n.scrollTop;return"rtl"===d(r||i).direction&&(a+=H(i.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:c}}(u(t)))}function T(t,e,r,o){var s="clippingParents"===e?function(t){var e=y(g(t)),r=["absolute","fixed"].indexOf(d(t).position)>=0&&n(t)?x(t):t;return i(r)?e.filter((function(t){return i(t)&&k(t,r)&&"body"!==c(t)})):[]}(t):[].concat(e),a=[].concat(s,[r]),l=a[0],u=a.reduce((function(e,i){var n=S(t,i,o);return e.top=H(n.top,e.top),e.right=U(n.right,e.right),e.bottom=U(n.bottom,e.bottom),e.left=H(n.left,e.left),e}),S(t,l,o));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function A(t){return t.split("-")[0]}function E(t){return t.split("-")[1]}function P(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function M(t){var e,i=t.reference,n=t.element,r=t.placement,o=r?A(r):null,s=r?E(r):null,a=i.x+i.width/2-n.width/2,l=i.y+i.height/2-n.height/2;switch(o){case X:e={x:a,y:i.y-n.height};break;case G:e={x:a,y:i.y+i.height};break;case Y:e={x:i.x+i.width,y:l};break;case V:e={x:i.x-n.width,y:l};break;default:e={x:i.x,y:i.y}}var c=o?P(o):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case J:e[c]=e[c]-(i[u]/2-n[u]/2);break;case Z:e[c]=e[c]+(i[u]/2-n[u]/2)}}return e}function L(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function O(t,e){return e.reduce((function(e,i){return e[i]=t,e}),{})}function D(t,e){void 0===e&&(e={});var n=e,r=n.placement,o=void 0===r?t.placement:r,s=n.strategy,l=void 0===s?t.strategy:s,c=n.boundary,h=void 0===c?"clippingParents":c,d=n.rootBoundary,p=void 0===d?tt:d,f=n.elementContext,m=void 0===f?et:f,g=n.altBoundary,v=void 0!==g&&g,y=n.padding,b=void 0===y?0:y,w=L("number"!=typeof b?b:O(b,Q)),x=m===et?"reference":et,_=t.rects.popper,k=t.elements[v?x:m],S=T(i(k)?k:k.contextElement||u(t.elements.popper),h,p,l),A=a(t.elements.reference),E=M({reference:A,element:_,strategy:"absolute",placement:o}),P=C(Object.assign({},_,E)),D=m===et?P:A,I={top:S.top-D.top+w.top,bottom:D.bottom-S.bottom+w.bottom,left:S.left-D.left+w.left,right:D.right-S.right+w.right},$=t.modifiersData.offset;if(m===et&&$){var N=$[o];Object.keys(I).forEach((function(t){var e=[Y,G].indexOf(t)>=0?1:-1,i=[X,G].indexOf(t)>=0?"y":"x";I[t]+=N[i]*e}))}return I}function I(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some((function(t){
return!(t&&"function"==typeof t.getBoundingClientRect)}))}function $(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,r=void 0===n?[]:n,o=e.defaultOptions,s=void 0===o?ot:o;return function(t,e,n){function o(){u.forEach((function(t){return t()})),u=[]}void 0===n&&(n=s);var a,l,c={placement:"bottom",orderedModifiers:[],options:Object.assign({},ot,s),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},u=[],h=!1,d={state:c,setOptions:function(n){var a="function"==typeof n?n(c.options):n;o(),c.options=Object.assign({},s,c.options,a),c.scrollParents={reference:i(t)?y(t):t.contextElement?y(t.contextElement):[],popper:y(e)};var l,h,p=function(t){var e=_(t);return rt.reduce((function(t,i){return t.concat(e.filter((function(t){return t.phase===i})))}),[])}((l=[].concat(r,c.options.modifiers),h=l.reduce((function(t,e){var i=t[e.name];return t[e.name]=i?Object.assign({},i,e,{options:Object.assign({},i.options,e.options),data:Object.assign({},i.data,e.data)}):e,t}),{}),Object.keys(h).map((function(t){return h[t]}))));return c.orderedModifiers=p.filter((function(t){return t.enabled})),c.orderedModifiers.forEach((function(t){var e=t.name,i=t.options,n=void 0===i?{}:i,r=t.effect;if("function"==typeof r){var o=r({state:c,name:e,instance:d,options:n}),s=function(){};u.push(o||s)}})),d.update()},forceUpdate:function(){if(!h){var t=c.elements,e=t.reference,i=t.popper;if(I(e,i)){c.rects={reference:f(e,x(i),"fixed"===c.options.strategy),popper:m(i)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach((function(t){return c.modifiersData[t.name]=Object.assign({},t.data)}));for(var n=0;n<c.orderedModifiers.length;n++)if(!0!==c.reset){var r=c.orderedModifiers[n],o=r.fn,s=r.options,a=void 0===s?{}:s,l=r.name;"function"==typeof o&&(c=o({state:c,options:a,name:l,instance:d})||c)}else c.reset=!1,n=-1}}},update:(a=function(){return new Promise((function(t){d.forceUpdate(),t(c)}))},function(){return l||(l=new Promise((function(t){Promise.resolve().then((function(){l=void 0,t(a())}))}))),l}),destroy:function(){o(),h=!0}};return I(t,e)?(d.setOptions(n).then((function(t){!h&&n.onFirstUpdate&&n.onFirstUpdate(t)})),d):d}}function N(t){var i,n=t.popper,r=t.popperRect,o=t.placement,s=t.variation,a=t.offsets,l=t.position,c=t.gpuAcceleration,h=t.adaptive,p=t.roundOffsets,f=t.isFixed,m=a.x,g=void 0===m?0:m,v=a.y,y=void 0===v?0:v,b="function"==typeof p?p({x:g,y:y}):{x:g,y:y};g=b.x,y=b.y;var w=a.hasOwnProperty("x"),_=a.hasOwnProperty("y"),k=V,C=X,S=window;if(h){var T=x(n),A="clientHeight",E="clientWidth";T===e(n)&&"static"!==d(T=u(n)).position&&"absolute"===l&&(A="scrollHeight",E="scrollWidth"),(o===X||(o===V||o===Y)&&s===Z)&&(C=G,y-=(f&&T===S&&S.visualViewport?S.visualViewport.height:T[A])-r.height,y*=c?1:-1),o!==V&&(o!==X&&o!==G||s!==Z)||(k=Y,g-=(f&&T===S&&S.visualViewport?S.visualViewport.width:T[E])-r.width,g*=c?1:-1)}var P,M=Object.assign({position:l},h&&ct),L=!0===p?function(t,e){var i=t.x,n=t.y,r=e.devicePixelRatio||1;return{x:W(i*r)/r||0,y:W(n*r)/r||0}}({x:g,y:y},e(n)):{x:g,y:y};return g=L.x,y=L.y,c?Object.assign({},M,((P={})[C]=_?"0":"",P[k]=w?"0":"",P.transform=(S.devicePixelRatio||1)<=1?"translate("+g+"px, "+y+"px)":"translate3d("+g+"px, "+y+"px, 0)",P)):Object.assign({},M,((i={})[C]=_?y+"px":"",i[k]=w?g+"px":"",i.transform="",i))}function z(t){return t.replace(/left|right|bottom|top/g,(function(t){return pt[t]}))}function j(t){return t.replace(/start|end/g,(function(t){return ft[t]}))}function F(t,e){void 0===e&&(e={});var i=e,n=i.placement,r=i.boundary,o=i.rootBoundary,s=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,c=void 0===l?nt:l,u=E(n),h=u?a?it:it.filter((function(t){return E(t)===u})):Q,d=h.filter((function(t){return c.indexOf(t)>=0}));0===d.length&&(d=h);var p=d.reduce((function(e,i){return e[i]=D(t,{placement:i,boundary:r,rootBoundary:o,padding:s})[A(i)],e}),{});return Object.keys(p).sort((function(t,e){return p[t]-p[e]}))}function q(t,e,i){return H(t,U(e,i))}function R(t,e,i){return void 0===i&&(i={x:0,y:0}),{top:t.top-e.height-i.y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function B(t){return[X,Y,G,V].some((function(e){return t[e]>=0}))}var H=Math.max,U=Math.min,W=Math.round,X="top",G="bottom",Y="right",V="left",K="auto",Q=[X,G,Y,V],J="start",Z="end",tt="viewport",et="popper",it=Q.reduce((function(t,e){return t.concat([e+"-"+J,e+"-"+Z])}),[]),nt=[].concat(Q,[K]).reduce((function(t,e){return t.concat([e,e+"-"+J,e+"-"+Z])}),[]),rt=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"],ot={placement:"bottom",modifiers:[],strategy:"absolute"},st={passive:!0},at={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var i=t.state,n=t.instance,r=t.options,o=r.scroll,s=void 0===o||o,a=r.resize,l=void 0===a||a,c=e(i.elements.popper),u=[].concat(i.scrollParents.reference,i.scrollParents.popper);return s&&u.forEach((function(t){t.addEventListener("scroll",n.update,st)})),l&&c.addEventListener("resize",n.update,st),function(){s&&u.forEach((function(t){t.removeEventListener("scroll",n.update,st)})),l&&c.removeEventListener("resize",n.update,st)}},data:{}},lt={name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,i=t.name;e.modifiersData[i]=M({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},ct={top:"auto",right:"auto",bottom:"auto",left:"auto"},ut={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,i=t.options,n=i.gpuAcceleration,r=void 0===n||n,o=i.adaptive,s=void 0===o||o,a=i.roundOffsets,l=void 0===a||a,c={placement:A(e.placement),variation:E(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,N(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,N(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},ht={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var i=e.styles[t]||{},r=e.attributes[t]||{},o=e.elements[t];n(o)&&c(o)&&(Object.assign(o.style,i),Object.keys(r).forEach((function(t){var e=r[t];!1===e?o.removeAttribute(t):o.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,i={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow),function(){Object.keys(e.elements).forEach((function(t){var r=e.elements[t],o=e.attributes[t]||{},s=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:i[t]).reduce((function(t,e){return t[e]="",t}),{});n(r)&&c(r)&&(Object.assign(r.style,s),Object.keys(o).forEach((function(t){r.removeAttribute(t)})))}))}},requires:["computeStyles"]},dt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,i=t.options,n=t.name,r=i.offset,o=void 0===r?[0,0]:r,s=nt.reduce((function(t,i){return t[i]=function(t,e,i){var n=A(t),r=[V,X].indexOf(n)>=0?-1:1,o="function"==typeof i?i(Object.assign({},e,{placement:t})):i,s=o[0],a=o[1];return s=s||0,a=(a||0)*r,[V,Y].indexOf(n)>=0?{x:a,y:s}:{x:s,y:a}}(i,e.rects,o),t}),{}),a=s[e.placement],l=a.x,c=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[n]=s}},pt={left:"right",right:"left",bottom:"top",top:"bottom"},ft={start:"end",end:"start"},mt={name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,i=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var r=i.mainAxis,o=void 0===r||r,s=i.altAxis,a=void 0===s||s,l=i.fallbackPlacements,c=i.padding,u=i.boundary,h=i.rootBoundary,d=i.altBoundary,p=i.flipVariations,f=void 0===p||p,m=i.allowedAutoPlacements,g=e.options.placement,v=A(g),y=l||(v!==g&&f?function(t){if(A(t)===K)return[];var e=z(t);return[j(t),e,j(e)]}(g):[z(g)]),b=[g].concat(y).reduce((function(t,i){return t.concat(A(i)===K?F(e,{placement:i,boundary:u,rootBoundary:h,padding:c,flipVariations:f,allowedAutoPlacements:m}):i)}),[]),w=e.rects.reference,x=e.rects.popper,_=new Map,k=!0,C=b[0],S=0;S<b.length;S++){var T=b[S],P=A(T),M=E(T)===J,L=[X,G].indexOf(P)>=0,O=L?"width":"height",I=D(e,{placement:T,boundary:u,rootBoundary:h,altBoundary:d,padding:c}),$=L?M?Y:V:M?G:X;w[O]>x[O]&&($=z($));var N=z($),q=[];if(o&&q.push(I[P]<=0),a&&q.push(I[$]<=0,I[N]<=0),q.every((function(t){return t}))){C=T,k=!1;break}_.set(T,q)}if(k)for(var R=function(t){var e=b.find((function(e){var i=_.get(e);if(i)return i.slice(0,t).every((function(t){return t}))}));if(e)return C=e,"break"},B=f?3:1;B>0&&"break"!==R(B);B--);e.placement!==C&&(e.modifiersData[n]._skip=!0,e.placement=C,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},gt={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,i=t.options,n=t.name,r=i.mainAxis,o=void 0===r||r,s=i.altAxis,a=void 0!==s&&s,l=i.boundary,c=i.rootBoundary,u=i.altBoundary,h=i.padding,d=i.tether,p=void 0===d||d,f=i.tetherOffset,g=void 0===f?0:f,v=D(e,{boundary:l,rootBoundary:c,padding:h,altBoundary:u}),y=A(e.placement),b=E(e.placement),w=!b,_=P(y),k="x"===_?"y":"x",C=e.modifiersData.popperOffsets,S=e.rects.reference,T=e.rects.popper,M="function"==typeof g?g(Object.assign({},e.rects,{placement:e.placement})):g,L="number"==typeof M?{mainAxis:M,altAxis:M}:Object.assign({mainAxis:0,altAxis:0},M),O=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,I={x:0,y:0};if(C){if(o){var $,N="y"===_?X:V,z="y"===_?G:Y,j="y"===_?"height":"width",F=C[_],R=F+v[N],B=F-v[z],W=p?-T[j]/2:0,K=b===J?S[j]:T[j],Q=b===J?-T[j]:-S[j],Z=e.elements.arrow,tt=p&&Z?m(Z):{width:0,height:0},et=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},it=et[N],nt=et[z],rt=q(0,S[j],tt[j]),ot=w?S[j]/2-W-rt-it-L.mainAxis:K-rt-it-L.mainAxis,st=w?-S[j]/2+W+rt+nt+L.mainAxis:Q+rt+nt+L.mainAxis,at=e.elements.arrow&&x(e.elements.arrow),lt=at?"y"===_?at.clientTop||0:at.clientLeft||0:0,ct=null!=($=null==O?void 0:O[_])?$:0,ut=F+st-ct,ht=q(p?U(R,F+ot-ct-lt):R,F,p?H(B,ut):B);C[_]=ht,I[_]=ht-F}if(a){var dt,pt="x"===_?X:V,ft="x"===_?G:Y,mt=C[k],gt="y"===k?"height":"width",vt=mt+v[pt],yt=mt-v[ft],bt=-1!==[X,V].indexOf(y),wt=null!=(dt=null==O?void 0:O[k])?dt:0,xt=bt?vt:mt-S[gt]-T[gt]-wt+L.altAxis,_t=bt?mt+S[gt]+T[gt]-wt-L.altAxis:yt,kt=p&&bt?function(t,e,i){var n=q(t,e,i);return n>i?i:n}(xt,mt,_t):q(p?xt:vt,mt,p?_t:yt);C[k]=kt,I[k]=kt-mt}e.modifiersData[n]=I}},requiresIfExists:["offset"]},vt={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,i=t.state,n=t.name,r=t.options,o=i.elements.arrow,s=i.modifiersData.popperOffsets,a=A(i.placement),l=P(a),c=[V,Y].indexOf(a)>=0?"height":"width";if(o&&s){var u=function(t,e){return L("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:O(t,Q))}(r.padding,i),h=m(o),d="y"===l?X:V,p="y"===l?G:Y,f=i.rects.reference[c]+i.rects.reference[l]-s[l]-i.rects.popper[c],g=s[l]-i.rects.reference[l],v=x(o),y=v?"y"===l?v.clientHeight||0:v.clientWidth||0:0,b=f/2-g/2,w=u[d],_=y-h[c]-u[p],k=y/2-h[c]/2+b,C=q(w,k,_),S=l;i.modifiersData[n]=((e={})[S]=C,e.centerOffset=C-k,e)}},effect:function(t){var e=t.state,i=t.options.element,n=void 0===i?"[data-popper-arrow]":i;null!=n&&("string"!=typeof n||(n=e.elements.popper.querySelector(n)))&&k(e.elements.popper,n)&&(e.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},yt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,i=t.name,n=e.rects.reference,r=e.rects.popper,o=e.modifiersData.preventOverflow,s=D(e,{elementContext:"reference"}),a=D(e,{altBoundary:!0}),l=R(s,n),c=R(a,r,o),u=B(l),h=B(c);e.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}},bt=$({defaultModifiers:[at,lt,ut,ht]}),wt=[at,lt,ut,ht,dt,mt,gt,vt,yt],xt=$({defaultModifiers:wt});t.applyStyles=ht,t.arrow=vt,t.computeStyles=ut,t.createPopper=xt,t.createPopperLite=bt,t.defaultModifiers=wt,t.detectOverflow=D,t.eventListeners=at,t.flip=mt,t.hide=yt,t.offset=dt,t.popperGenerator=$,t.popperOffsets=lt,t.preventOverflow=gt,Object.defineProperty(t,"__esModule",{value:!0})})),window.bootstrap={"@popperjs/core":window.Popper,_originalGlobalThis:window.globalThis},window.globalThis=window.bootstrap,function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Data=e()}(this,(function(){"use strict";const t=new Map;return{set(e,i,n){t.has(e)||t.set(e,new Map);const r=t.get(e);r.has(i)||0===r.size?r.set(i,n):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`)},get:(e,i)=>t.has(e)&&t.get(e).get(i)||null,remove(e,i){if(!t.has(e))return;const n=t.get(e);n.delete(i),0===n.size&&t.delete(e)}}})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).Index={})}(this,(function(t){"use strict";const e=1e6,i=1e3,n="transitionend",r=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,((t,e)=>`#${CSS.escape(e)}`))),t),o=t=>null==t?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),s=t=>{do{t+=Math.floor(Math.random()*e)}while(document.getElementById(t));return t},a=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const r=Number.parseFloat(e),o=Number.parseFloat(n);return r||o?(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*i):0},l=t=>{t.dispatchEvent(new Event(n))},c=t=>!(!t||"object"!=typeof t)&&(void 0!==t.jquery&&(t=t[0]),void 0!==t.nodeType),u=t=>c(t)?t.jquery?t[0]:t:"string"==typeof t&&t.length>0?document.querySelector(r(t)):null,h=t=>{if(!c(t)||0===t.getClientRects().length)return!1;const e="visible"===getComputedStyle(t).getPropertyValue("visibility"),i=t.closest("details:not([open])");if(!i)return e;if(i!==t){const e=t.closest("summary");if(e&&e.parentNode!==i)return!1;if(null===e)return!1}return e},d=t=>!t||t.nodeType!==Node.ELEMENT_NODE||(!!t.classList.contains("disabled")||(void 0!==t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled"))),p=t=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?p(t.parentNode):null},f=()=>{},m=t=>{t.offsetHeight},g=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,v=[],y=t=>{"loading"===document.readyState?(v.length||document.addEventListener("DOMContentLoaded",(()=>{for(const t of v)t()})),v.push(t)):t()},b=()=>"rtl"===document.documentElement.dir,w=t=>{y((()=>{const e=g();if(e){const i=t.NAME,n=e.fn[i];e.fn[i]=t.jQueryInterface,e.fn[i].Constructor=t,e.fn[i].noConflict=()=>(e.fn[i]=n,t.jQueryInterface)}}))},x=(t,e=[],i=t)=>"function"==typeof t?t(...e):i,_=(t,e,i=!0)=>{if(!i)return void x(t);const r=5,o=a(e)+r;let s=!1;const c=({target:i})=>{i===e&&(s=!0,e.removeEventListener(n,c),x(t))};e.addEventListener(n,c),setTimeout((()=>{s||l(e)}),o)},k=(t,e,i,n)=>{const r=t.length;let o=t.indexOf(e);return-1===o?!i&&n?t[r-1]:t[0]:(o+=i?1:-1,n&&(o=(o+r)%r),t[Math.max(0,Math.min(o,r-1))])};t.defineJQueryPlugin=w,t.execute=x,t.executeAfterTransition=_,t.findShadowRoot=p,t.getElement=u,t.getNextActiveElement=k,t.getTransitionDurationFromElement=a,t.getUID=s,t.getjQuery=g,t.isDisabled=d,t.isElement=c,t.isRTL=b,t.isVisible=h,t.noop=f,t.onDOMContentLoaded=y,t.parseSelector=r,t.reflow=m,t.toType=o,t.triggerTransitionEnd=l,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("../util/index.js")):"function"==typeof define&&define.amd?define(["../util/index"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).EventHandler=e(t.Index)}(this,(function(t){"use strict";function e(t,e){return e&&`${e}::${g++}`||t.uidEvent||g++}function i(t){const i=e(t);return t.uidEvent=i,m[i]=m[i]||{},m[i]}function n(t,e){return function i(n){return h(n,{delegateTarget:t}),i.oneOff&&b.off(t,n.type,e),e.apply(t,[n])}}function r(t,e,i){return function n(r){const o=t.querySelectorAll(e);for(let{target:s}=r;s&&s!==this;s=s.parentNode)for(const a of o)if(a===s)return h(r,{delegateTarget:s}),n.oneOff&&b.off(t,r.type,e,i),i.apply(s,[r])}}function o(t,e,i=null){return Object.values(t).find((t=>t.callable===e&&t.delegationSelector===i))}function s(t,e,i){const n="string"==typeof e,r=n?i:e||i;let o=u(t);return y.has(o)||(o=t),[n,r,o]}function a(t,a,l,c,u){if("string"!=typeof a||!t)return;let[h,p,f]=s(a,l,c);if(a in v){const t=t=>function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)};p=t(p)}const m=i(t),g=m[f]||(m[f]={}),y=o(g,p,h?l:null);if(y)return void(y.oneOff=y.oneOff&&u);const b=e(p,a.replace(d,"")),w=h?r(t,l,p):n(t,p);w.delegationSelector=h?l:null,w.callable=p,w.oneOff=u,w.uidEvent=b,g[b]=w,t.addEventListener(f,w,h)}function l(t,e,i,n,r){const s=o(e[i],n,r);s&&(t.removeEventListener(i,s,Boolean(r)),delete e[i][s.uidEvent])}function c(t,e,i,n){const r=e[i]||{};for(const[o,s]of Object.entries(r))o.includes(n)&&l(t,e,i,s.callable,s.delegationSelector)}function u(t){return t=t.replace(p,""),v[t]||t}function h(t,e={}){for(const[i,n]of Object.entries(e))try{t[i]=n}catch(e){Object.defineProperty(t,i,{configurable:!0,get:()=>n})}return t}const d=/[^.]*(?=\..*)\.|.*/,p=/\..*/,f=/::\d+$/,m={};let g=1;const v={mouseenter:"mouseover",mouseleave:"mouseout"},y=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]),b={on(t,e,i,n){a(t,e,i,n,!1)},one(t,e,i,n){a(t,e,i,n,!0)},off(t,e,n,r){if("string"!=typeof e||!t)return;const[o,a,u]=s(e,n,r),h=u!==e,d=i(t),p=d[u]||{},m=e.startsWith(".");if(void 0===a){if(m)for(const i of Object.keys(d))c(t,d,i,e.slice(1));for(const[i,n]of Object.entries(p)){const r=i.replace(f,"");h&&!e.includes(r)||l(t,d,u,n.callable,n.delegationSelector)}}else{if(!Object.keys(p).length)return;l(t,d,u,a,o?n:null)}},trigger(e,i,n){if("string"!=typeof i||!e)return null;const r=t.getjQuery();let o=null,s=!0,a=!0,l=!1;i!==u(i)&&r&&(o=r.Event(i,n),r(e).trigger(o),s=!o.isPropagationStopped(),a=!o.isImmediatePropagationStopped(),l=o.isDefaultPrevented());const c=h(new Event(i,{bubbles:s,cancelable:!0}),n);return l&&c.preventDefault(),a&&e.dispatchEvent(c),c.defaultPrevented&&o&&o.preventDefault(),c}};return b})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Manipulator=e()}(this,(function(){"use strict";function t(t){if("true"===t)return!0;if("false"===t)return!1;if(t===Number(t).toString())return Number(t);if(""===t||"null"===t)return null;if("string"!=typeof t)return t;try{return JSON.parse(decodeURIComponent(t))}catch(e){return t}}function e(t){return t.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`))}return{setDataAttribute(t,i,n){t.setAttribute(`data-bs-${e(i)}`,n)},removeDataAttribute(t,i){t.removeAttribute(`data-bs-${e(i)}`)},getDataAttributes(e){if(!e)return{};const i={},n=Object.keys(e.dataset).filter((t=>t.startsWith("bs")&&!t.startsWith("bsConfig")));for(const r of n){let n=r.replace(/^bs/,"");n=n.charAt(0).toLowerCase()+n.slice(1,n.length),i[n]=t(e.dataset[r])}return i},getDataAttribute:(i,n)=>t(i.getAttribute(`data-bs-${e(n)}`))}})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("../dom/manipulator.js"),require("./index.js")):"function"==typeof define&&define.amd?define(["../dom/manipulator","./index"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).Config=e(t.Manipulator,t.Index)}(this,(function(t,e){"use strict";class i{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(i,n){const r=e.isElement(n)?t.getDataAttribute(n,"config"):{};return{...this.constructor.Default,..."object"==typeof r?r:{},...e.isElement(n)?t.getDataAttributes(n):{},..."object"==typeof i?i:{}}}_typeCheckConfig(t,i=this.constructor.DefaultType){for(const[n,r]of Object.entries(i)){const i=t[n],o=e.isElement(i)?"element":e.toType(i);if(!new RegExp(r).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${o}" but expected type "${r}".`)}}}return i})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("./dom/data.js"),require("./dom/event-handler.js"),require("./util/config.js"),require("./util/index.js")):"function"==typeof define&&define.amd?define(["./dom/data","./dom/event-handler","./util/config","./util/index"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).BaseComponent=e(t.Data,t.EventHandler,t.Config,t.Index)}(this,(function(t,e,i,n){"use strict";const r="5.3.3";class o extends i{constructor(e,i){super(),(e=n.getElement(e))&&(this._element=e,this._config=this._getConfig(i),t.set(this._element,this.constructor.DATA_KEY,this))}dispose(){t.remove(this._element,this.constructor.DATA_KEY),e.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,i=!0){n.executeAfterTransition(t,e,i)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(e){return t.get(n.getElement(e),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return r}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}return o})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("../util/index.js")):"function"==typeof define&&define.amd?define(["../util/index"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).SelectorEngine=e(t.Index)}(this,(function(t){"use strict";const e=e=>{let i=e.getAttribute("data-bs-target");if(!i||"#"===i){let t=e.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),i=t&&"#"!==t?t.trim():null}return i?i.split(",").map((e=>t.parseSelector(e))).join(","):null},i={find:(t,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,t)),findOne:(t,e=document.documentElement)=>Element.prototype.querySelector.call(e,t),children:(t,e)=>[].concat(...t.children).filter((t=>t.matches(e))),parents(t,e){const i=[];let n=t.parentNode.closest(e);for(;n;)i.push(n),n=n.parentNode.closest(e);return i},prev(t,e){let i=t.previousElementSibling;for(;i;){if(i.matches(e))return[i];i=i.previousElementSibling}return[]},next(t,e){let i=t.nextElementSibling;for(;i;){if(i.matches(e))return[i];i=i.nextElementSibling}return[]},focusableChildren(e){const i=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((t=>`${t}:not([tabindex^="-"])`)).join(",");return this.find(i,e).filter((e=>!t.isDisabled(e)&&t.isVisible(e)))},getSelectorFromElement(t){const n=e(t);return n&&i.findOne(n)?n:null},getElementFromSelector(t){const n=e(t);return n?i.findOne(n):null},getMultipleElementsFromSelector(t){const n=e(t);return n?i.find(n):[]}};return i})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("../dom/event-handler.js"),require("./config.js"),require("./index.js")):"function"==typeof define&&define.amd?define(["../dom/event-handler","./config","./index"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).Backdrop=e(t.EventHandler,t.Config,t.Index)}(this,(function(t,e,i){"use strict";const n="backdrop",r="fade",o="show",s=`mousedown.bs.${n}`,a={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},l={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class c extends e{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return a}static get DefaultType(){return l}static get NAME(){return n}show(t){if(!this._config.isVisible)return void i.execute(t);this._append();const e=this._getElement();this._config.isAnimated&&i.reflow(e),e.classList.add(o),this._emulateAnimation((()=>{i.execute(t)}))}hide(t){this._config.isVisible?(this._getElement().classList.remove(o),this._emulateAnimation((()=>{this.dispose(),i.execute(t)}))):i.execute(t)}dispose(){this._isAppended&&(t.off(this._element,s),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(r),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=i.getElement(t.rootElement),t}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),t.on(e,s,(()=>{i.execute(this._config.clickCallback)})),this._isAppended=!0}_emulateAnimation(t){i.executeAfterTransition(t,this._getElement(),this._config.isAnimated)}}return c})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("../dom/event-handler.js"),require("../dom/selector-engine.js"),require("./index.js")):"function"==typeof define&&define.amd?define(["exports","../dom/event-handler","../dom/selector-engine","./index"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).ComponentFunctions={},t.EventHandler,t.SelectorEngine,t.Index)}(this,(function(t,e,i,n){"use strict";const r=(t,r="hide")=>{const o=`click.dismiss${t.EVENT_KEY}`,s=t.NAME;e.on(document,o,`[data-bs-dismiss="${s}"]`,(function(e){if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),n.isDisabled(this))return;const o=i.getElementFromSelector(this)||this.closest(`.${s}`);t.getOrCreateInstance(o)[r]()}))};t.enableDismissTrigger=r,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("../dom/event-handler.js"),require("../dom/selector-engine.js"),require("./config.js")):"function"==typeof define&&define.amd?define(["../dom/event-handler","../dom/selector-engine","./config"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).Focustrap=e(t.EventHandler,t.SelectorEngine,t.Config)}(this,(function(t,e,i){"use strict";const n="focustrap",r=`.${"bs.focustrap"}`,o=`focusin${r}`,s=`keydown.tab${r}`,a="Tab",l="forward",c="backward",u={autofocus:!0,trapElement:null},h={autofocus:"boolean",trapElement:"element"};class d extends i{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return u}static get DefaultType(){return h}static get NAME(){return n}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),t.off(document,r),t.on(document,o,(t=>this._handleFocusin(t))),t.on(document,s,(t=>this._handleKeydown(t))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,t.off(document,r))}_handleFocusin(t){const{trapElement:i}=this._config;if(t.target===document||t.target===i||i.contains(t.target))return;const n=e.focusableChildren(i);0===n.length?i.focus():this._lastTabNavDirection===c?n[n.length-1].focus():n[0].focus()}_handleKeydown(t){t.key===a&&(this._lastTabNavDirection=t.shiftKey?c:l)}}return d})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("../dom/manipulator.js"),require("../dom/selector-engine.js"),require("./index.js")):"function"==typeof define&&define.amd?define(["../dom/manipulator","../dom/selector-engine","./index"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).Scrollbar=e(t.Manipulator,t.SelectorEngine,t.Index)}(this,(function(t,e,i){"use strict";const n=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",r=".sticky-top",o="padding-right",s="margin-right";class a{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,o,(e=>e+t)),this._setElementAttributes(n,o,(e=>e+t)),this._setElementAttributes(r,s,(e=>e-t))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,o),this._resetElementAttributes(n,o),this._resetElementAttributes(r,s)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,i){const n=this.getWidth(),r=t=>{if(t!==this._element&&window.innerWidth>t.clientWidth+n)return;this._saveInitialAttribute(t,e);const r=window.getComputedStyle(t).getPropertyValue(e);t.style.setProperty(e,`${i(Number.parseFloat(r))}px`)};this._applyManipulationCallback(t,r)}_saveInitialAttribute(e,i){const n=e.style.getPropertyValue(i);n&&t.setDataAttribute(e,i,n)}_resetElementAttributes(e,i){const n=e=>{const n=t.getDataAttribute(e,i);null!==n?(t.removeDataAttribute(e,i),e.style.setProperty(i,n)):e.style.removeProperty(i)};this._applyManipulationCallback(e,n)}_applyManipulationCallback(t,n){if(i.isElement(t))n(t);else for(const i of e.find(t,this._element))n(i)}}return a})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("./base-component.js"),require("./dom/event-handler.js"),require("./dom/selector-engine.js"),require("./util/backdrop.js"),require("./util/component-functions.js"),require("./util/focustrap.js"),require("./util/index.js"),require("./util/scrollbar.js")):"function"==typeof define&&define.amd?define(["./base-component","./dom/event-handler","./dom/selector-engine","./util/backdrop","./util/component-functions","./util/focustrap","./util/index","./util/scrollbar"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).Offcanvas=e(t.BaseComponent,t.EventHandler,t.SelectorEngine,t.Backdrop,t.ComponentFunctions,t.Focustrap,t.Index,t.Scrollbar)}(this,(function(t,e,i,n,r,o,s,a){"use strict";const l="offcanvas",c=`.${"bs.offcanvas"}`,u=".data-api",h=`load${c}${u}`,d="Escape",p="show",f="showing",m="hiding",g="offcanvas-backdrop",v=".offcanvas.show",y=`show${c}`,b=`shown${c}`,w=`hide${c}`,x=`hidePrevented${c}`,_=`hidden${c}`,k=`resize${c}`,C=`click${c}${u}`,S=`keydown.dismiss${c}`,T='[data-bs-toggle="offcanvas"]',A={backdrop:!0,keyboard:!0,scroll:!1},E={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class P extends t{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return A}static get DefaultType(){return E}static get NAME(){return l}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown)return;if(e.trigger(this._element,y,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||(new a).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),
this._element.classList.add(f);const i=()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(p),this._element.classList.remove(f),e.trigger(this._element,b,{relatedTarget:t})};this._queueCallback(i,this._element,!0)}hide(){if(!this._isShown)return;if(e.trigger(this._element,w).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(m),this._backdrop.hide();const t=()=>{this._element.classList.remove(p,m),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new a).reset(),e.trigger(this._element,_)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=()=>{"static"!==this._config.backdrop?this.hide():e.trigger(this._element,x)},i=Boolean(this._config.backdrop);return new n({className:g,isVisible:i,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:i?t:null})}_initializeFocusTrap(){return new o({trapElement:this._element})}_addEventListeners(){e.on(this._element,S,(t=>{t.key===d&&(this._config.keyboard?this.hide():e.trigger(this._element,x))}))}static jQueryInterface(t){return this.each((function(){const e=P.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}return e.on(document,C,T,(function(t){const n=i.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),s.isDisabled(this))return;e.one(n,_,(()=>{s.isVisible(this)&&this.focus()}));const r=i.findOne(v);r&&r!==n&&P.getInstance(r).hide();P.getOrCreateInstance(n).toggle(this)})),e.on(window,h,(()=>{for(const t of i.find(v))P.getOrCreateInstance(t).show()})),e.on(window,k,(()=>{for(const t of i.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(t).position&&P.getOrCreateInstance(t).hide()})),r.enableDismissTrigger(P),s.defineJQueryPlugin(P),P})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("@popperjs/core"),require("./base-component.js"),require("./dom/event-handler.js"),require("./dom/manipulator.js"),require("./dom/selector-engine.js"),require("./util/index.js")):"function"==typeof define&&define.amd?define(["@popperjs/core","./base-component","./dom/event-handler","./dom/manipulator","./dom/selector-engine","./util/index"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).Dropdown=e(t["@popperjs/core"],t.BaseComponent,t.EventHandler,t.Manipulator,t.SelectorEngine,t.Index)}(this,(function(t,e,i,n,r,o){"use strict";function s(t){const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t)for(const i in t)if("default"!==i){const n=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,n.get?n:{enumerable:!0,get:()=>t[i]})}return e.default=t,Object.freeze(e)}const a=s(t),l="dropdown",c=`.${"bs.dropdown"}`,u=".data-api",h="Escape",d="Tab",p="ArrowUp",f="ArrowDown",m=2,g=`hide${c}`,v=`hidden${c}`,y=`show${c}`,b=`shown${c}`,w=`click${c}${u}`,x=`keydown${c}${u}`,_=`keyup${c}${u}`,k="show",C="dropup",S="dropend",T="dropstart",A="dropup-center",E="dropdown-center",P='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',M=`${P}.${k}`,L=".dropdown-menu",O=".navbar",D=".navbar-nav",I=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",$=o.isRTL()?"top-end":"top-start",N=o.isRTL()?"top-start":"top-end",z=o.isRTL()?"bottom-end":"bottom-start",j=o.isRTL()?"bottom-start":"bottom-end",F=o.isRTL()?"left-start":"right-start",q=o.isRTL()?"right-start":"left-start",R="top",B="bottom",H={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},U={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class W extends e{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=r.next(this._element,L)[0]||r.prev(this._element,L)[0]||r.findOne(L,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return H}static get DefaultType(){return U}static get NAME(){return l}toggle(){return this._isShown()?this.hide():this.show()}show(){if(o.isDisabled(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!i.trigger(this._element,y,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(D))for(const t of[].concat(...document.body.children))i.on(t,"mouseover",o.noop);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(k),this._element.classList.add(k),i.trigger(this._element,b,t)}}hide(){if(o.isDisabled(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!i.trigger(this._element,g,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))i.off(t,"mouseover",o.noop);this._popper&&this._popper.destroy(),this._menu.classList.remove(k),this._element.classList.remove(k),this._element.setAttribute("aria-expanded","false"),n.removeDataAttribute(this._menu,"popper"),i.trigger(this._element,v,t)}}_getConfig(t){if("object"==typeof(t=super._getConfig(t)).reference&&!o.isElement(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw new TypeError(`${l.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(void 0===a)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;"parent"===this._config.reference?t=this._parent:o.isElement(this._config.reference)?t=o.getElement(this._config.reference):"object"==typeof this._config.reference&&(t=this._config.reference);const e=this._getPopperConfig();this._popper=a.createPopper(t,this._menu,e)}_isShown(){return this._menu.classList.contains(k)}_getPlacement(){const t=this._parent;if(t.classList.contains(S))return F;if(t.classList.contains(T))return q;if(t.classList.contains(A))return R;if(t.classList.contains(E))return B;const e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains(C)?e?N:$:e?j:z}_detectNavbar(){return null!==this._element.closest(O)}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map((t=>Number.parseInt(t,10))):"function"==typeof t?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(n.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...o.execute(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:e}){const i=r.find(I,this._menu).filter((t=>o.isVisible(t)));i.length&&o.getNextActiveElement(i,e,t===f,!i.includes(e)).focus()}static jQueryInterface(t){return this.each((function(){const e=W.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}static clearMenus(t){if(t.button===m||"keyup"===t.type&&t.key!==d)return;const e=r.find(M);for(const i of e){const e=W.getInstance(i);if(!e||!1===e._config.autoClose)continue;const n=t.composedPath(),r=n.includes(e._menu);if(n.includes(e._element)||"inside"===e._config.autoClose&&!r||"outside"===e._config.autoClose&&r)continue;if(e._menu.contains(t.target)&&("keyup"===t.type&&t.key===d||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const o={relatedTarget:e._element};"click"===t.type&&(o.clickEvent=t),e._completeHide(o)}}static dataApiKeydownHandler(t){const e=/input|textarea/i.test(t.target.tagName),i=t.key===h,n=[p,f].includes(t.key);if(!n&&!i)return;if(e&&!i)return;t.preventDefault();const o=this.matches(P)?this:r.prev(this,P)[0]||r.next(this,P)[0]||r.findOne(P,t.delegateTarget.parentNode),s=W.getOrCreateInstance(o);if(n)return t.stopPropagation(),s.show(),void s._selectMenuItem(t);s._isShown()&&(t.stopPropagation(),s.hide(),o.focus())}}return i.on(document,x,P,W.dataApiKeydownHandler),i.on(document,x,L,W.dataApiKeydownHandler),i.on(document,w,W.clearMenus),i.on(document,_,W.clearMenus),i.on(document,w,P,(function(t){t.preventDefault(),W.getOrCreateInstance(this).toggle()})),o.defineJQueryPlugin(W),W})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).Sanitizer={})}(this,(function(t){"use strict";function e(t,e,i){if(!t.length)return t;if(i&&"function"==typeof i)return i(t);const n=(new window.DOMParser).parseFromString(t,"text/html"),r=[].concat(...n.body.querySelectorAll("*"));for(const t of r){const i=t.nodeName.toLowerCase();if(!Object.keys(e).includes(i)){t.remove();continue}const n=[].concat(...t.attributes),r=[].concat(e["*"]||[],e[i]||[]);for(const e of n)o(e,r)||t.removeAttribute(e.nodeName)}return n.body.innerHTML}const i={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},n=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),r=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,o=(t,e)=>{const i=t.nodeName.toLowerCase();return e.includes(i)?!n.has(i)||Boolean(r.test(t.nodeValue)):e.filter((t=>t instanceof RegExp)).some((t=>t.test(i)))};t.DefaultAllowlist=i,t.sanitizeHtml=e,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("../dom/selector-engine.js"),require("./config.js"),require("./sanitizer.js"),require("./index.js")):"function"==typeof define&&define.amd?define(["../dom/selector-engine","./config","./sanitizer","./index"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).TemplateFactory=e(t.SelectorEngine,t.Config,t.Sanitizer,t.Index)}(this,(function(t,e,i,n){"use strict";const r="TemplateFactory",o={allowList:i.DefaultAllowlist,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},s={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},a={entry:"(string|element|function|null)",selector:"(string|element)"};class l extends e{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return o}static get DefaultType(){return s}static get NAME(){return r}getContent(){return Object.values(this._config.content).map((t=>this._resolvePossibleFunction(t))).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[e,i]of Object.entries(this._config.content))this._setContent(t,i,e);const e=t.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&e.classList.add(...i.split(" ")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[e,i]of Object.entries(t))super._typeCheckConfig({selector:e,entry:i},a)}_setContent(e,i,r){const o=t.findOne(r,e);o&&((i=this._resolvePossibleFunction(i))?n.isElement(i)?this._putElementInTemplate(n.getElement(i),o):this._config.html?o.innerHTML=this._maybeSanitize(i):o.textContent=i:o.remove())}_maybeSanitize(t){return this._config.sanitize?i.sanitizeHtml(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return n.execute(t,[this])}_putElementInTemplate(t,e){if(this._config.html)return e.innerHTML="",void e.append(t);e.textContent=t.textContent}}return l})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("@popperjs/core"),require("./base-component.js"),require("./dom/event-handler.js"),require("./dom/manipulator.js"),require("./util/index.js"),require("./util/sanitizer.js"),require("./util/template-factory.js")):"function"==typeof define&&define.amd?define(["@popperjs/core","./base-component","./dom/event-handler","./dom/manipulator","./util/index","./util/sanitizer","./util/template-factory"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).Tooltip=e(t["@popperjs/core"],t.BaseComponent,t.EventHandler,t.Manipulator,t.Index,t.Sanitizer,t.TemplateFactory)}(this,(function(t,e,i,n,r,o,s){"use strict";function a(t){const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t)for(const i in t)if("default"!==i){const n=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,n.get?n:{enumerable:!0,get:()=>t[i]})}return e.default=t,Object.freeze(e)}const l=a(t),c="tooltip",u=new Set(["sanitize","allowList","sanitizeFn"]),h="fade",d="show",p=".tooltip-inner",f=`.${"modal"}`,m="hide.bs.modal",g="hover",v="focus",y="click",b="manual",w="hide",x="hidden",_="show",k="shown",C="inserted",S="click",T="focusin",A="focusout",E="mouseenter",P="mouseleave",M={AUTO:"auto",TOP:"top",RIGHT:r.isRTL()?"left":"right",BOTTOM:"bottom",LEFT:r.isRTL()?"right":"left"},L={allowList:o.DefaultAllowlist,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},O={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class D extends e{constructor(t,e){if(void 0===l)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return L}static get DefaultType(){return O}static get NAME(){return c}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),i.off(this._element.closest(f),m,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const t=i.trigger(this._element,this.constructor.eventName(_)),e=(r.findShadowRoot(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!e)return;this._disposePopper();const n=this._getTipElement();this._element.setAttribute("aria-describedby",n.getAttribute("id"));const{container:o}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(o.append(n),i.trigger(this._element,this.constructor.eventName(C))),this._popper=this._createPopper(n),n.classList.add(d),"ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))i.on(t,"mouseover",r.noop);const s=()=>{i.trigger(this._element,this.constructor.eventName(k)),!1===this._isHovered&&this._leave(),this._isHovered=!1};this._queueCallback(s,this.tip,this._isAnimated())}hide(){if(!this._isShown())return;if(i.trigger(this._element,this.constructor.eventName(w)).defaultPrevented)return;if(this._getTipElement().classList.remove(d),"ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))i.off(t,"mouseover",r.noop);this._activeTrigger[y]=!1,this._activeTrigger[v]=!1,this._activeTrigger[g]=!1,this._isHovered=null;const t=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),i.trigger(this._element,this.constructor.eventName(x)))};this._queueCallback(t,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(h,d),e.classList.add(`bs-${this.constructor.NAME}-auto`);const i=r.getUID(this.constructor.NAME).toString();return e.setAttribute("id",i),this._isAnimated()&&e.classList.add(h),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new s({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[p]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(h)}_isShown(){return this.tip&&this.tip.classList.contains(d)}_createPopper(t){const e=r.execute(this._config.placement,[this,t,this._element]),i=M[e.toUpperCase()];return l.createPopper(this._element,t,this._getPopperConfig(i))}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map((t=>Number.parseInt(t,10))):"function"==typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(t){return r.execute(t,[this._element])}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:t=>{this._getTipElement().setAttribute("data-popper-placement",t.state.placement)}}]};return{...e,...r.execute(this._config.popperConfig,[e])}}_setListeners(){const t=this._config.trigger.split(" ");for(const e of t)if("click"===e)i.on(this._element,this.constructor.eventName(S),this._config.selector,(t=>{this._initializeOnDelegatedTarget(t).toggle()}));else if(e!==b){const t=e===g?this.constructor.eventName(E):this.constructor.eventName(T),n=e===g?this.constructor.eventName(P):this.constructor.eventName(A);i.on(this._element,t,this._config.selector,(t=>{const e=this._initializeOnDelegatedTarget(t);e._activeTrigger["focusin"===t.type?v:g]=!0,e._enter()})),i.on(this._element,n,this._config.selector,(t=>{const e=this._initializeOnDelegatedTarget(t);e._activeTrigger["focusout"===t.type?v:g]=e._element.contains(t.relatedTarget),e._leave()}))}this._hideModalHandler=()=>{this._element&&this.hide()},i.on(this._element.closest(f),m,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout((()=>{this._isHovered&&this.show()}),this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout((()=>{this._isHovered||this.hide()}),this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const e=n.getDataAttributes(this._element);for(const t of Object.keys(e))u.has(t)&&delete e[t];return t={...e,..."object"==typeof t&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=!1===t.container?document.body:r.getElement(t.container),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[e,i]of Object.entries(this._config))this.constructor.Default[e]!==i&&(t[e]=i);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each((function(){const e=D.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}return r.defineJQueryPlugin(D),D})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("./base-component.js"),require("./dom/event-handler.js"),require("./util/component-functions.js"),require("./util/index.js")):"function"==typeof define&&define.amd?define(["./base-component","./dom/event-handler","./util/component-functions","./util/index"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).Toast=e(t.BaseComponent,t.EventHandler,t.ComponentFunctions,t.Index)}(this,(function(t,e,i,n){"use strict";const r="toast",o=`.${"bs.toast"}`,s=`mouseover${o}`,a=`mouseout${o}`,l=`focusin${o}`,c=`focusout${o}`,u=`hide${o}`,h=`hidden${o}`,d=`show${o}`,p=`shown${o}`,f="fade",m="hide",g="show",v="showing",y={animation:"boolean",autohide:"boolean",delay:"number"},b={animation:!0,autohide:!0,delay:5e3};class w extends t{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return b}static get DefaultType(){return y}static get NAME(){return r}show(){if(e.trigger(this._element,d).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(f);const t=()=>{this._element.classList.remove(v),e.trigger(this._element,p),this._maybeScheduleHide()};this._element.classList.remove(m),n.reflow(this._element),this._element.classList.add(g,v),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown())return;if(e.trigger(this._element,u).defaultPrevented)return;const t=()=>{this._element.classList.add(m),this._element.classList.remove(v,g),e.trigger(this._element,h)};this._element.classList.add(v),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(g),super.dispose()}isShown(){return this._element.classList.contains(g)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e}if(e)return void this._clearTimeout();const i=t.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){e.on(this._element,s,(t=>this._onInteraction(t,!0))),e.on(this._element,a,(t=>this._onInteraction(t,!1))),e.on(this._element,l,(t=>this._onInteraction(t,!0))),e.on(this._element,c,(t=>this._onInteraction(t,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each((function(){const e=w.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}return i.enableDismissTrigger(w),n.defineJQueryPlugin(w),w})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("./tooltip.js"),require("./util/index.js")):"function"==typeof define&&define.amd?define(["./tooltip","./util/index"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).Popover=e(t.Tooltip,t.Index)}(this,(function(t,e){"use strict";const i="popover",n=".popover-header",r=".popover-body",o={...t.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},s={...t.DefaultType,content:"(null|string|element|function)"};class a extends t{static get Default(){return o}static get DefaultType(){return s}static get NAME(){return i}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[n]:this._getTitle(),[r]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each((function(){const e=a.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}return e.defineJQueryPlugin(a),a})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("../dom/event-handler.js"),require("./config.js"),require("./index.js")):"function"==typeof define&&define.amd?define(["../dom/event-handler","./config","./index"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).Swipe=e(t.EventHandler,t.Config,t.Index)}(this,(function(t,e,i){"use strict";const n="swipe",r=".bs.swipe",o=`touchstart${r}`,s=`touchmove${r}`,a=`touchend${r}`,l=`pointerdown${r}`,c=`pointerup${r}`,u="touch",h="pen",d="pointer-event",p=40,f={endCallback:null,leftCallback:null,rightCallback:null},m={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class g extends e{constructor(t,e){super(),this._element=t,t&&g.isSupported()&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return f}static get DefaultType(){return m}static get NAME(){return n}dispose(){t.off(this._element,r)}_start(t){this._supportPointerEvents?this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX):this._deltaX=t.touches[0].clientX}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),i.execute(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=p)return;const e=t/this._deltaX;this._deltaX=0,e&&i.execute(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(t.on(this._element,l,(t=>this._start(t))),t.on(this._element,c,(t=>this._end(t))),this._element.classList.add(d)):(t.on(this._element,o,(t=>this._start(t))),t.on(this._element,s,(t=>this._move(t))),t.on(this._element,a,(t=>this._end(t))))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===h||t.pointerType===u)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}return g})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("./base-component.js"),require("./dom/event-handler.js"),require("./util/component-functions.js"),require("./util/index.js")):"function"==typeof define&&define.amd?define(["./base-component","./dom/event-handler","./util/component-functions","./util/index"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).Alert=e(t.BaseComponent,t.EventHandler,t.ComponentFunctions,t.Index)}(this,(function(t,e,i,n){"use strict";const r="alert",o=`.${"bs.alert"}`,s=`close${o}`,a=`closed${o}`,l="fade",c="show";class u extends t{static get NAME(){return r}close(){if(e.trigger(this._element,s).defaultPrevented)return;this._element.classList.remove(c);const t=this._element.classList.contains(l);this._queueCallback((()=>this._destroyElement()),this._element,t)}_destroyElement(){this._element.remove(),e.trigger(this._element,a),this.dispose()}static jQueryInterface(t){return this.each((function(){const e=u.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}return i.enableDismissTrigger(u,"close"),n.defineJQueryPlugin(u),u})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("./base-component.js"),require("./dom/event-handler.js"),require("./util/index.js")):"function"==typeof define&&define.amd?define(["./base-component","./dom/event-handler","./util/index"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).Button=e(t.BaseComponent,t.EventHandler,t.Index)}(this,(function(t,e,i){"use strict";const n="button",r="active",o='[data-bs-toggle="button"]',s=`click${`.${"bs.button"}`}${".data-api"}`;class a extends t{static get NAME(){return n}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(r))}static jQueryInterface(t){return this.each((function(){const e=a.getOrCreateInstance(this);"toggle"===t&&e[t]()}))}}return e.on(document,s,o,(t=>{t.preventDefault();const e=t.target.closest(o);a.getOrCreateInstance(e).toggle()})),i.defineJQueryPlugin(a),a})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("./base-component.js"),require("./dom/event-handler.js"),require("./dom/manipulator.js"),require("./dom/selector-engine.js"),require("./util/index.js"),require("./util/swipe.js")):"function"==typeof define&&define.amd?define(["./base-component","./dom/event-handler","./dom/manipulator","./dom/selector-engine","./util/index","./util/swipe"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).Carousel=e(t.BaseComponent,t.EventHandler,t.Manipulator,t.SelectorEngine,t.Index,t.Swipe)}(this,(function(t,e,i,n,r,o){"use strict";const s="carousel",a=`.${"bs.carousel"}`,l=".data-api",c="ArrowLeft",u="ArrowRight",h=500,d="next",p="prev",f="left",m="right",g=`slide${a}`,v=`slid${a}`,y=`keydown${a}`,b=`mouseenter${a}`,w=`mouseleave${a}`,x=`dragstart${a}`,_=`load${a}${l}`,k=`click${a}${l}`,C="carousel",S="active",T="slide",A="carousel-item-end",E="carousel-item-start",P="carousel-item-next",M="carousel-item-prev",L=".active",O=".carousel-item",D=L+O,I=".carousel-item img",$=".carousel-indicators",N="[data-bs-slide], [data-bs-slide-to]",z='[data-bs-ride="carousel"]',j={[c]:m,[u]:f},F={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},q={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class R extends t{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=n.findOne($,this._element),this._addEventListeners(),this._config.ride===C&&this.cycle()}static get Default(){return F}static get DefaultType(){return q}static get NAME(){return s}next(){this._slide(d)}nextWhenVisible(){!document.hidden&&r.isVisible(this._element)&&this.next()}prev(){this._slide(p)}pause(){this._isSliding&&r.triggerTransitionEnd(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval((()=>this.nextWhenVisible()),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?e.one(this._element,v,(()=>this.cycle())):this.cycle())}to(t){const i=this._getItems();if(t>i.length-1||t<0)return;if(this._isSliding)return void e.one(this._element,v,(()=>this.to(t)));const n=this._getItemIndex(this._getActive());if(n===t)return;const r=t>n?d:p;this._slide(r,i[t])}
dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&e.on(this._element,y,(t=>this._keydown(t))),"hover"===this._config.pause&&(e.on(this._element,b,(()=>this.pause())),e.on(this._element,w,(()=>this._maybeEnableCycle()))),this._config.touch&&o.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const t of n.find(I,this._element))e.on(t,x,(t=>t.preventDefault()));const t={leftCallback:()=>this._slide(this._directionToOrder(f)),rightCallback:()=>this._slide(this._directionToOrder(m)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((()=>this._maybeEnableCycle()),h+this._config.interval))}};this._swipeHelper=new o(this._element,t)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=j[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const e=n.findOne(L,this._indicatorsElement);e.classList.remove(S),e.removeAttribute("aria-current");const i=n.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);i&&(i.classList.add(S),i.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(t,i=null){if(this._isSliding)return;const n=this._getActive(),o=t===d,s=i||r.getNextActiveElement(this._getItems(),n,o,this._config.wrap);if(s===n)return;const a=this._getItemIndex(s),l=i=>e.trigger(this._element,i,{relatedTarget:s,direction:this._orderToDirection(t),from:this._getItemIndex(n),to:a});if(l(g).defaultPrevented)return;if(!n||!s)return;const c=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(a),this._activeElement=s;const u=o?E:A,h=o?P:M;s.classList.add(h),r.reflow(s),n.classList.add(u),s.classList.add(u);const p=()=>{s.classList.remove(u,h),s.classList.add(S),n.classList.remove(S,h,u),this._isSliding=!1,l(v)};this._queueCallback(p,n,this._isAnimated()),c&&this.cycle()}_isAnimated(){return this._element.classList.contains(T)}_getActive(){return n.findOne(D,this._element)}_getItems(){return n.find(O,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return r.isRTL()?t===f?p:d:t===f?d:p}_orderToDirection(t){return r.isRTL()?t===p?f:m:t===p?m:f}static jQueryInterface(t){return this.each((function(){const e=R.getOrCreateInstance(this,t);if("number"!=typeof t){if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}else e.to(t)}))}}return e.on(document,k,N,(function(t){const e=n.getElementFromSelector(this);if(!e||!e.classList.contains(C))return;t.preventDefault();const r=R.getOrCreateInstance(e),o=this.getAttribute("data-bs-slide-to");return o?(r.to(o),void r._maybeEnableCycle()):"next"===i.getDataAttribute(this,"slide")?(r.next(),void r._maybeEnableCycle()):(r.prev(),void r._maybeEnableCycle())})),e.on(window,_,(()=>{const t=n.find(z);for(const e of t)R.getOrCreateInstance(e)})),r.defineJQueryPlugin(R),R})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("./base-component.js"),require("./dom/event-handler.js"),require("./dom/selector-engine.js"),require("./util/backdrop.js"),require("./util/component-functions.js"),require("./util/focustrap.js"),require("./util/index.js"),require("./util/scrollbar.js")):"function"==typeof define&&define.amd?define(["./base-component","./dom/event-handler","./dom/selector-engine","./util/backdrop","./util/component-functions","./util/focustrap","./util/index","./util/scrollbar"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).Modal=e(t.BaseComponent,t.EventHandler,t.SelectorEngine,t.Backdrop,t.ComponentFunctions,t.Focustrap,t.Index,t.Scrollbar)}(this,(function(t,e,i,n,r,o,s,a){"use strict";const l="modal",c=`.${"bs.modal"}`,u="Escape",h=`hide${c}`,d=`hidePrevented${c}`,p=`hidden${c}`,f=`show${c}`,m=`shown${c}`,g=`resize${c}`,v=`click.dismiss${c}`,y=`mousedown.dismiss${c}`,b=`keydown.dismiss${c}`,w=`click${c}${".data-api"}`,x="modal-open",_="fade",k="show",C="modal-static",S=".modal.show",T=".modal-dialog",A=".modal-body",E='[data-bs-toggle="modal"]',P={backdrop:!0,focus:!0,keyboard:!0},M={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class L extends t{constructor(t,e){super(t,e),this._dialog=i.findOne(T,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new a,this._addEventListeners()}static get Default(){return P}static get DefaultType(){return M}static get NAME(){return l}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||this._isTransitioning)return;e.trigger(this._element,f,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(x),this._adjustDialog(),this._backdrop.show((()=>this._showElement(t))))}hide(){if(!this._isShown||this._isTransitioning)return;e.trigger(this._element,h).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(k),this._queueCallback((()=>this._hideModal()),this._element,this._isAnimated()))}dispose(){e.off(window,c),e.off(this._dialog,c),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new n({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new o({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=i.findOne(A,this._dialog);n&&(n.scrollTop=0),s.reflow(this._element),this._element.classList.add(k);const r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,e.trigger(this._element,m,{relatedTarget:t})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){e.on(this._element,b,(t=>{t.key===u&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())})),e.on(window,g,(()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()})),e.on(this._element,y,(t=>{e.one(this._element,v,(e=>{this._element===t.target&&this._element===e.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())}))}))}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(x),this._resetAdjustments(),this._scrollBar.reset(),e.trigger(this._element,p)}))}_isAnimated(){return this._element.classList.contains(_)}_triggerBackdropTransition(){if(e.trigger(this._element,d).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;"hidden"===i||this._element.classList.contains(C)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(C),this._queueCallback((()=>{this._element.classList.remove(C),this._queueCallback((()=>{this._element.style.overflowY=i}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),i=e>0;if(i&&!t){const t=s.isRTL()?"paddingLeft":"paddingRight";this._element.style[t]=`${e}px`}if(!i&&t){const t=s.isRTL()?"paddingRight":"paddingLeft";this._element.style[t]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each((function(){const i=L.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t](e)}}))}}return e.on(document,w,E,(function(t){const n=i.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),e.one(n,f,(t=>{t.defaultPrevented||e.one(n,p,(()=>{s.isVisible(this)&&this.focus()}))}));const r=i.findOne(S);r&&L.getInstance(r).hide();L.getOrCreateInstance(n).toggle(this)})),r.enableDismissTrigger(L),s.defineJQueryPlugin(L),L})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("./base-component.js"),require("./dom/event-handler.js"),require("./dom/selector-engine.js"),require("./util/index.js")):"function"==typeof define&&define.amd?define(["./base-component","./dom/event-handler","./dom/selector-engine","./util/index"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).Collapse=e(t.BaseComponent,t.EventHandler,t.SelectorEngine,t.Index)}(this,(function(t,e,i,n){"use strict";const r="collapse",o=`.${"bs.collapse"}`,s=`show${o}`,a=`shown${o}`,l=`hide${o}`,c=`hidden${o}`,u=`click${o}${".data-api"}`,h="show",d="collapse",p="collapsing",f="collapsed",m=`:scope .${d} .${d}`,g="collapse-horizontal",v="width",y="height",b=".collapse.show, .collapse.collapsing",w='[data-bs-toggle="collapse"]',x={parent:null,toggle:!0},_={parent:"(null|element)",toggle:"boolean"};class k extends t{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const n=i.find(w);for(const t of n){const e=i.getSelectorFromElement(t),n=i.find(e).filter((t=>t===this._element));null!==e&&n.length&&this._triggerArray.push(t)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return x}static get DefaultType(){return _}static get NAME(){return r}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(b).filter((t=>t!==this._element)).map((t=>k.getOrCreateInstance(t,{toggle:!1})))),t.length&&t[0]._isTransitioning)return;if(e.trigger(this._element,s).defaultPrevented)return;for(const e of t)e.hide();const i=this._getDimension();this._element.classList.remove(d),this._element.classList.add(p),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const n=()=>{this._isTransitioning=!1,this._element.classList.remove(p),this._element.classList.add(d,h),this._element.style[i]="",e.trigger(this._element,a)},r=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(n,this._element,!0),this._element.style[i]=`${this._element[r]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(e.trigger(this._element,l).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,n.reflow(this._element),this._element.classList.add(p),this._element.classList.remove(d,h);for(const t of this._triggerArray){const e=i.getElementFromSelector(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(p),this._element.classList.add(d),e.trigger(this._element,c)};this._element.style[t]="",this._queueCallback(r,this._element,!0)}_isShown(t=this._element){return t.classList.contains(h)}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=n.getElement(t.parent),t}_getDimension(){return this._element.classList.contains(g)?v:y}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(w);for(const e of t){const t=i.getElementFromSelector(e);t&&this._addAriaAndCollapsedClass([e],this._isShown(t))}}_getFirstLevelChildren(t){const e=i.find(m,this._config.parent);return i.find(t,this._config.parent).filter((t=>!e.includes(t)))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const i of t)i.classList.toggle(f,!e),i.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return"string"==typeof t&&/show|hide/.test(t)&&(e.toggle=!1),this.each((function(){const i=k.getOrCreateInstance(this,e);if("string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t]()}}))}}return e.on(document,u,w,(function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();for(const t of i.getMultipleElementsFromSelector(this))k.getOrCreateInstance(t,{toggle:!1}).toggle()})),n.defineJQueryPlugin(k),k})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("./base-component.js"),require("./dom/event-handler.js"),require("./dom/selector-engine.js"),require("./util/index.js")):"function"==typeof define&&define.amd?define(["./base-component","./dom/event-handler","./dom/selector-engine","./util/index"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).Scrollspy=e(t.BaseComponent,t.EventHandler,t.SelectorEngine,t.Index)}(this,(function(t,e,i,n){"use strict";const r="scrollspy",o=`.${"bs.scrollspy"}`,s=`activate${o}`,a=`click${o}`,l=`load${o}${".data-api"}`,c="dropdown-item",u="active",h='[data-bs-spy="scroll"]',d="[href]",p=".nav, .list-group",f=".nav-link",m=`${f}, ${".nav-item"} > ${f}, ${".list-group-item"}`,g=".dropdown",v=".dropdown-toggle",y={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},b={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class w extends t{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return y}static get DefaultType(){return b}static get NAME(){return r}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=n.getElement(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,"string"==typeof t.threshold&&(t.threshold=t.threshold.split(",").map((t=>Number.parseFloat(t)))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(e.off(this._config.target,a),e.on(this._config.target,a,d,(t=>{const e=this._observableSections.get(t.target.hash);if(e){t.preventDefault();const i=this._rootElement||window,n=e.offsetTop-this._element.offsetTop;if(i.scrollTo)return void i.scrollTo({top:n,behavior:"smooth"});i.scrollTop=n}})))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver((t=>this._observerCallback(t)),t)}_observerCallback(t){const e=t=>this._targetLinks.get(`#${t.target.id}`),i=t=>{this._previousScrollData.visibleEntryTop=t.target.offsetTop,this._process(e(t))},n=(this._rootElement||document.documentElement).scrollTop,r=n>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=n;for(const o of t){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(o));continue}const t=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&t){if(i(o),!n)return}else r||t||i(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=i.find(d,this._config.target);for(const e of t){if(!e.hash||n.isDisabled(e))continue;const t=i.findOne(decodeURI(e.hash),this._element);n.isVisible(t)&&(this._targetLinks.set(decodeURI(e.hash),e),this._observableSections.set(e.hash,t))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(u),this._activateParents(t),e.trigger(this._element,s,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(c))i.findOne(v,t.closest(g)).classList.add(u);else for(const e of i.parents(t,p))for(const t of i.prev(e,m))t.classList.add(u)}_clearActiveClass(t){t.classList.remove(u);const e=i.find(`${d}.${u}`,t);for(const t of e)t.classList.remove(u)}static jQueryInterface(t){return this.each((function(){const e=w.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}))}}return e.on(window,l,(()=>{for(const t of i.find(h))w.getOrCreateInstance(t)})),n.defineJQueryPlugin(w),w})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("./base-component.js"),require("./dom/event-handler.js"),require("./dom/selector-engine.js"),require("./util/index.js")):"function"==typeof define&&define.amd?define(["./base-component","./dom/event-handler","./dom/selector-engine","./util/index"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).Tab=e(t.BaseComponent,t.EventHandler,t.SelectorEngine,t.Index)}(this,(function(t,e,i,n){"use strict";const r="tab",o=`.${"bs.tab"}`,s=`hide${o}`,a=`hidden${o}`,l=`show${o}`,c=`shown${o}`,u=`click${o}`,h=`keydown${o}`,d=`load${o}`,p="ArrowLeft",f="ArrowRight",m="ArrowUp",g="ArrowDown",v="Home",y="End",b="active",w="fade",x="show",_="dropdown",k=".dropdown-toggle",C=".dropdown-menu",S=`:not(${k})`,T='.list-group, .nav, [role="tablist"]',A=".nav-item, .list-group-item",E='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',P=`${`.nav-link${S}, .list-group-item${S}, [role="tab"]${S}`}, ${E}`,M=`.${b}[data-bs-toggle="tab"], .${b}[data-bs-toggle="pill"], .${b}[data-bs-toggle="list"]`;class L extends t{constructor(t){super(t),this._parent=this._element.closest(T),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),e.on(this._element,h,(t=>this._keydown(t))))}static get NAME(){return r}show(){const t=this._element;if(this._elemIsActive(t))return;const i=this._getActiveElem(),n=i?e.trigger(i,s,{relatedTarget:t}):null;e.trigger(t,l,{relatedTarget:i}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(i,t),this._activate(t,i))}_activate(t,n){if(!t)return;t.classList.add(b),this._activate(i.getElementFromSelector(t));const r=()=>{"tab"===t.getAttribute("role")?(t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),e.trigger(t,c,{relatedTarget:n})):t.classList.add(x)};this._queueCallback(r,t,t.classList.contains(w))}_deactivate(t,n){if(!t)return;t.classList.remove(b),t.blur(),this._deactivate(i.getElementFromSelector(t));const r=()=>{"tab"===t.getAttribute("role")?(t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),e.trigger(t,a,{relatedTarget:n})):t.classList.remove(x)};this._queueCallback(r,t,t.classList.contains(w))}_keydown(t){if(![p,f,m,g,v,y].includes(t.key))return;t.stopPropagation(),t.preventDefault();const e=this._getChildren().filter((t=>!n.isDisabled(t)));let i;if([v,y].includes(t.key))i=e[t.key===v?0:e.length-1];else{const r=[f,g].includes(t.key);i=n.getNextActiveElement(e,t.target,r,!0)}i&&(i.focus({preventScroll:!0}),L.getOrCreateInstance(i).show())}_getChildren(){return i.find(P,this._parent)}_getActiveElem(){return this._getChildren().find((t=>this._elemIsActive(t)))||null}_setInitialAttributes(t,e){this._setAttributeIfNotExists(t,"role","tablist");for(const t of e)this._setInitialAttributesOnChild(t)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const e=this._elemIsActive(t),i=this._getOuterElement(t);t.setAttribute("aria-selected",e),i!==t&&this._setAttributeIfNotExists(i,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const e=i.getElementFromSelector(t);e&&(this._setAttributeIfNotExists(e,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(e,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,e){const n=this._getOuterElement(t);if(!n.classList.contains(_))return;const r=(t,r)=>{const o=i.findOne(t,n);o&&o.classList.toggle(r,e)};r(k,b),r(C,x),n.setAttribute("aria-expanded",e)}_setAttributeIfNotExists(t,e,i){t.hasAttribute(e)||t.setAttribute(e,i)}_elemIsActive(t){return t.classList.contains(b)}_getInnerElement(t){return t.matches(P)?t:i.findOne(P,t)}_getOuterElement(t){return t.closest(A)||t}static jQueryInterface(t){return this.each((function(){const e=L.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}))}}return e.on(document,u,E,(function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),n.isDisabled(this)||L.getOrCreateInstance(this).show()})),e.on(window,d,(()=>{for(const t of i.find(M))L.getOrCreateInstance(t)})),n.defineJQueryPlugin(L),L})),window.globalThis=window.bootstrap._originalGlobalThis,window.bootstrap._originalGlobalThis=null;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},windowIsDefined="object"===("undefined"==typeof window?"undefined":_typeof(window));!function(t){if("function"==typeof define&&define.amd)define(["jquery"],t);else if("object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports){var e;try{e=require("jquery")}catch(t){e=null}module.exports=t(e)}else window&&(window.Slider=t(window.jQuery))}((function(t){var e,i="slider",n="bootstrapSlider";return windowIsDefined&&!window.console&&(window.console={}),windowIsDefined&&!window.console.log&&(window.console.log=function(){}),windowIsDefined&&!window.console.warn&&(window.console.warn=function(){}),function(t){"use strict";function e(){}function i(t){function i(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function r(e,i){t.fn[e]=function(r){if("string"==typeof r){for(var s=n.call(arguments,1),a=0,l=this.length;a<l;a++){var c=this[a],u=t.data(c,e);if(u)if(t.isFunction(u[r])&&"_"!==r.charAt(0)){var h=u[r].apply(u,s);if(void 0!==h&&h!==u)return h}else o("no such method '"+r+"' for "+e+" instance");else o("cannot call methods on "+e+" prior to initialization; attempted to call '"+r+"'")}return this}var d=this.map((function(){var n=t.data(this,e);return n?(n.option(r),n._init()):(n=new i(this,r),t.data(this,e,n)),t(this)}));return 1===d.length?d[0]:d}}if(t){var o="undefined"==typeof console?e:function(t){console.error(t)};return t.bridget=function(t,e){i(e),r(t,e)},t.bridget}}var n=Array.prototype.slice;i(t)}(t),function(t){function r(e,i){function n(t,e){var i="data-slider-"+e.replace(/_/g,"-"),n=t.getAttribute(i);try{return JSON.parse(n)}catch(t){return n}}this._state={value:null,enabled:null,offset:null,size:null,percentage:null,inDrag:!1,over:!1,tickIndex:null},this.ticksCallbackMap={},this.handleCallbackMap={},"string"==typeof e?this.element=document.querySelector(e):e instanceof HTMLElement&&(this.element=e),i=i||{};for(var r=Object.keys(this.defaultOptions),o=i.hasOwnProperty("min"),s=i.hasOwnProperty("max"),l=0;l<r.length;l++){var c=r[l],u=i[c];u=null!==(u=void 0!==u?u:n(this.element,c))?u:this.defaultOptions[c],this.options||(this.options={}),this.options[c]=u}if(this.ticksAreValid=Array.isArray(this.options.ticks)&&this.options.ticks.length>0,this.ticksAreValid||(this.options.lock_to_ticks=!1),"auto"===this.options.rtl){var h=window.getComputedStyle(this.element);this.options.rtl=null!=h?"rtl"===h.direction:"rtl"===this.element.style.direction}"vertical"!==this.options.orientation||"top"!==this.options.tooltip_position&&"bottom"!==this.options.tooltip_position?"horizontal"!==this.options.orientation||"left"!==this.options.tooltip_position&&"right"!==this.options.tooltip_position||(this.options.tooltip_position="top"):this.options.rtl?this.options.tooltip_position="left":this.options.tooltip_position="right";var d,p,f,m,g,v=this.element.style.width,y=!1,b=this.element.parentNode;if(this.sliderElem)y=!0;else{this.sliderElem=document.createElement("div"),this.sliderElem.className="slider";var w=document.createElement("div");w.className="slider-track",(p=document.createElement("div")).className="slider-track-low",(d=document.createElement("div")).className="slider-selection",(f=document.createElement("div")).className="slider-track-high",(m=document.createElement("div")).className="slider-handle min-slider-handle",m.setAttribute("role","slider"),m.setAttribute("aria-valuemin",this.options.min),m.setAttribute("aria-valuemax",this.options.max),(g=document.createElement("div")).className="slider-handle max-slider-handle",g.setAttribute("role","slider"),g.setAttribute("aria-valuemin",this.options.min),g.setAttribute("aria-valuemax",this.options.max),w.appendChild(p),w.appendChild(d),w.appendChild(f),this.rangeHighlightElements=[];var x=this.options.rangeHighlights;if(Array.isArray(x)&&x.length>0)for(var _=0;_<x.length;_++){var k=document.createElement("div"),C=x[_].class||"";k.className="slider-rangeHighlight slider-selection "+C,this.rangeHighlightElements.push(k),w.appendChild(k)}var S=Array.isArray(this.options.labelledby);if(S&&this.options.labelledby[0]&&m.setAttribute("aria-labelledby",this.options.labelledby[0]),S&&this.options.labelledby[1]&&g.setAttribute("aria-labelledby",this.options.labelledby[1]),!S&&this.options.labelledby&&(m.setAttribute("aria-labelledby",this.options.labelledby),g.setAttribute("aria-labelledby",this.options.labelledby)),this.ticks=[],Array.isArray(this.options.ticks)&&this.options.ticks.length>0){for(this.ticksContainer=document.createElement("div"),this.ticksContainer.className="slider-tick-container",l=0;l<this.options.ticks.length;l++){var T=document.createElement("div");if(T.className="slider-tick",this.options.ticks_tooltip){var A=this._addTickListener(),E=A.addMouseEnter(this,T,l),P=A.addMouseLeave(this,T);this.ticksCallbackMap[l]={mouseEnter:E,mouseLeave:P}}this.ticks.push(T),this.ticksContainer.appendChild(T)}d.className+=" tick-slider-selection"}if(this.tickLabels=[],Array.isArray(this.options.ticks_labels)&&this.options.ticks_labels.length>0)for(this.tickLabelContainer=document.createElement("div"),this.tickLabelContainer.className="slider-tick-label-container",l=0;l<this.options.ticks_labels.length;l++){var M=document.createElement("div"),L=0===this.options.ticks_positions.length,O=this.options.reversed&&L?this.options.ticks_labels.length-(l+1):l;M.className="slider-tick-label",M.innerHTML=this.options.ticks_labels[O],this.tickLabels.push(M),this.tickLabelContainer.appendChild(M)}var D=function(t){var e=document.createElement("div");e.className="arrow";var i=document.createElement("div");i.className="tooltip-inner",t.appendChild(e),t.appendChild(i)},I=document.createElement("div");I.className="tooltip tooltip-main",I.setAttribute("role","presentation"),D(I);var $=document.createElement("div");$.className="tooltip tooltip-min",$.setAttribute("role","presentation"),D($);var N=document.createElement("div");N.className="tooltip tooltip-max",N.setAttribute("role","presentation"),D(N),this.sliderElem.appendChild(w),this.sliderElem.appendChild(I),this.sliderElem.appendChild($),this.sliderElem.appendChild(N),this.tickLabelContainer&&this.sliderElem.appendChild(this.tickLabelContainer),this.ticksContainer&&this.sliderElem.appendChild(this.ticksContainer),this.sliderElem.appendChild(m),this.sliderElem.appendChild(g),b.insertBefore(this.sliderElem,this.element),this.element.style.display="none"}if(t&&(this.$element=t(this.element),this.$sliderElem=t(this.sliderElem)),this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.touchX=0,this.touchY=0,this.tooltip=this.sliderElem.querySelector(".tooltip-main"),this.tooltipInner=this.tooltip.querySelector(".tooltip-inner"),this.tooltip_min=this.sliderElem.querySelector(".tooltip-min"),this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner"),this.tooltip_max=this.sliderElem.querySelector(".tooltip-max"),this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner"),a[this.options.scale]&&(this.options.scale=a[this.options.scale]),!0===y&&(this._removeClass(this.sliderElem,"slider-horizontal"),this._removeClass(this.sliderElem,"slider-vertical"),this._removeClass(this.sliderElem,"slider-rtl"),this._removeClass(this.tooltip,"hide"),this._removeClass(this.tooltip_min,"hide"),this._removeClass(this.tooltip_max,"hide"),["left","right","top","width","height"].forEach((function(t){this._removeProperty(this.trackLow,t),this._removeProperty(this.trackSelection,t),this._removeProperty(this.trackHigh,t)}),this),[this.handle1,this.handle2].forEach((function(t){this._removeProperty(t,"left"),this._removeProperty(t,"right"),this._removeProperty(t,"top")}),this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach((function(t){this._removeProperty(t,"bs-tooltip-left"),this._removeProperty(t,"bs-tooltip-right"),this._removeProperty(t,"bs-tooltip-top"),this._removeClass(t,"bs-tooltip-right"),this._removeClass(t,"bs-tooltip-left"),this._removeClass(t,"bs-tooltip-top")}),this)),"vertical"===this.options.orientation?(this._addClass(this.sliderElem,"slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight"):(this._addClass(this.sliderElem,"slider-horizontal"),this.sliderElem.style.width=v,this.options.orientation="horizontal",this.options.rtl?this.stylePos="right":this.stylePos="left",this.mousePos="clientX",this.sizePos="offsetWidth"),this.options.rtl&&this._addClass(this.sliderElem,"slider-rtl"),this._setTooltipPosition(),Array.isArray(this.options.ticks)&&this.options.ticks.length>0&&(s||(this.options.max=Math.max.apply(Math,this.options.ticks)),o||(this.options.min=Math.min.apply(Math,this.options.ticks))),Array.isArray(this.options.value)?(this.options.range=!0,this._state.value=this.options.value):this.options.range?this._state.value=[this.options.value,this.options.max]:this._state.value=this.options.value,this.trackLow=p||this.trackLow,this.trackSelection=d||this.trackSelection,this.trackHigh=f||this.trackHigh,"none"===this.options.selection?(this._addClass(this.trackLow,"hide"),this._addClass(this.trackSelection,"hide"),this._addClass(this.trackHigh,"hide")):"after"!==this.options.selection&&"before"!==this.options.selection||(this._removeClass(this.trackLow,"hide"),this._removeClass(this.trackSelection,"hide"),this._removeClass(this.trackHigh,"hide")),this.handle1=m||this.handle1,this.handle2=g||this.handle2,!0===y)for(this._removeClass(this.handle1,"round triangle"),this._removeClass(this.handle2,"round triangle hide"),l=0;l<this.ticks.length;l++)this._removeClass(this.ticks[l],"round triangle hide");if(-1!==["round","triangle","custom"].indexOf(this.options.handle))for(this._addClass(this.handle1,this.options.handle),this._addClass(this.handle2,this.options.handle),l=0;l<this.ticks.length;l++)this._addClass(this.ticks[l],this.options.handle);if(this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this.setValue(this._state.value),this.handle1Keydown=this._keydown.bind(this,0),this.handle1.addEventListener("keydown",this.handle1Keydown,!1),this.handle2Keydown=this._keydown.bind(this,1),this.handle2.addEventListener("keydown",this.handle2Keydown,!1),this.mousedown=this._mousedown.bind(this),this.touchstart=this._touchstart.bind(this),this.touchmove=this._touchmove.bind(this),this.touchCapable&&(this.sliderElem.addEventListener("touchstart",this.touchstart,!1),this.sliderElem.addEventListener("touchmove",this.touchmove,!1)),this.sliderElem.addEventListener("mousedown",this.mousedown,!1),this.resize=this._resize.bind(this),window.addEventListener("resize",this.resize,!1),"hide"===this.options.tooltip)this._addClass(this.tooltip,"hide"),this._addClass(this.tooltip_min,"hide"),this._addClass(this.tooltip_max,"hide");else if("always"===this.options.tooltip)this._showTooltip(),this._alwaysShowTooltip=!0;else{if(this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),this.options.ticks_tooltip){
var z=this._addTickListener(),j=z.addMouseEnter(this,this.handle1),F=z.addMouseLeave(this,this.handle1);this.handleCallbackMap.handle1={mouseEnter:j,mouseLeave:F},j=z.addMouseEnter(this,this.handle2),F=z.addMouseLeave(this,this.handle2),this.handleCallbackMap.handle2={mouseEnter:j,mouseLeave:F}}else this.sliderElem.addEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.addEventListener("mouseleave",this.hideTooltip,!1),this.touchCapable&&(this.sliderElem.addEventListener("touchstart",this.showTooltip,!1),this.sliderElem.addEventListener("touchmove",this.showTooltip,!1),this.sliderElem.addEventListener("touchend",this.hideTooltip,!1));this.handle1.addEventListener("focus",this.showTooltip,!1),this.handle1.addEventListener("blur",this.hideTooltip,!1),this.handle2.addEventListener("focus",this.showTooltip,!1),this.handle2.addEventListener("blur",this.hideTooltip,!1),this.touchCapable&&(this.handle1.addEventListener("touchstart",this.showTooltip,!1),this.handle1.addEventListener("touchmove",this.showTooltip,!1),this.handle1.addEventListener("touchend",this.hideTooltip,!1),this.handle2.addEventListener("touchstart",this.showTooltip,!1),this.handle2.addEventListener("touchmove",this.showTooltip,!1),this.handle2.addEventListener("touchend",this.hideTooltip,!1))}this.options.enabled?this.enable():this.disable()}var o=void 0,s={formatInvalidInputErrorMsg:function(t){return"Invalid input value '"+t+"' passed in"},callingContextNotSliderInstance:"Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method"},a={linear:{getValue:function(t,e){return t<e.min?e.min:t>e.max?e.max:t},toValue:function(t){var e=t/100*(this.options.max-this.options.min),i=!0;if(this.options.ticks_positions.length>0){for(var n,r,o,s=0,l=1;l<this.options.ticks_positions.length;l++)if(t<=this.options.ticks_positions[l]){n=this.options.ticks[l-1],o=this.options.ticks_positions[l-1],r=this.options.ticks[l],s=this.options.ticks_positions[l];break}e=n+(t-o)/(s-o)*(r-n),i=!1}var c=(i?this.options.min:0)+Math.round(e/this.options.step)*this.options.step;return a.linear.getValue(c,this.options)},toPercentage:function(t){if(this.options.max===this.options.min)return 0;if(this.options.ticks_positions.length>0){for(var e,i,n,r=0,o=0;o<this.options.ticks.length;o++)if(t<=this.options.ticks[o]){e=o>0?this.options.ticks[o-1]:0,n=o>0?this.options.ticks_positions[o-1]:0,i=this.options.ticks[o],r=this.options.ticks_positions[o];break}if(o>0)return n+(t-e)/(i-e)*(r-n)}return 100*(t-this.options.min)/(this.options.max-this.options.min)}},logarithmic:{toValue:function(t){var e=1-this.options.min,i=Math.log(this.options.min+e),n=Math.log(this.options.max+e),r=Math.exp(i+(n-i)*t/100)-e;return Math.round(r)===n?n:(r=this.options.min+Math.round((r-this.options.min)/this.options.step)*this.options.step,a.linear.getValue(r,this.options))},toPercentage:function(t){if(this.options.max===this.options.min)return 0;var e=1-this.options.min,i=Math.log(this.options.max+e),n=Math.log(this.options.min+e);return 100*(Math.log(t+e)-n)/(i-n)}}};(e=function(t,e){return r.call(this,t,e),this}).prototype={_init:function(){},constructor:e,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,lock_to_ticks:!1,handle:"round",reversed:!1,rtl:"auto",enabled:!0,formatter:function(t){return Array.isArray(t)?t[0]+" : "+t[1]:t},natural_arrow_keys:!1,ticks:[],ticks_positions:[],ticks_labels:[],ticks_snap_bounds:0,ticks_tooltip:!1,scale:"linear",focus:!1,tooltip_position:null,labelledby:null,rangeHighlights:[]},getElement:function(){return this.sliderElem},getValue:function(){return this.options.range?this._state.value:this._state.value[0]},setValue:function(t,e,i){t||(t=0);var n=this.getValue();this._state.value=this._validateInputValue(t);var r=this._applyPrecision.bind(this);this.options.range?(this._state.value[0]=r(this._state.value[0]),this._state.value[1]=r(this._state.value[1]),this.ticksAreValid&&this.options.lock_to_ticks&&(this._state.value[0]=this.options.ticks[this._getClosestTickIndex(this._state.value[0])],this._state.value[1]=this.options.ticks[this._getClosestTickIndex(this._state.value[1])]),this._state.value[0]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[0])),this._state.value[1]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[1]))):(this._state.value=r(this._state.value),this.ticksAreValid&&this.options.lock_to_ticks&&(this._state.value=this.options.ticks[this._getClosestTickIndex(this._state.value)]),this._state.value=[Math.max(this.options.min,Math.min(this.options.max,this._state.value))],this._addClass(this.handle2,"hide"),"after"===this.options.selection?this._state.value[1]=this.options.max:this._state.value[1]=this.options.min),this._setTickIndex(),this.options.max>this.options.min?this._state.percentage=[this._toPercentage(this._state.value[0]),this._toPercentage(this._state.value[1]),100*this.options.step/(this.options.max-this.options.min)]:this._state.percentage=[0,0,100],this._layout();var o=this.options.range?this._state.value:this._state.value[0];this._setDataVal(o),!0===e&&this._trigger("slide",o);return(Array.isArray(o)?n[0]!==o[0]||n[1]!==o[1]:n!==o)&&!0===i&&this._trigger("change",{oldValue:n,newValue:o}),this},destroy:function(){this._removeSliderEventHandlers(),this.sliderElem.parentNode.removeChild(this.sliderElem),this.element.style.display="",this._cleanUpEventCallbacksMap(),this.element.removeAttribute("data"),t&&(this._unbindJQueryEventHandlers(),o===i&&this.$element.removeData(o),this.$element.removeData(n))},disable:function(){return this._state.enabled=!1,this.handle1.removeAttribute("tabindex"),this.handle2.removeAttribute("tabindex"),this._addClass(this.sliderElem,"slider-disabled"),this._trigger("slideDisabled"),this},enable:function(){return this._state.enabled=!0,this.handle1.setAttribute("tabindex",0),this.handle2.setAttribute("tabindex",0),this._removeClass(this.sliderElem,"slider-disabled"),this._trigger("slideEnabled"),this},toggle:function(){return this._state.enabled?this.disable():this.enable(),this},isEnabled:function(){return this._state.enabled},on:function(t,e){return this._bindNonQueryEventHandler(t,e),this},off:function(e,i){t?(this.$element.off(e,i),this.$sliderElem.off(e,i)):this._unbindNonQueryEventHandler(e,i)},getAttribute:function(t){return t?this.options[t]:this.options},setAttribute:function(t,e){return this.options[t]=e,this},refresh:function(e){var s=this.getValue();return this._removeSliderEventHandlers(),r.call(this,this.element,this.options),e&&!0===e.useCurrentValue&&this.setValue(s),t&&(o===i?(t.data(this.element,i,this),t.data(this.element,n,this)):t.data(this.element,n,this)),this},relayout:function(){return this._resize(),this},_removeTooltipListener:function(t,e){this.handle1.removeEventListener(t,e,!1),this.handle2.removeEventListener(t,e,!1)},_removeSliderEventHandlers:function(){if(this.handle1.removeEventListener("keydown",this.handle1Keydown,!1),this.handle2.removeEventListener("keydown",this.handle2Keydown,!1),this.options.ticks_tooltip){for(var t=this.ticksContainer.getElementsByClassName("slider-tick"),e=0;e<t.length;e++)t[e].removeEventListener("mouseenter",this.ticksCallbackMap[e].mouseEnter,!1),t[e].removeEventListener("mouseleave",this.ticksCallbackMap[e].mouseLeave,!1);this.handleCallbackMap.handle1&&this.handleCallbackMap.handle2&&(this.handle1.removeEventListener("mouseenter",this.handleCallbackMap.handle1.mouseEnter,!1),this.handle2.removeEventListener("mouseenter",this.handleCallbackMap.handle2.mouseEnter,!1),this.handle1.removeEventListener("mouseleave",this.handleCallbackMap.handle1.mouseLeave,!1),this.handle2.removeEventListener("mouseleave",this.handleCallbackMap.handle2.mouseLeave,!1))}this.handleCallbackMap=null,this.ticksCallbackMap=null,this.showTooltip&&this._removeTooltipListener("focus",this.showTooltip),this.hideTooltip&&this._removeTooltipListener("blur",this.hideTooltip),this.showTooltip&&this.sliderElem.removeEventListener("mouseenter",this.showTooltip,!1),this.hideTooltip&&this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,!1),this.sliderElem.removeEventListener("mousedown",this.mousedown,!1),this.touchCapable&&(this.showTooltip&&(this.handle1.removeEventListener("touchstart",this.showTooltip,!1),this.handle1.removeEventListener("touchmove",this.showTooltip,!1),this.handle2.removeEventListener("touchstart",this.showTooltip,!1),this.handle2.removeEventListener("touchmove",this.showTooltip,!1)),this.hideTooltip&&(this.handle1.removeEventListener("touchend",this.hideTooltip,!1),this.handle2.removeEventListener("touchend",this.hideTooltip,!1)),this.showTooltip&&(this.sliderElem.removeEventListener("touchstart",this.showTooltip,!1),this.sliderElem.removeEventListener("touchmove",this.showTooltip,!1)),this.hideTooltip&&this.sliderElem.removeEventListener("touchend",this.hideTooltip,!1),this.sliderElem.removeEventListener("touchstart",this.touchstart,!1),this.sliderElem.removeEventListener("touchmove",this.touchmove,!1)),window.removeEventListener("resize",this.resize,!1)},_bindNonQueryEventHandler:function(t,e){void 0===this.eventToCallbackMap[t]&&(this.eventToCallbackMap[t]=[]),this.eventToCallbackMap[t].push(e)},_unbindNonQueryEventHandler:function(t,e){var i=this.eventToCallbackMap[t];if(void 0!==i)for(var n=0;n<i.length;n++)if(i[n]===e){i.splice(n,1);break}},_cleanUpEventCallbacksMap:function(){for(var t=Object.keys(this.eventToCallbackMap),e=0;e<t.length;e++){var i=t[e];delete this.eventToCallbackMap[i]}},_showTooltip:function(){!1===this.options.tooltip_split?(this._addClass(this.tooltip,"show"),this.tooltip_min.style.display="none",this.tooltip_max.style.display="none"):(this._addClass(this.tooltip_min,"show"),this._addClass(this.tooltip_max,"show"),this.tooltip.style.display="none"),this._state.over=!0},_hideTooltip:function(){!1===this._state.inDrag&&!0!==this._alwaysShowTooltip&&(this._removeClass(this.tooltip,"show"),this._removeClass(this.tooltip_min,"show"),this._removeClass(this.tooltip_max,"show")),this._state.over=!1},_setToolTipOnMouseOver:function(t){function e(t,e){return e?[100-t.percentage[0],i.options.range?100-t.percentage[1]:t.percentage[1]]:[t.percentage[0],t.percentage[1]]}var i=this,n=this.options.formatter(t?t.value[0]:this._state.value[0]),r=e(t||this._state,this.options.reversed);this._setText(this.tooltipInner,n),this.tooltip.style[this.stylePos]=r[0]+"%"},_copyState:function(){return{value:[this._state.value[0],this._state.value[1]],enabled:this._state.enabled,offset:this._state.offset,size:this._state.size,percentage:[this._state.percentage[0],this._state.percentage[1],this._state.percentage[2]],inDrag:this._state.inDrag,over:this._state.over,dragged:this._state.dragged,keyCtrl:this._state.keyCtrl}},_addTickListener:function(){return{addMouseEnter:function(t,e,i){var n=function(){var n=t._copyState(),r=e===t.handle1?n.value[0]:n.value[1],o=void 0;void 0!==i?(r=t.options.ticks[i],o=t.options.ticks_positions.length>0&&t.options.ticks_positions[i]||t._toPercentage(t.options.ticks[i])):o=t._toPercentage(r),n.value[0]=r,n.percentage[0]=o,t._setToolTipOnMouseOver(n),t._showTooltip()};return e.addEventListener("mouseenter",n,!1),n},addMouseLeave:function(t,e){var i=function(){t._hideTooltip()};return e.addEventListener("mouseleave",i,!1),i}}},_layout:function(){var t,e,i;if(t=this.options.reversed?[100-this._state.percentage[0],this.options.range?100-this._state.percentage[1]:this._state.percentage[1]]:[this._state.percentage[0],this._state.percentage[1]],this.handle1.style[this.stylePos]=t[0]+"%",this.handle1.setAttribute("aria-valuenow",this._state.value[0]),e=this.options.formatter(this._state.value[0]),isNaN(e)?this.handle1.setAttribute("aria-valuetext",e):this.handle1.removeAttribute("aria-valuetext"),this.handle2.style[this.stylePos]=t[1]+"%",this.handle2.setAttribute("aria-valuenow",this._state.value[1]),e=this.options.formatter(this._state.value[1]),isNaN(e)?this.handle2.setAttribute("aria-valuetext",e):this.handle2.removeAttribute("aria-valuetext"),this.rangeHighlightElements.length>0&&Array.isArray(this.options.rangeHighlights)&&this.options.rangeHighlights.length>0)for(var n=0;n<this.options.rangeHighlights.length;n++){var r=this._toPercentage(this.options.rangeHighlights[n].start),o=this._toPercentage(this.options.rangeHighlights[n].end);if(this.options.reversed){var s=100-o;o=100-r,r=s}var a=this._createHighlightRange(r,o);a?"vertical"===this.options.orientation?(this.rangeHighlightElements[n].style.top=a.start+"%",this.rangeHighlightElements[n].style.height=a.size+"%"):(this.options.rtl?this.rangeHighlightElements[n].style.right=a.start+"%":this.rangeHighlightElements[n].style.left=a.start+"%",this.rangeHighlightElements[n].style.width=a.size+"%"):this.rangeHighlightElements[n].style.display="none"}if(Array.isArray(this.options.ticks)&&this.options.ticks.length>0){var l,c="vertical"===this.options.orientation?"height":"width";l="vertical"===this.options.orientation?"marginTop":this.options.rtl?"marginRight":"marginLeft";var u=this._state.size/(this.options.ticks.length-1);if(this.tickLabelContainer){var h=0;if(0===this.options.ticks_positions.length)"vertical"!==this.options.orientation&&(this.tickLabelContainer.style[l]=-u/2+"px"),h=this.tickLabelContainer.offsetHeight;else for(d=0;d<this.tickLabelContainer.childNodes.length;d++)this.tickLabelContainer.childNodes[d].offsetHeight>h&&(h=this.tickLabelContainer.childNodes[d].offsetHeight);"horizontal"===this.options.orientation&&(this.sliderElem.style.marginBottom=h+"px")}for(var d=0;d<this.options.ticks.length;d++){var p=this.options.ticks_positions[d]||this._toPercentage(this.options.ticks[d]);this.options.reversed&&(p=100-p),this.ticks[d].style[this.stylePos]=p+"%",this._removeClass(this.ticks[d],"in-selection"),this.options.range?p>=t[0]&&p<=t[1]&&this._addClass(this.ticks[d],"in-selection"):("after"===this.options.selection&&p>=t[0]||"before"===this.options.selection&&p<=t[0])&&this._addClass(this.ticks[d],"in-selection"),this.tickLabels[d]&&(this.tickLabels[d].style[c]=u+"px","vertical"!==this.options.orientation&&void 0!==this.options.ticks_positions[d]?(this.tickLabels[d].style.position="absolute",this.tickLabels[d].style[this.stylePos]=p+"%",this.tickLabels[d].style[l]=-u/2+"px"):"vertical"===this.options.orientation&&(this.options.rtl?this.tickLabels[d].style.marginRight=this.sliderElem.offsetWidth+"px":this.tickLabels[d].style.marginLeft=this.sliderElem.offsetWidth+"px",this.tickLabelContainer.style[l]=this.sliderElem.offsetWidth/2*-1+"px"),this._removeClass(this.tickLabels[d],"label-in-selection label-is-selection"),this.options.range?p>=t[0]&&p<=t[1]&&(this._addClass(this.tickLabels[d],"label-in-selection"),(p===t[0]||t[1])&&this._addClass(this.tickLabels[d],"label-is-selection")):(("after"===this.options.selection&&p>=t[0]||"before"===this.options.selection&&p<=t[0])&&this._addClass(this.tickLabels[d],"label-in-selection"),p===t[0]&&this._addClass(this.tickLabels[d],"label-is-selection")))}}if(this.options.range){i=this.options.formatter(this._state.value),this._setText(this.tooltipInner,i),this.tooltip.style[this.stylePos]=(t[1]+t[0])/2+"%";var f=this.options.formatter(this._state.value[0]);this._setText(this.tooltipInner_min,f);var m=this.options.formatter(this._state.value[1]);this._setText(this.tooltipInner_max,m),this.tooltip_min.style[this.stylePos]=t[0]+"%",this.tooltip_max.style[this.stylePos]=t[1]+"%"}else i=this.options.formatter(this._state.value[0]),this._setText(this.tooltipInner,i),this.tooltip.style[this.stylePos]=t[0]+"%";if("vertical"===this.options.orientation)this.trackLow.style.top="0",this.trackLow.style.height=Math.min(t[0],t[1])+"%",this.trackSelection.style.top=Math.min(t[0],t[1])+"%",this.trackSelection.style.height=Math.abs(t[0]-t[1])+"%",this.trackHigh.style.bottom="0",this.trackHigh.style.height=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";else{"right"===this.stylePos?this.trackLow.style.right="0":this.trackLow.style.left="0",this.trackLow.style.width=Math.min(t[0],t[1])+"%","right"===this.stylePos?this.trackSelection.style.right=Math.min(t[0],t[1])+"%":this.trackSelection.style.left=Math.min(t[0],t[1])+"%",this.trackSelection.style.width=Math.abs(t[0]-t[1])+"%","right"===this.stylePos?this.trackHigh.style.left="0":this.trackHigh.style.right="0",this.trackHigh.style.width=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";var g=this.tooltip_min.getBoundingClientRect(),v=this.tooltip_max.getBoundingClientRect();"bottom"===this.options.tooltip_position?g.right>v.left?(this._removeClass(this.tooltip_max,"bs-tooltip-bottom"),this._addClass(this.tooltip_max,"bs-tooltip-top"),this.tooltip_max.style.top="",this.tooltip_max.style.bottom="22px"):(this._removeClass(this.tooltip_max,"bs-tooltip-top"),this._addClass(this.tooltip_max,"bs-tooltip-bottom"),this.tooltip_max.style.top=this.tooltip_min.style.top,this.tooltip_max.style.bottom=""):g.right>v.left?(this._removeClass(this.tooltip_max,"bs-tooltip-top"),this._addClass(this.tooltip_max,"bs-tooltip-bottom"),this.tooltip_max.style.top="18px"):(this._removeClass(this.tooltip_max,"bs-tooltip-bottom"),this._addClass(this.tooltip_max,"bs-tooltip-top"),this.tooltip_max.style.top=this.tooltip_min.style.top)}},_createHighlightRange:function(t,e){return this._isHighlightRange(t,e)?t>e?{start:e,size:t-e}:{start:t,size:e-t}:null},_isHighlightRange:function(t,e){return 0<=t&&t<=100&&0<=e&&e<=100},_resize:function(){this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this._layout()},_removeProperty:function(t,e){t.style.removeProperty?t.style.removeProperty(e):t.style.removeAttribute(e)},_mousedown:function(t){if(!this._state.enabled)return!1;t.preventDefault&&t.preventDefault(),this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos];var e=this._getPercentage(t);if(this.options.range){var i=Math.abs(this._state.percentage[0]-e),n=Math.abs(this._state.percentage[1]-e);this._state.dragged=i<n?0:1,this._adjustPercentageForRangeSliders(e)}else this._state.dragged=0;this._state.percentage[this._state.dragged]=e,this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),this.mousemove&&document.removeEventListener("mousemove",this.mousemove,!1),this.mouseup&&document.removeEventListener("mouseup",this.mouseup,!1),this.mousemove=this._mousemove.bind(this),this.mouseup=this._mouseup.bind(this),this.touchCapable&&(document.addEventListener("touchmove",this.mousemove,!1),document.addEventListener("touchend",this.mouseup,!1)),document.addEventListener("mousemove",this.mousemove,!1),document.addEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!0;var r=this._calculateValue();return this._trigger("slideStart",r),this.setValue(r,!1,!0),t.returnValue=!1,this.options.focus&&this._triggerFocusOnHandle(this._state.dragged),!0},_touchstart:function(t){this._mousedown(t)},_triggerFocusOnHandle:function(t){0===t&&this.handle1.focus(),1===t&&this.handle2.focus()},_keydown:function(t,e){if(!this._state.enabled)return!1;var i;switch(e.keyCode){case 37:case 40:i=-1;break;case 39:case 38:i=1}if(i){if(this.options.natural_arrow_keys){var n="horizontal"===this.options.orientation,r="vertical"===this.options.orientation,o=this.options.rtl,s=this.options.reversed;n?o?s||(i=-i):s&&(i=-i):r&&(s||(i=-i))}var a;if(this.ticksAreValid&&this.options.lock_to_ticks){var l=void 0;-1===(l=this.options.ticks.indexOf(this._state.value[t]))&&(l=0,window.console.warn("(lock_to_ticks) _keydown: index should not be -1")),l+=i,l=Math.max(0,Math.min(this.options.ticks.length-1,l)),a=this.options.ticks[l]}else a=this._state.value[t]+i*this.options.step;var c=this._toPercentage(a);if(this._state.keyCtrl=t,this.options.range){this._adjustPercentageForRangeSliders(c);var u=this._state.keyCtrl?this._state.value[0]:a,h=this._state.keyCtrl?a:this._state.value[1];a=[Math.max(this.options.min,Math.min(this.options.max,u)),Math.max(this.options.min,Math.min(this.options.max,h))]}else a=Math.max(this.options.min,Math.min(this.options.max,a));return this._trigger("slideStart",a),this.setValue(a,!0,!0),this._trigger("slideStop",a),this._pauseEvent(e),delete this._state.keyCtrl,!1}},_pauseEvent:function(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1},_mousemove:function(t){if(!this._state.enabled)return!1;var e=this._getPercentage(t);this._adjustPercentageForRangeSliders(e),this._state.percentage[this._state.dragged]=e;var i=this._calculateValue(!0);return this.setValue(i,!0,!0),!1},_touchmove:function(t){void 0!==t.changedTouches&&t.preventDefault&&t.preventDefault()},_adjustPercentageForRangeSliders:function(t){if(this.options.range){var e=this._getNumDigitsAfterDecimalPlace(t);e=e?e-1:0;var i=this._applyToFixedAndParseFloat(t,e);0===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[1],e)<i?(this._state.percentage[0]=this._state.percentage[1],this._state.dragged=1):1===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[0],e)>i?(this._state.percentage[1]=this._state.percentage[0],this._state.dragged=0):0===this._state.keyCtrl&&this._toPercentage(this._state.value[1])<t?(this._state.percentage[0]=this._state.percentage[1],this._state.keyCtrl=1,this.handle2.focus()):1===this._state.keyCtrl&&this._toPercentage(this._state.value[0])>t&&(this._state.percentage[1]=this._state.percentage[0],this._state.keyCtrl=0,this.handle1.focus())}},_mouseup:function(t){if(!this._state.enabled)return!1;var e=this._getPercentage(t);this._adjustPercentageForRangeSliders(e),this._state.percentage[this._state.dragged]=e,this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),document.removeEventListener("mousemove",this.mousemove,!1),document.removeEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!1,!1===this._state.over&&this._hideTooltip();var i=this._calculateValue(!0);return this.setValue(i,!1,!0),this._trigger("slideStop",i),this._state.dragged=null,!1},_setValues:function(t,e){var i=0===t?0:100;this._state.percentage[t]!==i&&(e.data[t]=this._toValue(this._state.percentage[t]),e.data[t]=this._applyPrecision(e.data[t]))},_calculateValue:function(t){var e={};return this.options.range?(e.data=[this.options.min,this.options.max],this._setValues(0,e),this._setValues(1,e),t&&(e.data[0]=this._snapToClosestTick(e.data[0]),e.data[1]=this._snapToClosestTick(e.data[1]))):(e.data=this._toValue(this._state.percentage[0]),e.data=parseFloat(e.data),e.data=this._applyPrecision(e.data),t&&(e.data=this._snapToClosestTick(e.data))),e.data},_snapToClosestTick:function(t){for(var e=[t,1/0],i=0;i<this.options.ticks.length;i++){var n=Math.abs(this.options.ticks[i]-t);n<=e[1]&&(e=[this.options.ticks[i],n])}return e[1]<=this.options.ticks_snap_bounds?e[0]:t},_applyPrecision:function(t){var e=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(t,e)},_getNumDigitsAfterDecimalPlace:function(t){var e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0},_applyToFixedAndParseFloat:function(t,e){var i=t.toFixed(e);return parseFloat(i)},_getPercentage:function(t){!this.touchCapable||"touchstart"!==t.type&&"touchmove"!==t.type&&"touchend"!==t.type||(t=t.changedTouches[0]);var e=t[this.mousePos]-this._state.offset[this.stylePos];"right"===this.stylePos&&(e=-e);var i=e/this._state.size*100;return i=Math.round(i/this._state.percentage[2])*this._state.percentage[2],this.options.reversed&&(i=100-i),Math.max(0,Math.min(100,i))},_validateInputValue:function(t){if(isNaN(+t)){if(Array.isArray(t))return this._validateArray(t),t;throw new Error(s.formatInvalidInputErrorMsg(t))}return+t},_validateArray:function(t){for(var e=0;e<t.length;e++){var i=t[e];if("number"!=typeof i)throw new Error(s.formatInvalidInputErrorMsg(i))}},_setDataVal:function(t){this.element.setAttribute("data-value",t),this.element.setAttribute("value",t),this.element.value=t},_trigger:function(e,i){i=i||0===i?i:void 0;var n=this.eventToCallbackMap[e];if(n&&n.length)for(var r=0;r<n.length;r++){(0,n[r])(i)}t&&this._triggerJQueryEvent(e,i)},_triggerJQueryEvent:function(t,e){var i={type:t,value:e};this.$element.trigger(i),this.$sliderElem.trigger(i)},_unbindJQueryEventHandlers:function(){this.$element.off(),this.$sliderElem.off()},_setText:function(t,e){void 0!==t.textContent?t.textContent=e:void 0!==t.innerText&&(t.innerText=e)},_removeClass:function(t,e){for(var i=e.split(" "),n=t.className,r=0;r<i.length;r++){var o=i[r],s=new RegExp("(?:\\s|^)"+o+"(?:\\s|$)");n=n.replace(s," ")}t.className=n.trim()},_addClass:function(t,e){for(var i=e.split(" "),n=t.className,r=0;r<i.length;r++){var o=i[r];new RegExp("(?:\\s|^)"+o+"(?:\\s|$)").test(n)||(n+=" "+o)}t.className=n.trim()},_offsetLeft:function(t){return t.getBoundingClientRect().left},_offsetRight:function(t){return t.getBoundingClientRect().right},_offsetTop:function(t){for(var e=t.offsetTop;(t=t.offsetParent)&&!isNaN(t.offsetTop);)e+=t.offsetTop,"BODY"!==t.tagName&&(e-=t.scrollTop);return e},_offset:function(t){return{left:this._offsetLeft(t),right:this._offsetRight(t),top:this._offsetTop(t)}},_css:function(e,i,n){if(t)t.style(e,i,n);else{var r=i.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(t,e){return e.toUpperCase()}));e.style[r]=n}},_toValue:function(t){return this.options.scale.toValue.apply(this,[t])},_toPercentage:function(t){return this.options.scale.toPercentage.apply(this,[t])},_setTooltipPosition:function(){var t=[this.tooltip,this.tooltip_min,this.tooltip_max];if("vertical"===this.options.orientation){var e,i="left"===(e=this.options.tooltip_position?this.options.tooltip_position:this.options.rtl?"left":"right")?"right":"left";t.forEach(function(t){this._addClass(t,"bs-tooltip-"+e),t.style[i]="100%"}.bind(this))}else"bottom"===this.options.tooltip_position?t.forEach(function(t){this._addClass(t,"bs-tooltip-bottom"),t.style.top="22px"}.bind(this)):t.forEach(function(t){this._addClass(t,"bs-tooltip-top"),t.style.top=-this.tooltip.outerHeight-14+"px"}.bind(this))},_getClosestTickIndex:function(t){for(var e=Math.abs(t-this.options.ticks[0]),i=0,n=0;n<this.options.ticks.length;++n){var r=Math.abs(t-this.options.ticks[n]);r<e&&(e=r,i=n)}return i},_setTickIndex:function(){this.ticksAreValid&&(this._state.tickIndex=[this.options.ticks.indexOf(this._state.value[0]),this.options.ticks.indexOf(this._state.value[1])])}},t&&t.fn&&(t.fn.slider?(windowIsDefined&&window.console.warn("bootstrap-slider.js - WARNING: $.fn.slider namespace is already bound. Use the $.fn.bootstrapSlider namespace instead."),o=n):(t.bridget(i,e),o=i),t.bridget(n,e),t((function(){t("input[data-provide=slider]")[o]()})))}(t),e})),function(t,e){"use strict";var i;t.rails!==e&&t.error("jquery-ujs has already been loaded!");var n=t(document);t.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return t("meta[name=csrf-token]").attr("content")},csrfParam:function(){return t("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=i.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){t('form input[name="'+i.csrfParam()+'"]').val(i.csrfToken())},fire:function(e,i,n){var r=t.Event(i);return e.trigger(r,n),!1!==r.result},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==e&&!1!==t.data("remote")},handleRemote:function(n){var r,o,s,a,l,c;if(i.fire(n,"ajax:before")){if(a=n.data("with-credentials")||null,l=n.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,n.is("form")){r=n.data("ujs:submit-button-formmethod")||n.attr("method"),o=n.data("ujs:submit-button-formaction")||n.attr("action"),s=t(n[0]).serializeArray();var u=n.data("ujs:submit-button");u&&(s.push(u),n.data("ujs:submit-button",null)),n.data("ujs:submit-button-formmethod",null),n.data("ujs:submit-button-formaction",null)}else n.is(i.inputChangeSelector)?(r=n.data("method"),o=n.data("url"),s=n.serialize(),n.data("params")&&(s=s+"&"+n.data("params"))):n.is(i.buttonClickSelector)?(r=n.data("method")||"get",o=n.data("url"),s=n.serialize(),n.data("params")&&(s=s+"&"+n.data("params"))):(r=n.data("method"),o=i.href(n),s=n.data("params")||null);return c={type:r||"GET",data:s,dataType:l,beforeSend:function(t,r){if(r.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),!i.fire(n,"ajax:beforeSend",[t,r]))return!1;n.trigger("ajax:send",t)},success:function(t,e,i){n.trigger("ajax:success",[t,e,i])},complete:function(t,e){n.trigger("ajax:complete",[t,e])},error:function(t,e,i){n.trigger("ajax:error",[t,e,i])},crossDomain:i.isCrossDomain(o)},a&&(c.xhrFields={withCredentials:a}),o&&(c.url=o),i.ajax(c)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var i=document.createElement("a");try{return i.href=t,i.href=i.href,!((!i.protocol||":"===i.protocol)&&!i.host||e.protocol+"//"+e.host==i.protocol+"//"+i.host)}catch(t){return!0}},handleMethod:function(n){var r=i.href(n),o=n.data("method"),s=n.attr("target"),a=i.csrfToken(),l=i.csrfParam(),c=t('<form method="post" action="'+r+'"></form>'),u='<input name="_method" value="'+o+'" type="hidden" />';l===e||a===e||i.isCrossDomain(r)||(u+='<input name="'+l+'" value="'+a+'" type="hidden" />'),s&&c.attr("target",s),c.hide().append(u).appendTo("body"),c.submit()},formElements:function(e,i){return e.is("form")?t(e[0].elements).filter(i):e.find(i)},disableFormElements:function(e){i.formElements(e,i.disableSelector).each((function(){i.disableFormElement(t(this))}))},disableFormElement:function(t){var i,n;i=t.is("button")?"html":"val",(n=t.data("disable-with"))!==e&&(t.data("ujs:enable-with",t[i]()),t[i](n)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(e){i.formElements(e,i.enableSelector).each((function(){i.enableFormElement(t(this))}))},enableFormElement:function(t){var i=t.is("button")?"html":"val";t.data("ujs:enable-with")!==e&&(t[i](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,n=t.data("confirm"),r=!1;if(!n)return!0;if(i.fire(t,"confirm")){try{r=i.confirm(n)}catch(t){(console.error||console.log).call(console,t.stack||t)}e=i.fire(t,"confirm:complete",[r])}return r&&e},blankInputs:function(e,i,n){var r,o,s,a=t(),l=i||"input,textarea",c=e.find(l),u={};return c.each((function(){(r=t(this)).is("input[type=radio]")?(s=r.attr("name"),u[s]||(0===e.find('input[type=radio]:checked[name="'+s+'"]').length&&(o=e.find('input[type=radio][name="'+s+'"]'),a=a.add(o)),u[s]=s)):(r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):!!r.val())===n&&(a=a.add(r))})),!!a.length&&a},nonBlankInputs:function(t,e){return i.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var n=t.data("disable-with");n!==e&&(t.data("ujs:enable-with",t.html()),t.html(n)),t.bind("click.railsDisable",(function(t){
return i.stopEverything(t)})),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable"),t.removeData("ujs:disabled")}},i.fire(n,"rails:attachBindings")&&(t.ajaxPrefilter((function(t,e,n){t.crossDomain||i.CSRFProtection(n)})),t(window).on("pageshow.rails",(function(){t(t.rails.enableSelector).each((function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableFormElement(e)})),t(t.rails.linkDisableSelector).each((function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableElement(e)}))})),n.on("ajax:complete",i.linkDisableSelector,(function(){i.enableElement(t(this))})),n.on("ajax:complete",i.buttonDisableSelector,(function(){i.enableFormElement(t(this))})),n.on("click.rails",i.linkClickSelector,(function(e){var n=t(this),r=n.data("method"),o=n.data("params"),s=e.metaKey||e.ctrlKey;if(!i.allowAction(n))return i.stopEverything(e);if(!s&&n.is(i.linkDisableSelector)&&i.disableElement(n),i.isRemote(n)){if(s&&(!r||"GET"===r)&&!o)return!0;var a=i.handleRemote(n);return!1===a?i.enableElement(n):a.fail((function(){i.enableElement(n)})),!1}return r?(i.handleMethod(n),!1):void 0})),n.on("click.rails",i.buttonClickSelector,(function(e){var n=t(this);if(!i.allowAction(n)||!i.isRemote(n))return i.stopEverything(e);n.is(i.buttonDisableSelector)&&i.disableFormElement(n);var r=i.handleRemote(n);return!1===r?i.enableFormElement(n):r.fail((function(){i.enableFormElement(n)})),!1})),n.on("change.rails",i.inputChangeSelector,(function(e){var n=t(this);return i.allowAction(n)&&i.isRemote(n)?(i.handleRemote(n),!1):i.stopEverything(e)})),n.on("submit.rails",i.formSubmitSelector,(function(n){var r,o,s=t(this),a=i.isRemote(s);if(!i.allowAction(s))return i.stopEverything(n);if(s.attr("novalidate")===e)if(s.data("ujs:formnovalidate-button")===e){if((r=i.blankInputs(s,i.requiredInputSelector,!1))&&i.fire(s,"ajax:aborted:required",[r]))return i.stopEverything(n)}else s.data("ujs:formnovalidate-button",e);if(a){if(o=i.nonBlankInputs(s,i.fileInputSelector)){setTimeout((function(){i.disableFormElements(s)}),13);var l=i.fire(s,"ajax:aborted:file",[o]);return l||setTimeout((function(){i.enableFormElements(s)}),13),l}return i.handleRemote(s),!1}setTimeout((function(){i.disableFormElements(s)}),13)})),n.on("click.rails",i.formInputClickSelector,(function(e){var n=t(this);if(!i.allowAction(n))return i.stopEverything(e);var r=n.attr("name"),o=r?{name:r,value:n.val()}:null,s=n.closest("form");0===s.length&&(s=t("#"+n.attr("form"))),s.data("ujs:submit-button",o),s.data("ujs:formnovalidate-button",n.attr("formnovalidate")),s.data("ujs:submit-button-formaction",n.attr("formaction")),s.data("ujs:submit-button-formmethod",n.attr("formmethod"))})),n.on("ajax:send.rails",i.formSubmitSelector,(function(e){this===e.target&&i.disableFormElements(t(this))})),n.on("ajax:complete.rails",i.formSubmitSelector,(function(e){this===e.target&&i.enableFormElements(t(this))})),t((function(){i.refreshCSRFTokens()})))}(jQuery),function(t){var e=0,i=function(){return(new Date).getTime()+e++},n=function(t){return"["+t+"]$1"},r=function(t){return"_"+t+"_$1"},o=function(e,i,n){return e?"function"==typeof e?(i&&console.warn("association-insertion-traversal is ignored, because association-insertion-node is given as a function."),e(n)):"string"==typeof e?i?n[i](e):"this"==e?n:t(e):void 0:n.parent()};t(document).on("click",".add_fields",(function(e){e.preventDefault(),e.stopPropagation();var s=t(this),a=s.data("association"),l=s.data("associations"),c=s.data("association-insertion-template"),u=s.data("association-insertion-method")||s.data("association-insertion-position")||"before",h=s.data("association-insertion-node"),d=s.data("association-insertion-traversal"),p=parseInt(s.data("count"),10),f=new RegExp("\\[new_"+a+"\\](.*?\\s)","g"),m=new RegExp("_new_"+a+"_(\\w*)","g"),g=i(),v=c.replace(f,n(g)),y=[],b=e;for(v==c&&(f=new RegExp("\\[new_"+l+"\\](.*?\\s)","g"),m=new RegExp("_new_"+l+"_(\\w*)","g"),v=c.replace(f,n(g))),y=[v=v.replace(m,r(g))],p=isNaN(p)?1:Math.max(p,1),p-=1;p;)g=i(),v=(v=c.replace(f,n(g))).replace(m,r(g)),y.push(v),p-=1;var w=o(h,d,s);w&&0!=w.length||console.warn("Couldn't find the element to insert the template. Make sure your `data-association-insertion-*` on `link_to_add_association` is correct."),t.each(y,(function(e,i){var n=t(i),r=jQuery.Event("cocoon:before-insert");if(w.trigger(r,[n,b]),!r.isDefaultPrevented()){w[u](n);w.trigger("cocoon:after-insert",[n,b])}}))})),t(document).on("click",".remove_fields.dynamic, .remove_fields.existing",(function(e){var i=t(this),n=i.data("wrapper-class")||"nested-fields",r=i.closest("."+n),o=r.parent(),s=e;e.preventDefault(),e.stopPropagation();var a=jQuery.Event("cocoon:before-remove");if(o.trigger(a,[r,s]),!a.isDefaultPrevented()){var l=o.data("remove-timeout")||0;setTimeout((function(){i.hasClass("dynamic")?r.detach():(i.prev("input[type=hidden]").val("1"),r.hide()),o.trigger("cocoon:after-remove",[r,s])}),l)}})),t(document).on("ready page:load turbolinks:load",(function(){t(".remove_fields.existing.destroyed").each((function(){var e=t(this),i=e.data("wrapper-class")||"nested-fields";e.closest("."+i).hide()}))}))}(jQuery),function(t,e){function i(t,e,i,n){this.node=t,this.current_node=e,this.new_position=i,this.old_position=n}function n(t,e,i,n){this.node=t,this.current_node=e,this.new_position=i,this.positions_updater=n}function r(t,e,i,n){this.node=t,this.current_node=e,this.new_position=i,this.positions_updater=n}function o(t,i){this.node=t,i||(i={}),i.update=e.proxy(this.sortable_stop_handler,this);var n={axis:"y"},r=e.extend({},n,i);this.node.sortable(r)}if(!e)throw new Error("jQuery required by Sortable");i.prototype.update=function(){var t=this.new_position>this.old_position?-1:1,i=-1===t?this.old_position+1:this.new_position,n=-1===t?this.new_position:this.old_position-1,r=this.current_node.data("role");e("*[data-position]",this.node).filter((function(){var t=e(this).data("position"),o=e(this).data("role");return r!==o&&t>=i&&t<=n})).each((function(){var i=e(this),n=i.data("position")+t;i.attr("data-position",n).data("position",n);var r=e('*[data-role~="position"]',i);r.length>0&&r.val(n)}))},n.prototype.sort=function(){e.ajax({type:"POST",dataType:"script",url:this.current_node.data("move-url"),data:{position:this.new_position},success:e.proxy(this.sort_by_server_success,this),error:e.proxy(this.sort_by_server_error,this)})},n.prototype.sort_by_server_success=function(){this.positions_updater.update(),this.node.trigger("sortable:sort_success").trigger("sortable:stop").sortable("enable")},n.prototype.sort_by_server_error=function(){this.node.sortable("cancel").trigger("sortable:sort_error").trigger("sortable:stop").sortable("enable")},r.prototype.sort=function(){var t=e('*[data-role~="position"]',this.current_node);t.length>0?(this.positions_updater.update(),this.current_node.data("position",this.new_position),t.val(this.new_position)):console&&console.error&&console.error('Could not found any *[data-role~="position"] element for',this.current_node),this.node.trigger("sortable:sort_success").trigger("sortable:stop").sortable("enable")},o.prototype.sortable_stop_handler=function(t,e){this.node.sortable("disable").trigger("sortable:start");var o=e.item,s=o.index(),a=parseInt(o.data("position")),l=new i(this.node,o,s,a);new(o.data("move-url")?n:r)(this.node,o,s,l).sort()},e.fn.activerecord_sortable=function(t){e(this).each((function(){var i=e(this),n=new o(i,t);i.data("sortable-instance",n)}))}}(window,window.jQuery),function(){function t(t){"use strict";var e={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Specify a prefix to generated header ids",type:"string"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,description:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,description:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"}};if(!1===t)return JSON.parse(JSON.stringify(e));var i={};for(var n in e)e.hasOwnProperty(n)&&(i[n]=e[n].defaultValue);return i}function e(t,e){"use strict";var i=e?"Error in "+e+" extension->":"Error in unnamed extension",r={valid:!0,error:""};n.helper.isArray(t)||(t=[t]);for(var o=0;o<t.length;++o){var s=i+" sub-extension "+o+": ",a=t[o];if("object"!=typeof a)return r.valid=!1,r.error=s+"must be an object, but "+typeof a+" given",r;if(!n.helper.isString(a.type))return r.valid=!1,r.error=s+'property "type" must be a string, but '+typeof a.type+" given",r;var l=a.type=a.type.toLowerCase();if("language"===l&&(l=a.type="lang"),"html"===l&&(l=a.type="output"),"lang"!==l&&"output"!==l&&"listener"!==l)return r.valid=!1,r.error=s+"type "+l+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',r;if("listener"===l){if(n.helper.isUndefined(a.listeners))return r.valid=!1,r.error=s+'. Extensions of type "listener" must have a property called "listeners"',r}else if(n.helper.isUndefined(a.filter)&&n.helper.isUndefined(a.regex))return r.valid=!1,r.error=s+l+' extensions must define either a "regex" property or a "filter" method',r;if(a.listeners){if("object"!=typeof a.listeners)return r.valid=!1,r.error=s+'"listeners" property must be an object but '+typeof a.listeners+" given",r;for(var c in a.listeners)if(a.listeners.hasOwnProperty(c)&&"function"!=typeof a.listeners[c])return r.valid=!1,r.error=s+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+c+" must be a function but "+typeof a.listeners[c]+" given",r}if(a.filter){if("function"!=typeof a.filter)return r.valid=!1,r.error=s+'"filter" must be a function, but '+typeof a.filter+" given",r}else if(a.regex){if(n.helper.isString(a.regex)&&(a.regex=new RegExp(a.regex,"g")),!a.regex instanceof RegExp)return r.valid=!1,r.error=s+'"regex" property must either be a string or a RegExp object, but '+typeof a.regex+" given",r;if(n.helper.isUndefined(a.replace))return r.valid=!1,r.error=s+'"regex" extensions must implement a replace string or function',r}}return r}function i(t,e){"use strict";return"~E"+e.charCodeAt(0)+"E"}var n={},r={},o={},s=t(!0),a={github:{omitExtraWLInCodeBlocks:!0,prefixHeaderId:"user-content-",simplifiedAutoLink:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0},vanilla:t(!0)};n.helper={},n.extensions={},n.setOption=function(t,e){"use strict";return s[t]=e,this},n.getOption=function(t){"use strict";return s[t]},n.getOptions=function(){"use strict";return s},n.resetOptions=function(){"use strict";s=t(!0)},n.setFlavor=function(t){"use strict";if(a.hasOwnProperty(t)){var e=a[t];for(var i in e)e.hasOwnProperty(i)&&(s[i]=e[i])}},n.getDefaultOptions=function(e){"use strict";return t(e)},n.subParser=function(t,e){"use strict";if(n.helper.isString(t)){if(void 0===e){if(r.hasOwnProperty(t))return r[t];throw Error("SubParser named "+t+" not registered!")}r[t]=e}},n.extension=function(t,i){"use strict";if(!n.helper.isString(t))throw Error("Extension 'name' must be a string");if(t=n.helper.stdExtName(t),n.helper.isUndefined(i)){if(!o.hasOwnProperty(t))throw Error("Extension named "+t+" is not registered!");return o[t]}"function"==typeof i&&(i=i()),n.helper.isArray(i)||(i=[i]);var r=e(i,t);if(!r.valid)throw Error(r.error);o[t]=i},n.getAllExtensions=function(){"use strict";return o},n.removeExtension=function(t){"use strict";delete o[t]},n.resetExtensions=function(){"use strict";o={}},n.validateExtension=function(t){"use strict";var i=e(t,null);return!!i.valid||(console.warn(i.error),!1)},n.hasOwnProperty("helper")||(n.helper={}),n.helper.isString=function(t){"use strict";return"string"==typeof t||t instanceof String},n.helper.isFunction=function(t){"use strict";return t&&"[object Function]"==={}.toString.call(t)},n.helper.forEach=function(t,e){"use strict";if("function"==typeof t.forEach)t.forEach(e);else for(var i=0;i<t.length;i++)e(t[i],i,t)},n.helper.isArray=function(t){"use strict";return t.constructor===Array},n.helper.isUndefined=function(t){"use strict";return void 0===t},n.helper.stdExtName=function(t){"use strict";return t.replace(/[_-]||\s/g,"").toLowerCase()},n.helper.escapeCharactersCallback=i,n.helper.escapeCharacters=function(t,e,n){"use strict";var r="(["+e.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(r="\\\\"+r);var o=new RegExp(r,"g");return t=t.replace(o,i)};var l=function(t,e,i,n){"use strict";var r,o,s,a,l,c=n||"",u=c.indexOf("g")>-1,h=new RegExp(e+"|"+i,"g"+c.replace(/g/g,"")),d=new RegExp(e,c.replace(/g/g,"")),p=[];do{for(r=0;s=h.exec(t);)if(d.test(s[0]))r++||(a=(o=h.lastIndex)-s[0].length);else if(r&&! --r){l=s.index+s[0].length;var f={left:{start:a,end:o},match:{start:o,end:s.index},right:{start:s.index,end:l},wholeMatch:{start:a,end:l}};if(p.push(f),!u)return p}}while(r&&(h.lastIndex=o));return p};n.helper.matchRecursiveRegExp=function(t,e,i,n){"use strict";for(var r=l(t,e,i,n),o=[],s=0;s<r.length;++s)o.push([t.slice(r[s].wholeMatch.start,r[s].wholeMatch.end),t.slice(r[s].match.start,r[s].match.end),t.slice(r[s].left.start,r[s].left.end),t.slice(r[s].right.start,r[s].right.end)]);return o},n.helper.replaceRecursiveRegExp=function(t,e,i,r,o){"use strict";if(!n.helper.isFunction(e)){var s=e;e=function(){return s}}var a=l(t,i,r,o),c=t,u=a.length;if(u>0){var h=[];0!==a[0].wholeMatch.start&&h.push(t.slice(0,a[0].wholeMatch.start));for(var d=0;d<u;++d)h.push(e(t.slice(a[d].wholeMatch.start,a[d].wholeMatch.end),t.slice(a[d].match.start,a[d].match.end),t.slice(a[d].left.start,a[d].left.end),t.slice(a[d].right.start,a[d].right.end))),d<u-1&&h.push(t.slice(a[d].wholeMatch.end,a[d+1].wholeMatch.start));a[u-1].wholeMatch.end<t.length&&h.push(t.slice(a[u-1].wholeMatch.end)),c=h.join("")}return c},n.helper.isUndefined(console)&&(console={warn:function(t){"use strict";alert(t)},log:function(t){"use strict";alert(t)},error:function(t){"use strict";throw t}}),n.Converter=function(t){"use strict";function i(){for(var e in t=t||{},s)s.hasOwnProperty(e)&&(h[e]=s[e]);if("object"!=typeof t)throw Error("Converter expects the passed parameter to be an object, but "+typeof t+" was passed instead.");for(var i in t)t.hasOwnProperty(i)&&(h[i]=t[i]);h.extensions&&n.helper.forEach(h.extensions,r)}function r(t,i){if(i=i||null,n.helper.isString(t)){if(i=t=n.helper.stdExtName(t),n.extensions[t])return console.warn("DEPRECATION WARNING: "+t+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),void l(n.extensions[t],t);if(n.helper.isUndefined(o[t]))throw Error('Extension "'+t+'" could not be loaded. It was either not found or is not a valid extension.');t=o[t]}"function"==typeof t&&(t=t()),n.helper.isArray(t)||(t=[t]);var r=e(t,i);if(!r.valid)throw Error(r.error);for(var s=0;s<t.length;++s){switch(t[s].type){case"lang":d.push(t[s]);break;case"output":p.push(t[s])}if(t[s].hasOwnProperty(f))for(var a in t[s].listeners)t[s].listeners.hasOwnProperty(a)&&c(a,t[s].listeners[a])}}function l(t,i){"function"==typeof t&&(t=t(new n.Converter)),n.helper.isArray(t)||(t=[t]);var r=e(t,i);if(!r.valid)throw Error(r.error);for(var o=0;o<t.length;++o)switch(t[o].type){case"lang":d.push(t[o]);break;case"output":p.push(t[o]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function c(t,e){if(!n.helper.isString(t))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof t+" given");if("function"!=typeof e)throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof e+" given");f.hasOwnProperty(t)||(f[t]=[]),f[t].push(e)}function u(t){var e=t.match(/^\s*/)[0].length,i=new RegExp("^\\s{0,"+e+"}","gm");return t.replace(i,"")}var h={},d=[],p=[],f={};i(),this._dispatch=function(t,e,i,n){if(f.hasOwnProperty(t))for(var r=0;r<f[t].length;++r){var o=f[t][r](t,e,this,i,n);o&&void 0!==o&&(e=o)}return e},this.listen=function(t,e){return c(t,e),this},this.makeHtml=function(t){if(!t)return t;var e={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:d,outputModifiers:p,converter:this,ghCodeBlocks:[]};return t=(t=(t=(t=t.replace(/~/g,"~T")).replace(/\$/g,"~D")).replace(/\r\n/g,"\n")).replace(/\r/g,"\n"),h.smartIndentationFix&&(t=u(t)),t="\n\n"+t+"\n\n",t=n.subParser("detab")(t,h,e),t=n.subParser("stripBlankLines")(t,h,e),n.helper.forEach(d,(function(i){t=n.subParser("runExtension")(i,t,h,e)})),t=n.subParser("hashPreCodeTags")(t,h,e),t=n.subParser("githubCodeBlocks")(t,h,e),t=n.subParser("hashHTMLBlocks")(t,h,e),t=n.subParser("hashHTMLSpans")(t,h,e),t=n.subParser("stripLinkDefinitions")(t,h,e),t=n.subParser("blockGamut")(t,h,e),t=n.subParser("unhashHTMLSpans")(t,h,e),t=(t=(t=n.subParser("unescapeSpecialChars")(t,h,e)).replace(/~D/g,"$$")).replace(/~T/g,"~"),n.helper.forEach(p,(function(i){t=n.subParser("runExtension")(i,t,h,e)})),t},this.setOption=function(t,e){h[t]=e},this.getOption=function(t){return h[t]},this.getOptions=function(){return h},this.addExtension=function(t,e){r(t,e=e||null)},this.useExtension=function(t){r(t)},this.setFlavor=function(t){if(a.hasOwnProperty(t)){var e=a[t];for(var i in e)e.hasOwnProperty(i)&&(h[i]=e[i])}},this.removeExtension=function(t){n.helper.isArray(t)||(t=[t]);for(var e=0;e<t.length;++e){for(var i=t[e],r=0;r<d.length;++r)d[r]===i&&d[r].splice(r,1);for(var o=0;o<p.length;++r)p[o]===i&&p[o].splice(r,1)}},this.getAllExtensions=function(){return{language:d,output:p}}},n.subParser("anchors",(function(t,e,i){"use strict";var r=function(t,e,r,o,s,a,l,c){n.helper.isUndefined(c)&&(c=""),t=e;var u=r,h=o.toLowerCase(),d=s,p=c;if(!d)if(h||(h=u.toLowerCase().replace(/ ?\n/g," ")),d="#"+h,n.helper.isUndefined(i.gUrls[h])){if(!(t.search(/\(\s*\)$/m)>-1))return t;d=""}else d=i.gUrls[h],n.helper.isUndefined(i.gTitles[h])||(p=i.gTitles[h]);var f='<a href="'+(d=n.helper.escapeCharacters(d,"*_",!1))+'"';return""!==p&&null!==p&&(p=p.replace(/"/g,"&quot;"),f+=' title="'+(p=n.helper.escapeCharacters(p,"*_",!1))+'"'),f+=">"+u+"</a>"};return t=(t=(t=(t=i.converter._dispatch("anchors.before",t,e,i)).replace(/(\[((?:\[[^\]]*]|[^\[\]])*)][ ]?(?:\n[ ]*)?\[(.*?)])()()()()/g,r)).replace(/(\[((?:\[[^\]]*]|[^\[\]])*)]\([ \t]*()<?(.*?(?:\(.*?\).*?)?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,r)).replace(/(\[([^\[\]]+)])()()()()()/g,r),t=i.converter._dispatch("anchors.after",t,e,i)})),n.subParser("autoLinks",(function(t,e,i){"use strict";function r(t,e){var i=e;return/^www\./i.test(e)&&(e=e.replace(/^www\./i,"http://www.")),'<a href="'+e+'">'+i+"</a>"}function o(t,e){var i=n.subParser("unescapeSpecialChars")(e);return n.subParser("encodeEmailAddress")(i)}var s=/\b(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+)(?=\s|$)(?!["<>])/gi,a=/<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)>/gi,l=/(?:^|\s)([A-Za-z0-9!#$%&'*+-/=?^_`\{|}~\.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?:$|\s)/gi,c=/<(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi;return t=(t=(t=i.converter._dispatch("autoLinks.before",t,e,i)).replace(a,r)).replace(c,o),e.simplifiedAutoLink&&(t=(t=t.replace(s,r)).replace(l,o)),t=i.converter._dispatch("autoLinks.after",t,e,i)})),n.subParser("blockGamut",(function(t,e,i){"use strict";t=i.converter._dispatch("blockGamut.before",t,e,i),t=n.subParser("blockQuotes")(t,e,i),t=n.subParser("headers")(t,e,i);var r=n.subParser("hashBlock")("<hr />",e,i);return t=(t=(t=t.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,r)).replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,r)).replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,r),t=n.subParser("lists")(t,e,i),t=n.subParser("codeBlocks")(t,e,i),t=n.subParser("tables")(t,e,i),t=n.subParser("hashHTMLBlocks")(t,e,i),t=n.subParser("paragraphs")(t,e,i),t=i.converter._dispatch("blockGamut.after",t,e,i)})),n.subParser("blockQuotes",(function(t,e,i){"use strict";return t=(t=i.converter._dispatch("blockQuotes.before",t,e,i)).replace(/((^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+)/gm,(function(t,r){var o=r;return o=(o=(o=o.replace(/^[ \t]*>[ \t]?/gm,"~0")).replace(/~0/g,"")).replace(/^[ \t]+$/gm,""),o=n.subParser("githubCodeBlocks")(o,e,i),o=(o=(o=n.subParser("blockGamut")(o,e,i)).replace(/(^|\n)/g,"$1  ")).replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,(function(t,e){var i=e;return i=(i=i.replace(/^  /gm,"~0")).replace(/~0/g,"")})),n.subParser("hashBlock")("<blockquote>\n"+o+"\n</blockquote>",e,i)})),t=i.converter._dispatch("blockQuotes.after",t,e,i)})),n.subParser("codeBlocks",(function(t,e,i){"use strict";t=i.converter._dispatch("codeBlocks.before",t,e,i);var r=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g;return t=(t=(t+="~0").replace(r,(function(t,r,o){var s=r,a=o,l="\n";return s=n.subParser("outdent")(s),s=n.subParser("encodeCode")(s),s=(s=(s=n.subParser("detab")(s)).replace(/^\n+/g,"")).replace(/\n+$/g,""),e.omitExtraWLInCodeBlocks&&(l=""),s="<pre><code>"+s+l+"</code></pre>",n.subParser("hashBlock")(s,e,i)+a}))).replace(/~0/,""),t=i.converter._dispatch("codeBlocks.after",t,e,i)})),n.subParser("codeSpans",(function(t,e,i){"use strict";return void 0===(t=i.converter._dispatch("codeSpans.before",t,e,i))&&(t=""),t=t.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,(function(t,e,i,r){var o=r;return o=(o=o.replace(/^([ \t]*)/g,"")).replace(/[ \t]*$/g,""),e+"<code>"+(o=n.subParser("encodeCode")(o))+"</code>"})),t=i.converter._dispatch("codeSpans.after",t,e,i)})),n.subParser("detab",(function(t){"use strict";return t=(t=(t=(t=(t=t.replace(/\t(?=\t)/g,"    ")).replace(/\t/g,"~A~B")).replace(/~B(.+?)~A/g,(function(t,e){for(var i=e,n=4-i.length%4,r=0;r<n;r++)i+=" ";return i}))).replace(/~A/g,"    ")).replace(/~B/g,"")})),n.subParser("encodeAmpsAndAngles",(function(t){"use strict";return t=(t=t.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;")).replace(/<(?![a-z\/?\$!])/gi,"&lt;")})),n.subParser("encodeBackslashEscapes",(function(t){"use strict";return t=(t=t.replace(/\\(\\)/g,n.helper.escapeCharactersCallback)).replace(/\\([`*_{}\[\]()>#+-.!])/g,n.helper.escapeCharactersCallback)})),n.subParser("encodeCode",(function(t){"use strict";return t=(t=(t=t.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),t=n.helper.escapeCharacters(t,"*_{}[]\\",!1)})),n.subParser("encodeEmailAddress",(function(t){"use strict";var e=[function(t){return"&#"+t.charCodeAt(0)+";"},function(t){return"&#x"+t.charCodeAt(0).toString(16)+";"},function(t){return t}];return t=(t='<a href="'+(t=(t="mailto:"+t).replace(/./g,(function(t){if("@"===t)t=e[Math.floor(2*Math.random())](t);else if(":"!==t){var i=Math.random();t=i>.9?e[2](t):i>.45?e[1](t):e[0](t)}return t})))+'">'+t+"</a>").replace(/">.+:/g,'">')})),n.subParser("escapeSpecialCharsWithinTagAttributes",(function(t){"use strict";var e=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;return t=t.replace(e,(function(t){var e=t.replace(/(.)<\/?code>(?=.)/g,"$1`");return e=n.helper.escapeCharacters(e,"\\`*_",!1)}))})),n.subParser("githubCodeBlocks",(function(t,e,i){"use strict";return e.ghCodeBlocks?(t=i.converter._dispatch("githubCodeBlocks.before",t,e,i),t=(t=(t+="~0").replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,(function(t,r,o){var s=e.omitExtraWLInCodeBlocks?"":"\n";return o=n.subParser("encodeCode")(o),o="<pre><code"+(r?' class="'+r+" language-"+r+'"':"")+">"+(o=(o=(o=n.subParser("detab")(o)).replace(/^\n+/g,"")).replace(/\n+$/g,""))+s+"</code></pre>",o=n.subParser("hashBlock")(o,e,i),"\n\n~G"+(i.ghCodeBlocks.push({text:t,codeblock:o})-1)+"G\n\n"}))).replace(/~0/,""),i.converter._dispatch("githubCodeBlocks.after",t,e,i)):t})),n.subParser("hashBlock",(function(t,e,i){"use strict";return t=t.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(i.gHtmlBlocks.push(t)-1)+"K\n\n"})),n.subParser("hashElement",(function(t,e,i){"use strict";return function(t,e){var n=e;return n=(n=(n=n.replace(/\n\n/g,"\n")).replace(/^\n/,"")).replace(/\n+$/g,""),n="\n\n~K"+(i.gHtmlBlocks.push(n)-1)+"K\n\n"}})),n.subParser("hashHTMLBlocks",(function(t,e,i){"use strict";for(var r=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],o=function(t,e,n,r){var o=t;return-1!==n.search(/\bmarkdown\b/)&&(o=n+i.converter.makeHtml(e)+r),"\n\n~K"+(i.gHtmlBlocks.push(o)-1)+"K\n\n"},s=0;s<r.length;++s)t=n.helper.replaceRecursiveRegExp(t,o,"^ {0,3}<"+r[s]+"\\b[^>]*>","</"+r[s]+">","gim");return t=t.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,n.subParser("hashElement")(t,e,i)),t=(t=n.helper.replaceRecursiveRegExp(t,(function(t){return"\n\n~K"+(i.gHtmlBlocks.push(t)-1)+"K\n\n"}),"^ {0,3}<!--","-->","gm")).replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,n.subParser("hashElement")(t,e,i))})),n.subParser("hashHTMLSpans",(function(t,e,i){"use strict";for(var r=n.helper.matchRecursiveRegExp(t,"<code\\b[^>]*>","</code>","gi"),o=0;o<r.length;++o)t=t.replace(r[o][0],"~L"+(i.gHtmlSpans.push(r[o][0])-1)+"L");return t})),n.subParser("unhashHTMLSpans",(function(t,e,i){"use strict";for(var n=0;n<i.gHtmlSpans.length;++n)t=t.replace("~L"+n+"L",i.gHtmlSpans[n]);return t})),n.subParser("hashPreCodeTags",(function(t,e,i){"use strict";var r=function(t,e,r,o){var s=r+n.subParser("encodeCode")(e)+o;return"\n\n~G"+(i.ghCodeBlocks.push({text:t,codeblock:s})-1)+"G\n\n"};return t=n.helper.replaceRecursiveRegExp(t,r,"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim")})),n.subParser("headers",(function(t,e,i){"use strict";function r(t){var e,r=t.replace(/[^\w]/g,"").toLowerCase();return i.hashLinkCounts[r]?e=r+"-"+i.hashLinkCounts[r]++:(e=r,i.hashLinkCounts[r]=1),!0===o&&(o="section"),n.helper.isString(o)?o+e:e}t=i.converter._dispatch("headers.before",t,e,i);var o=e.prefixHeaderId,s=isNaN(parseInt(e.headerLevelStart))?1:parseInt(e.headerLevelStart),a=e.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,l=e.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;return t=(t=(t=t.replace(a,(function(t,o){var a=n.subParser("spanGamut")(o,e,i),l=e.noHeaderId?"":' id="'+r(o)+'"',c="<h"+s+l+">"+a+"</h"+s+">";return n.subParser("hashBlock")(c,e,i)}))).replace(l,(function(t,o){var a=n.subParser("spanGamut")(o,e,i),l=e.noHeaderId?"":' id="'+r(o)+'"',c=s+1,u="<h"+c+l+">"+a+"</h"+c+">";return n.subParser("hashBlock")(u,e,i)}))).replace(/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm,(function(t,o,a){var l=n.subParser("spanGamut")(a,e,i),c=e.noHeaderId?"":' id="'+r(a)+'"',u=s-1+o.length,h="<h"+u+c+">"+l+"</h"+u+">";return n.subParser("hashBlock")(h,e,i)})),t=i.converter._dispatch("headers.after",t,e,i)})),n.subParser("images",(function(t,e,i){"use strict";function r(t,e,r,o,s,a,l,c){var u=i.gUrls,h=i.gTitles,d=i.gDimensions;if(r=r.toLowerCase(),c||(c=""),""===o||null===o){if(""!==r&&null!==r||(r=e.toLowerCase().replace(/ ?\n/g," ")),o="#"+r,n.helper.isUndefined(u[r]))return t;o=u[r],n.helper.isUndefined(h[r])||(c=h[r]),n.helper.isUndefined(d[r])||(s=d[r].width,a=d[r].height)}e=e.replace(/"/g,"&quot;"),e=n.helper.escapeCharacters(e,"*_",!1);var p='<img src="'+(o=n.helper.escapeCharacters(o,"*_",!1))+'" alt="'+e+'"';return c&&(c=c.replace(/"/g,"&quot;"),p+=' title="'+(c=n.helper.escapeCharacters(c,"*_",!1))+'"'),s&&a&&(p+=' width="'+(s="*"===s?"auto":s)+'"',p+=' height="'+(a="*"===a?"auto":a)+'"'),p+=" />"}var o=/!\[(.*?)]\s?\([ \t]*()<?(\S+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(['"])(.*?)\6[ \t]*)?\)/g,s=/!\[([^\]]*?)] ?(?:\n *)?\[(.*?)]()()()()()/g;return t=(t=(t=i.converter._dispatch("images.before",t,e,i)).replace(s,r)).replace(o,r),t=i.converter._dispatch("images.after",t,e,i)})),n.subParser("italicsAndBold",(function(t,e,i){"use strict";return t=i.converter._dispatch("italicsAndBold.before",t,e,i),t=e.literalMidWordUnderscores?(t=(t=(t=t.replace(/(^|\s|>|\b)__(?=\S)([\s\S]+?)__(?=\b|<|\s|$)/gm,"$1<strong>$2</strong>")).replace(/(^|\s|>|\b)_(?=\S)([\s\S]+?)_(?=\b|<|\s|$)/gm,"$1<em>$2</em>")).replace(/(\*\*)(?=\S)([^\r]*?\S[*]*)\1/g,"<strong>$2</strong>")).replace(/(\*)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>"):(t=t.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>")).replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>"),t=i.converter._dispatch("italicsAndBold.after",t,e,i)})),n.subParser("lists",(function(t,e,i){"use strict";function r(t,r){i.gListLevel++,t=t.replace(/\n{2,}$/,"\n"),t+="~0";var o=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(~0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,s=/\n[ \t]*\n(?!~0)/.test(t);return e.disableForced4SpacesIndentedSublists&&(o=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm),t=(t=t.replace(o,(function(t,r,o,a,l,c,u){u=u&&""!==u.trim();var h=n.subParser("outdent")(l,e,i),d="";return c&&e.tasklists&&(d=' class="task-list-item" style="list-style-type: none;"',h=h.replace(/^[ \t]*\[(x|X| )?]/m,(function(){var t='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return u&&(t+=" checked"),t+=">"}))),r||h.search(/\n{2,}/)>-1?(h=n.subParser("githubCodeBlocks")(h,e,i),h=n.subParser("blockGamut")(h,e,i)):(h=(h=n.subParser("lists")(h,e,i)).replace(/\n$/,""),h=s?n.subParser("paragraphs")(h,e,i):n.subParser("spanGamut")(h,e,i)),h="<li"+d+">"+h+"</li>\n"}))).replace(/~0/g,""),i.gListLevel--,r&&(t=t.replace(/\s+$/,"")),t}function o(t,i,n){var o=e.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,s=e.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,a="ul"===i?o:s,l="";return-1!==t.search(a)?function t(e){var c=e.search(a);-1!==c?(l+="\n<"+i+">\n"+r(e.slice(0,c),!!n)+"</"+i+">\n",a="ul"===(i="ul"===i?"ol":"ul")?o:s,t(e.slice(c))):l+="\n<"+i+">\n"+r(e,!!n)+"</"+i+">\n"}(t):l="\n<"+i+">\n"+r(t,!!n)+"</"+i+">\n",l}return t=i.converter._dispatch("lists.before",t,e,i),t+="~0",t=(t=i.gListLevel?t.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,(function(t,e,i){return o(e,i.search(/[*+-]/g)>-1?"ul":"ol",!0)})):t.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,(function(t,e,i,n){return o(i,n.search(/[*+-]/g)>-1?"ul":"ol",!1)}))).replace(/~0/,""),t=i.converter._dispatch("lists.after",t,e,i)})),n.subParser("outdent",(function(t){"use strict";return t=(t=t.replace(/^(\t|[ ]{1,4})/gm,"~0")).replace(/~0/g,"")})),n.subParser("paragraphs",(function(t,e,i){"use strict";for(var r=(t=(t=(t=i.converter._dispatch("paragraphs.before",t,e,i)).replace(/^\n+/g,"")).replace(/\n+$/g,"")).split(/\n{2,}/g),o=[],s=r.length,a=0;a<s;a++){var l=r[a];l.search(/~(K|G)(\d+)\1/g)>=0||(l=(l=n.subParser("spanGamut")(l,e,i)).replace(/^([ \t]*)/g,"<p>"),l+="</p>"),o.push(l)}for(s=o.length,a=0;a<s;a++){for(var c="",u=o[a],h=!1;u.search(/~(K|G)(\d+)\1/)>=0;){var d=RegExp.$1,p=RegExp.$2;c=(c="K"===d?i.gHtmlBlocks[p]:h?n.subParser("encodeCode")(i.ghCodeBlocks[p].text):i.ghCodeBlocks[p].codeblock).replace(/\$/g,"$$$$"),u=u.replace(/(\n\n)?~(K|G)\d+\2(\n\n)?/,c),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(u)&&(h=!0)}o[a]=u}return t=(t=(t=o.join("\n")).replace(/^\n+/g,"")).replace(/\n+$/g,""),i.converter._dispatch("paragraphs.after",t,e,i)})),n.subParser("runExtension",(function(t,e,i,n){"use strict";if(t.filter)e=t.filter(e,n.converter,i);else if(t.regex){var r=t.regex;!r instanceof RegExp&&(r=new RegExp(r,"g")),e=e.replace(r,t.replace)}return e})),n.subParser("spanGamut",(function(t,e,i){
"use strict";return t=i.converter._dispatch("spanGamut.before",t,e,i),t=n.subParser("codeSpans")(t,e,i),t=n.subParser("escapeSpecialCharsWithinTagAttributes")(t,e,i),t=n.subParser("encodeBackslashEscapes")(t,e,i),t=n.subParser("images")(t,e,i),t=n.subParser("anchors")(t,e,i),t=n.subParser("autoLinks")(t,e,i),t=n.subParser("encodeAmpsAndAngles")(t,e,i),t=n.subParser("italicsAndBold")(t,e,i),t=(t=n.subParser("strikethrough")(t,e,i)).replace(/  +\n/g," <br />\n"),t=i.converter._dispatch("spanGamut.after",t,e,i)})),n.subParser("strikethrough",(function(t,e,i){"use strict";return e.strikethrough&&(t=(t=i.converter._dispatch("strikethrough.before",t,e,i)).replace(/(?:~T){2}([\s\S]+?)(?:~T){2}/g,"<del>$1</del>"),t=i.converter._dispatch("strikethrough.after",t,e,i)),t})),n.subParser("stripBlankLines",(function(t){"use strict";return t.replace(/^[ \t]+$/gm,"")})),n.subParser("stripLinkDefinitions",(function(t,e,i){"use strict";var r=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(\S+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=~0))/gm;return t=(t=(t+="~0").replace(r,(function(t,r,o,s,a,l,c){return r=r.toLowerCase(),i.gUrls[r]=n.subParser("encodeAmpsAndAngles")(o),l?l+c:(c&&(i.gTitles[r]=c.replace(/"|'/g,"&quot;")),e.parseImgDimensions&&s&&a&&(i.gDimensions[r]={width:s,height:a}),"")}))).replace(/~0/,"")})),n.subParser("tables",(function(t,e,i){"use strict";function r(t){return/^:[ \t]*--*$/.test(t)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(t)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(t)?' style="text-align:center;"':""}function o(t,r){var o="";return t=t.trim(),e.tableHeaderId&&(o=' id="'+t.replace(/ /g,"_").toLowerCase()+'"'),"<th"+o+r+">"+(t=n.subParser("spanGamut")(t,e,i))+"</th>\n"}function s(t,r){return"<td"+r+">"+n.subParser("spanGamut")(t,e,i)+"</td>\n"}function a(t,e){for(var i="<table>\n<thead>\n<tr>\n",n=t.length,r=0;r<n;++r)i+=t[r];for(i+="</tr>\n</thead>\n<tbody>\n",r=0;r<e.length;++r){i+="<tr>\n";for(var o=0;o<n;++o)i+=e[r][o];i+="</tr>\n"}return i+="</tbody>\n</table>\n"}if(!e.tables)return t;var l=/^ {0,3}\|?.+\|.+\n[ \t]{0,3}\|?[ \t]*:?[ \t]*(?:-|=){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:-|=){2,}[\s\S]+?(?:\n\n|~0)/gm;return t=(t=i.converter._dispatch("tables.before",t,e,i)).replace(l,(function(t){var e,i=t.split("\n");for(e=0;e<i.length;++e)/^ {0,3}\|/.test(i[e])&&(i[e]=i[e].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(i[e])&&(i[e]=i[e].replace(/\|[ \t]*$/,""));var l=i[0].split("|").map((function(t){return t.trim()})),c=i[1].split("|").map((function(t){return t.trim()})),u=[],h=[],d=[],p=[];for(i.shift(),i.shift(),e=0;e<i.length;++e)""!==i[e].trim()&&u.push(i[e].split("|").map((function(t){return t.trim()})));if(l.length<c.length)return t;for(e=0;e<c.length;++e)d.push(r(c[e]));for(e=0;e<l.length;++e)n.helper.isUndefined(d[e])&&(d[e]=""),h.push(o(l[e],d[e]));for(e=0;e<u.length;++e){for(var f=[],m=0;m<h.length;++m)n.helper.isUndefined(u[e][m]),f.push(s(u[e][m],d[m]));p.push(f)}return a(h,p)})),t=i.converter._dispatch("tables.after",t,e,i)})),n.subParser("unescapeSpecialChars",(function(t){"use strict";return t=t.replace(/~E(\d+)E/g,(function(t,e){var i=parseInt(e);return String.fromCharCode(i)}))}));var c=this;"undefined"!=typeof module&&module.exports?module.exports=n:"function"==typeof define&&define.amd?define((function(){"use strict";return n})):c.showdown=n}.call(this),function(t){var e=!1;if("function"==typeof define&&define.amd&&(define(t),e=!0),"object"==typeof exports&&(module.exports=t(),e=!0),!e){var i=window.Cookies,n=window.Cookies=t();n.noConflict=function(){return window.Cookies=i,n}}}((function(){function t(){for(var t=0,e={};t<arguments.length;t++){var i=arguments[t];for(var n in i)e[n]=i[n]}return e}function e(i){function n(e,r,o){var s;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(o=t({path:"/"},n.defaults,o)).expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*o.expires),o.expires=a}o.expires=o.expires?o.expires.toUTCString():"";try{s=JSON.stringify(r),/^[\{\[]/.test(s)&&(r=s)}catch(t){}r=i.write?i.write(r,e):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var l="";for(var c in o)o[c]&&(l+="; "+c,!0!==o[c]&&(l+="="+o[c]));return document.cookie=e+"="+r+l}e||(s={});for(var u=document.cookie?document.cookie.split("; "):[],h=/(%[0-9A-Z]{2})+/g,d=0;d<u.length;d++){var p=u[d].split("="),f=p.slice(1).join("=");this.json||'"'!==f.charAt(0)||(f=f.slice(1,-1));try{var m=p[0].replace(h,decodeURIComponent);if(f=i.read?i.read(f,m):i(f,m)||f.replace(h,decodeURIComponent),this.json)try{f=JSON.parse(f)}catch(t){}if(e===m){s=f;break}e||(s[m]=f)}catch(t){}}return s}}return n.set=n,n.get=function(t){return n.call(n,t)},n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(e,i){n(e,"",t(i,{expires:-1}))},n.withConverter=e,n}return e((function(){}))})),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=global.window&&global.window.$?t(global.window.$):function(e){if(!e.$&&!e.fn)throw new Error("Tokenfield requires a window object with jQuery or a jQuery instance");return t(e.$||e)}:t(jQuery,window)}((function(t,e){"use strict";var i=function(i,n){var r=this;this.$element=t(i),this.textDirection=this.$element.css("direction"),this.options=t.extend(!0,{},t.fn.tokenfield.defaults,{tokens:this.$element.val()},this.$element.data(),n),this._delimiters="string"==typeof this.options.delimiter?[this.options.delimiter]:this.options.delimiter,this._triggerKeys=t.map(this._delimiters,(function(t){return t.charCodeAt(0)})),this._firstDelimiter=this._delimiters[0];var o=t.inArray(" ",this._delimiters),s=t.inArray("-",this._delimiters);o>=0&&(this._delimiters[o]="\\s"),s>=0&&(delete this._delimiters[s],this._delimiters.unshift("-"));var a=["\\","$","[","{","^",".","|","?","*","+","(",")"];t.each(this._delimiters,(function(e,i){t.inArray(i,a)>=0&&(r._delimiters[e]="\\"+i)}));var l,c=e&&"function"==typeof e.getMatchedCSSRules?e.getMatchedCSSRules(i):null,u=i.style.width,h=this.$element.width();c&&t.each(c,(function(t,e){e.style.width&&(l=e.style.width)}));var d="rtl"===t("body").css("direction")?"right":"left",p={position:this.$element.css("position")};p[d]=this.$element.css(d),this.$element.data("original-styles",p).data("original-tabindex",this.$element.prop("tabindex")).css("position","absolute").css(d,"-10000px").prop("tabindex",-1),this.$wrapper=t('<div class="tokenfield form-control" />'),this.$element.hasClass("input-lg")&&this.$wrapper.addClass("input-lg"),this.$element.hasClass("input-sm")&&this.$wrapper.addClass("input-sm"),"rtl"===this.textDirection&&this.$wrapper.addClass("rtl");var f=this.$element.prop("id")||(new Date).getTime()+""+Math.floor(100*(1+Math.random()));this.$input=t('<input type="'+this.options.inputType+'" class="token-input" autocomplete="off" />').appendTo(this.$wrapper).prop("placeholder",this.$element.prop("placeholder")).prop("id",f+"-tokenfield").prop("tabindex",this.$element.data("original-tabindex"));var m=t('label[for="'+this.$element.prop("id")+'"]');if(m.length&&m.prop("for",this.$input.prop("id")),this.$copyHelper=t('<input type="text" />').css("position","absolute").css(d,"-10000px").prop("tabindex",-1).prependTo(this.$wrapper),u?this.$wrapper.css("width",u):l?this.$wrapper.css("width",l):this.$element.parents(".form-inline").length&&this.$wrapper.width(h),(this.$element.prop("disabled")||this.$element.parents("fieldset[disabled]").length)&&this.disable(),this.$element.prop("readonly")&&this.readonly(),this.$mirror=t('<span style="position:absolute; top:-999px; left:0; white-space:pre;"/>'),this.$input.css("min-width",this.options.minWidth+"px"),t.each(["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],(function(t,e){r.$mirror[0].style[e]=r.$input.css(e)})),this.$mirror.appendTo("body"),this.$wrapper.insertBefore(this.$element),this.$element.prependTo(this.$wrapper),this.update(),this.setTokens(this.options.tokens,!1,!this.$element.val()&&this.options.tokens),this.listen(),!t.isEmptyObject(this.options.autocomplete)){var g="rtl"===this.textDirection?"right":"left",v=t.extend({minLength:this.options.showAutocompleteOnFocus?0:null,position:{my:g+" top",at:g+" bottom",of:this.$wrapper}},this.options.autocomplete);this.$input.autocomplete(v)}if(!t.isEmptyObject(this.options.typeahead)){var y=this.options.typeahead,b={minLength:this.options.showAutocompleteOnFocus?0:null},w=t.isArray(y)?y:[y,y];w[0]=t.extend({},b,w[0]),this.$input.typeahead.apply(this.$input,w),this.$hint=this.$input.prev(".tt-hint"),this.typeahead=!0}};i.prototype={constructor:i,createToken:function(e,i){var n=this;if(void 0===i&&(i=!0),(e="string"==typeof e?{value:e,label:e}:t.extend({},e)).value=t.trim(e.value.toString()),e.label=e.label&&e.label.length?t.trim(e.label):e.value,e.value.length&&e.label.length&&!(e.label.length<=this.options.minLength)&&!(this.options.limit&&this.getTokens().length>=this.options.limit)){var r=t.Event("tokenfield:createtoken",{attrs:e});if(this.$element.trigger(r),r.attrs&&!r.isDefaultPrevented()){var o=t('<div class="token" />').append('<span class="token-label" />').append('<a href="#" class="close" tabindex="-1">&times;</a>').data("attrs",e);this.$input.hasClass("tt-input")?this.$input.parent().before(o):this.$input.before(o),this.$input.css("width",this.options.minWidth+"px");var s=o.find(".token-label"),a=o.find(".close");return this.maxTokenWidth||(this.maxTokenWidth=this.$wrapper.width()-a.outerWidth()-parseInt(a.css("margin-left"),10)-parseInt(a.css("margin-right"),10)-parseInt(o.css("border-left-width"),10)-parseInt(o.css("border-right-width"),10)-parseInt(o.css("padding-left"),10)-parseInt(o.css("padding-right"),10),parseInt(s.css("border-left-width"),10),parseInt(s.css("border-right-width"),10),parseInt(s.css("padding-left"),10),parseInt(s.css("padding-right"),10),parseInt(s.css("margin-left"),10),parseInt(s.css("margin-right"),10)),s.text(e.label).css("max-width",this.maxTokenWidth),o.on("mousedown",(function(){if(n._disabled||n._readonly)return!1;n.preventDeactivation=!0})).on("click",(function(t){return!n._disabled&&!n._readonly&&(n.preventDeactivation=!1,t.ctrlKey||t.metaKey?(t.preventDefault(),n.toggle(o)):void n.activate(o,t.shiftKey,t.shiftKey))})).on("dblclick",(function(){if(n._disabled||n._readonly||!n.options.allowEditing)return!1;n.edit(o)})),a.on("click",t.proxy(this.remove,this)),this.$element.trigger(t.Event("tokenfield:createdtoken",{attrs:e,relatedTarget:o.get(0)})),i&&this.$element.val(this.getTokensList()).trigger(t.Event("change",{initiator:"tokenfield"})),this.update(),this.$element.get(0)}}},setTokens:function(e,i,n){if(e){i||this.$wrapper.find(".token").remove(),void 0===n&&(n=!0),"string"==typeof e&&(e=this._delimiters.length?e.split(new RegExp("["+this._delimiters.join("")+"]")):[e]);var r=this;return t.each(e,(function(t,e){r.createToken(e,n)})),this.$element.get(0)}},getTokenData:function(e){var i=e.map((function(){return t(this).data("attrs")})).get();return 1==i.length&&(i=i[0]),i},getTokens:function(e){var i=this,n=[],r=e?".active":"";return this.$wrapper.find(".token"+r).each((function(){n.push(i.getTokenData(t(this)))})),n},getTokensList:function(e,i,n){var r=(e=e||this._firstDelimiter)+((i=null!=i?i:this.options.beautify)&&" "!==e?" ":"");return t.map(this.getTokens(n),(function(t){return t.value})).join(r)},getInput:function(){return this.$input.val()},listen:function(){var i=this;this.$element.on("change",t.proxy(this.change,this)),this.$wrapper.on("mousedown",t.proxy(this.focusInput,this)),this.$input.on("focus",t.proxy(this.focus,this)).on("blur",t.proxy(this.blur,this)).on("paste",t.proxy(this.paste,this)).on("keydown",t.proxy(this.keydown,this)).on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this)),this.$copyHelper.on("focus",t.proxy(this.focus,this)).on("blur",t.proxy(this.blur,this)).on("keydown",t.proxy(this.keydown,this)).on("keyup",t.proxy(this.keyup,this)),this.$input.on("keypress",t.proxy(this.update,this)).on("keyup",t.proxy(this.update,this)),this.$input.on("autocompletecreate",(function(){var e=t(this).data("ui-autocomplete").menu.element,n=i.$wrapper.outerWidth()-parseInt(e.css("border-left-width"),10)-parseInt(e.css("border-right-width"),10);e.css("min-width",n+"px")})).on("autocompleteselect",(function(t,e){return i.createToken(e.item)&&(i.$input.val(""),i.$input.data("edit")&&i.unedit(!0)),!1})).on("typeahead:selected typeahead:autocompleted",(function(t,e){i.createToken(e)&&(i.$input.typeahead("val",""),i.$input.data("edit")&&i.unedit(!0))})),t(e).on("resize",t.proxy(this.update,this))},keydown:function(e){function i(t){if(r.$input.is(document.activeElement)){if(r.$input.val().length>0)return;t+="All";var i=r.$input.hasClass("tt-input")?r.$input.parent()[t](".token:first"):r.$input[t](".token:first");if(!i.length)return;r.preventInputFocus=!0,r.preventDeactivation=!0,r.activate(i),e.preventDefault()}else r[t](e.shiftKey),e.preventDefault()}function n(i){if(e.shiftKey){if(r.$input.is(document.activeElement)){if(r.$input.val().length>0)return;var n=r.$input.hasClass("tt-input")?r.$input.parent()[i+"All"](".token:first"):r.$input[i+"All"](".token:first");if(!n.length)return;r.activate(n)}var o="prev"===i?"next":"prev",s="prev"===i?"first":"last";r.$firstActiveToken[o+"All"](".token").each((function(){r.deactivate(t(this))})),r.activate(r.$wrapper.find(".token:"+s),!0,!0),e.preventDefault()}}if(this.focused){var r=this;switch(e.keyCode){case 8:if(!this.$input.is(document.activeElement))break;this.lastInputValue=this.$input.val();break;case 37:i("rtl"===this.textDirection?"next":"prev");break;case 38:n("prev");break;case 39:i("rtl"===this.textDirection?"prev":"next");break;case 40:n("next");break;case 65:if(this.$input.val().length>0||!e.ctrlKey&&!e.metaKey)break;this.activateAll(),e.preventDefault();break;case 9:case 13:if(this.$input.data("ui-autocomplete")&&this.$input.data("ui-autocomplete").menu.element.find("li:has(a.ui-state-focus), li.ui-state-focus").length)break;if(this.$input.hasClass("tt-input")&&this.$wrapper.find(".tt-cursor").length)break;if(this.$input.hasClass("tt-input")&&this.$wrapper.find(".tt-hint").val()&&this.$wrapper.find(".tt-hint").val().length)break;if(this.$input.is(document.activeElement)&&this.$input.val().length||this.$input.data("edit"))return this.createTokensFromInput(e,this.$input.data("edit"));if(13===e.keyCode){if(!this.$copyHelper.is(document.activeElement)||1!==this.$wrapper.find(".token.active").length)break;if(!r.options.allowEditing)break;this.edit(this.$wrapper.find(".token.active"))}}this.lastKeyDown=e.keyCode}},keypress:function(e){if(-1!==t.inArray(e.which,this._triggerKeys)&&this.$input.is(document.activeElement))return this.$input.val()&&this.createTokensFromInput(e),!1},keyup:function(t){if(this.preventInputFocus=!1,this.focused){switch(t.keyCode){case 8:if(this.$input.is(document.activeElement)){if(this.$input.val().length||this.lastInputValue.length&&8===this.lastKeyDown)break;this.preventDeactivation=!0;var e=this.$input.hasClass("tt-input")?this.$input.parent().prevAll(".token:first"):this.$input.prevAll(".token:first");if(!e.length)break;this.activate(e)}else this.remove(t);break;case 46:this.remove(t,"next")}this.lastKeyUp=t.keyCode}},focus:function(){this.focused=!0,this.$wrapper.addClass("focus"),this.$input.is(document.activeElement)&&(this.$wrapper.find(".active").removeClass("active"),this.$firstActiveToken=null,this.options.showAutocompleteOnFocus&&this.search())},blur:function(t){this.focused=!1,this.$wrapper.removeClass("focus"),this.preventDeactivation||this.$element.is(document.activeElement)||(this.$wrapper.find(".active").removeClass("active"),this.$firstActiveToken=null),!this.preventCreateTokens&&(this.$input.data("edit")&&!this.$input.is(document.activeElement)||this.options.createTokensOnBlur)&&this.createTokensFromInput(t),this.preventDeactivation=!1,this.preventCreateTokens=!1},paste:function(t){var e=this;e.options.allowPasting&&setTimeout((function(){e.createTokensFromInput(t)}),1)},change:function(t){"tokenfield"!==t.initiator&&this.setTokens(this.$element.val())},createTokensFromInput:function(t,e){if(!(this.$input.val().length<this.options.minLength)){var i=this.getTokensList();return this.setTokens(this.$input.val(),!0),i==this.getTokensList()&&this.$input.val().length?!1:(this.$input.hasClass("tt-input")?this.$input.typeahead("val",""):this.$input.val(""),this.$input.data("edit")&&this.unedit(e),!1)}},next:function(t){if(t){var e=this.$wrapper.find(".active:first");if(!(!e||!this.$firstActiveToken)&&e.index()<this.$firstActiveToken.index())return this.deactivate(e)}var i=this.$wrapper.find(".active:last").nextAll(".token:first");i.length?this.activate(i,t):this.$input.focus()},prev:function(t){if(t){var e=this.$wrapper.find(".active:last");if(!(!e||!this.$firstActiveToken)&&e.index()>this.$firstActiveToken.index())return this.deactivate(e)}var i=this.$wrapper.find(".active:first").prevAll(".token:first");i.length||(i=this.$wrapper.find(".token:first")),i.length||t?this.activate(i,t):this.$input.focus()},activate:function(e,i,n,r){if(e){if(void 0===r)r=!0;if(n)i=!0;if(this.$copyHelper.focus(),i||(this.$wrapper.find(".active").removeClass("active"),r?this.$firstActiveToken=e:delete this.$firstActiveToken),n&&this.$firstActiveToken){var o=this.$firstActiveToken.index()-2,s=e.index()-2,a=this;this.$wrapper.find(".token").slice(Math.min(o,s)+1,Math.max(o,s)).each((function(){a.activate(t(this),!0)}))}e.addClass("active"),this.$copyHelper.val(this.getTokensList(null,null,!0)).select()}},activateAll:function(){var e=this;this.$wrapper.find(".token").each((function(i){e.activate(t(this),0!==i,!1,!1)}))},deactivate:function(t){t&&(t.removeClass("active"),this.$copyHelper.val(this.getTokensList(null,null,!0)).select())},toggle:function(t){t&&(t.toggleClass("active"),this.$copyHelper.val(this.getTokensList(null,null,!0)).select())},edit:function(e){if(e){var i=e.data("attrs"),n={attrs:i,relatedTarget:e.get(0)},r=t.Event("tokenfield:edittoken",n);if(this.$element.trigger(r),!r.isDefaultPrevented()){e.find(".token-label").text(i.value);var o=e.outerWidth(),s=this.$input.hasClass("tt-input")?this.$input.parent():this.$input;e.replaceWith(s),this.preventCreateTokens=!0,this.$input.val(i.value).select().data("edit",!0).width(o),this.update(),this.$element.trigger(t.Event("tokenfield:editedtoken",n))}}},unedit:function(t){if((this.$input.hasClass("tt-input")?this.$input.parent():this.$input).appendTo(this.$wrapper),this.$input.data("edit",!1),this.$mirror.text(""),this.update(),t){var e=this;setTimeout((function(){e.$input.focus()}),1)}},remove:function(e,i){if(!(this.$input.is(document.activeElement)||this._disabled||this._readonly)){var n="click"===e.type?t(e.target).closest(".token"):this.$wrapper.find(".token.active");if("click"!==e.type){if(!i)i="prev";if(this[i](),"prev"===i)var r=0===n.first().prevAll(".token:first").length}var o={attrs:this.getTokenData(n),relatedTarget:n.get(0)},s=t.Event("tokenfield:removetoken",o);if(this.$element.trigger(s),!s.isDefaultPrevented()){var a=t.Event("tokenfield:removedtoken",o),l=t.Event("change",{initiator:"tokenfield"});n.remove(),this.$element.val(this.getTokensList()).trigger(a).trigger(l),this.$wrapper.find(".token").length&&"click"!==e.type&&!r||this.$input.focus(),this.$input.css("width",this.options.minWidth+"px"),this.update(),e.preventDefault(),e.stopPropagation()}}},update:function(){var t=this.$input.val(),e=parseInt(this.$input.css("padding-left"),10)+parseInt(this.$input.css("padding-right"),10);if(this.$input.data("edit")){if(t||(t=this.$input.prop("placeholder")),t===this.$mirror.text())return;this.$mirror.text(t);var i=this.$mirror.width()+10;if(i>this.$wrapper.width())return this.$input.width(this.$wrapper.width());this.$input.width(i),this.$hint&&this.$hint.width(i)}else{var n="rtl"===this.textDirection?this.$input.offset().left+this.$input.outerWidth()-this.$wrapper.offset().left-parseInt(this.$wrapper.css("padding-left"),10)-e-1:this.$wrapper.offset().left+this.$wrapper.width()+parseInt(this.$wrapper.css("padding-left"),10)-this.$input.offset().left-e;isNaN(n)?this.$input.width("100%"):this.$input.width(n),this.$hint&&(isNaN(n)?this.$hint.width("100%"):this.$hint.width(n))}},focusInput:function(e){if(!(t(e.target).closest(".token").length||t(e.target).closest(".token-input").length||t(e.target).closest(".tt-dropdown-menu").length)){var i=this;setTimeout((function(){i.$input.focus()}),0)}},search:function(){this.$input.data("ui-autocomplete")&&this.$input.autocomplete("search")},disable:function(){this.setProperty("disabled",!0)},enable:function(){this.setProperty("disabled",!1)},readonly:function(){this.setProperty("readonly",!0)},writeable:function(){this.setProperty("readonly",!1)},setProperty:function(t,e){this["_"+t]=e,this.$input.prop(t,e),this.$element.prop(t,e),this.$wrapper[e?"addClass":"removeClass"](t)},destroy:function(){this.$element.val(this.getTokensList()),this.$element.css(this.$element.data("original-styles")),this.$element.prop("tabindex",this.$element.data("original-tabindex"));var e=t('label[for="'+this.$input.prop("id")+'"]');return e.length&&e.prop("for",this.$element.prop("id")),this.$element.insertBefore(this.$wrapper),this.$element.removeData("original-styles").removeData("original-tabindex").removeData("bs.tokenfield"),this.$wrapper.remove(),this.$mirror.remove(),this.$element}};var n=t.fn.tokenfield;return t.fn.tokenfield=function(e,n){var r,o=[];Array.prototype.push.apply(o,arguments);var s=this.each((function(){var s=t(this),a=s.data("bs.tokenfield"),l="object"==typeof e&&e;"string"==typeof e&&a&&a[e]?(o.shift(),r=a[e].apply(a,o)):a||"string"==typeof e||n||(s.data("bs.tokenfield",a=new i(this,l)),s.trigger("tokenfield:initialize"))}));return void 0!==r?r:s},t.fn.tokenfield.defaults={minWidth:60,minLength:0,allowEditing:!0,allowPasting:!0,limit:0,autocomplete:{},typeahead:{},showAutocompleteOnFocus:!1,createTokensOnBlur:!1,delimiter:",",beautify:!0,inputType:"text"},t.fn.tokenfield.Constructor=i,t.fn.tokenfield.noConflict=function(){return t.fn.tokenfield=n,this},i})),function(t,e){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],(function(i){return t.Bloodhound=e(i)})):"object"==typeof exports?module.exports=e(require("jquery")):t.Bloodhound=e(jQuery)}(this,(function(t){var e=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return void 0===t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,i){function n(t,e){return i(e,t)}t.each(e,n)},map:t.map,filter:t.grep,every:function(e,i){var n=!0;return e?(t.each(e,(function(t,r){return!!(n=i.call(null,r,t,e))&&void 0})),!!n):n},some:function(e,i){var n=!1;return e?(t.each(e,(function(t,r){return!(n=i.call(null,r,t,e))&&void 0})),!!n):n},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){function i(){return String(e)}return t.isFunction(e)?e:i},defer:function(t){setTimeout(t,0)},debounce:function(t,e,i){var n,r;return function(){var o,s,a=this,l=arguments;return o=function(){n=null,i||(r=t.apply(a,l))},s=i&&!n,clearTimeout(n),n=setTimeout(o,e),s&&(r=t.apply(a,l)),r}},throttle:function(t,e){var i,n,r,o,s,a;return s=0,a=function(){s=new Date,r=null,o=t.apply(i,n)},function(){var l=new Date,c=e-(l-s);return i=this,n=arguments,0>=c?(clearTimeout(r),r=null,s=l,o=t.apply(i,n)):r||(r=setTimeout(a,c)),o}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),i="0.11.1",n=function(){"use strict";function t(t){return(t=e.toStr(t))?t.split(/\s+/):[]}function i(t){return(t=e.toStr(t))?t.split(/\W+/):[]}function n(t){return function(i){return i=e.isArray(i)?i:[].slice.call(arguments,0),function(n){var r=[];return e.each(i,(function(i){r=r.concat(t(e.toStr(n[i])))})),r}}}return{nonword:i,whitespace:t,obj:{nonword:n(i),whitespace:n(t)}}}(),r=function(){"use strict";function i(i){this.maxSize=e.isNumber(i)?i:100,this.reset(),this.maxSize<=0&&(this.set=this.get=t.noop)}function n(){this.head=this.tail=null}function r(t,e){this.key=t,this.val=e,this.prev=this.next=null}return e.mixin(i.prototype,{set:function(t,e){var i,n=this.list.tail;this.size>=this.maxSize&&(this.list.remove(n),delete this.hash[n.key],this.size--),(i=this.hash[t])?(i.val=e,this.list.moveToFront(i)):(i=new r(t,e),this.list.add(i),this.hash[t]=i,this.size++)},get:function(t){var e=this.hash[t];return e?(this.list.moveToFront(e),e.val):void 0},reset:function(){this.size=0,this.hash={},this.list=new n}}),e.mixin(n.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),i}(),o=function(){"use strict";function i(t,i){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+e.escapeRegExChars(this.prefix)),this.ls=i||a,!this.ls&&this._noop()}function n(){return(new Date).getTime()}function r(t){return JSON.stringify(e.isUndefined(t)?null:t)}function o(e){return t.parseJSON(e)}function s(t){var e,i,n=[],r=a.length;for(e=0;r>e;e++)(i=a.key(e)).match(t)&&n.push(i.replace(t,""));return n}var a;try{(a=window.localStorage).setItem("~~~","!"),a.removeItem("~~~")}catch(t){a=null}return e.mixin(i.prototype,{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=e.noop},_safeSet:function(t,e){try{this.ls.setItem(t,e)}catch(t){"QuotaExceededError"===t.name&&(this.clear(),this._noop())}},get:function(t){return this.isExpired(t)&&this.remove(t),o(this.ls.getItem(this._prefix(t)))},set:function(t,i,o){return e.isNumber(o)?this._safeSet(this._ttlKey(t),r(n()+o)):this.ls.removeItem(this._ttlKey(t)),this._safeSet(this._prefix(t),r(i))},remove:function(t){return this.ls.removeItem(this._ttlKey(t)),this.ls.removeItem(this._prefix(t)),this},clear:function(){var t,e=s(this.keyMatcher);for(t=e.length;t--;)this.remove(e[t]);return this},isExpired:function(t){var i=o(this.ls.getItem(this._ttlKey(t)));return!!(e.isNumber(i)&&n()>i)}}),i}(),s=function(){"use strict";function i(t){t=t||{},this.cancelled=!1,this.lastReq=null,this._send=t.transport,this._get=t.limiter?t.limiter(this._get):this._get,this._cache=!1===t.cache?new r(0):a}var n=0,o={},s=6,a=new r(10);return i.setMaxPendingRequests=function(t){s=t},i.resetCache=function(){a.reset()},e.mixin(i.prototype,{_fingerprint:function(e){return(e=e||{}).url+e.type+t.param(e.data||{})},_get:function(t,e){function i(t){e(null,t),u._cache.set(l,t)}function r(){e(!0)}function a(){n--,delete o[l],u.onDeckRequestArgs&&(u._get.apply(u,u.onDeckRequestArgs),u.onDeckRequestArgs=null)}var l,c,u=this;l=this._fingerprint(t),this.cancelled||l!==this.lastReq||((c=o[l])?c.done(i).fail(r):s>n?(n++,o[l]=this._send(t).done(i).fail(r).always(a)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(i,n){var r,o;n=n||t.noop,i=e.isString(i)?{url:i}:i||{},o=this._fingerprint(i),this.cancelled=!1,this.lastReq=o,(r=this._cache.get(o))?n(null,r):this._get(i,n)},cancel:function(){this.cancelled=!0}}),i}(),a=window.SearchIndex=function(){"use strict";function i(i){(i=i||{}).datumTokenizer&&i.queryTokenizer||t.error("datumTokenizer and queryTokenizer are both required"),this.identify=i.identify||e.stringify,this.datumTokenizer=i.datumTokenizer,this.queryTokenizer=i.queryTokenizer,this.reset()}function n(t){return t=e.filter(t,(function(t){return!!t})),e.map(t,(function(t){return t.toLowerCase()}))}function r(){var t={};return t[l]=[],t[a]={},t}function o(t){for(var e={},i=[],n=0,r=t.length;r>n;n++)e[t[n]]||(e[t[n]]=!0,i.push(t[n]));return i}function s(t,e){var i=0,n=0,r=[];t=t.sort(),e=e.sort();for(var o=t.length,s=e.length;o>i&&s>n;)t[i]<e[n]?i++:(t[i]>e[n]||(r.push(t[i]),i++),n++);return r}var a="c",l="i";return e.mixin(i.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var i=this;t=e.isArray(t)?t:[t],e.each(t,(function(t){var o,s;i.datums[o=i.identify(t)]=t,s=n(i.datumTokenizer(t)),e.each(s,(function(t){var e,n,s;for(e=i.trie,n=t.split("");s=n.shift();)(e=e[a][s]||(e[a][s]=r()))[l].push(o)}))}))},get:function(t){var i=this;return e.map(t,(function(t){return i.datums[t]}))},search:function(t){var i,r,c=this;return i=n(this.queryTokenizer(t)),e.each(i,(function(t){var e,i,n,o;if(r&&0===r.length)return!1;for(e=c.trie,i=t.split("");e&&(n=i.shift());)e=e[a][n];return e&&0===i.length?(o=e[l].slice(0),void(r=r?s(r,o):o)):(r=[],!1)})),r?e.map(o(r),(function(t){return c.datums[t]})):[]},all:function(){var t=[];for(var e in this.datums)t.push(this.datums[e]);return t},reset:function(){this.datums={},this.trie=r()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),i}(),l=function(){"use strict";function t(t){this.url=t.url,this.ttl=t.ttl,this.cache=t.cache,this.prepare=t.prepare,this.transform=t.transform,this.transport=t.transport,this.thumbprint=t.thumbprint,this.storage=new o(t.cacheKey)}var i;return i={data:"data",protocol:"protocol",thumbprint:"thumbprint"},e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(t){this.cache&&(this.storage.set(i.data,t,this.ttl),this.storage.set(i.protocol,location.protocol,this.ttl),this.storage.set(i.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var t,e={};return this.cache?(e.data=this.storage.get(i.data),e.protocol=this.storage.get(i.protocol),e.thumbprint=this.storage.get(i.thumbprint),t=e.thumbprint!==this.thumbprint||e.protocol!==location.protocol,e.data&&!t?e.data:null):null},fromNetwork:function(t){function e(){t(!0)}function i(e){t(null,r.transform(e))}var n,r=this;t&&(n=this.prepare(this._settings()),this.transport(n).fail(e).done(i))},clear:function(){return this.storage.clear(),this}}),t}(),c=function(){"use strict";function t(t){this.url=t.url,this.prepare=t.prepare,this.transform=t.transform,this.transport=new s({cache:t.cache,limiter:t.limiter,transport:t.transport})}return e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(t,e){function i(t,i){e(t?[]:r.transform(i))}var n,r=this;if(e)return t=t||"",n=this.prepare(t,this._settings()),this.transport.get(n,i)},cancelLastRequest:function(){this.transport.cancel()}}),t}(),u=function(){"use strict";function n(n){var r;return n?(r={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:e.identity,transform:e.identity,transport:null},n=e.isString(n)?{url:n}:n,!(n=e.mixin(r,n)).url&&t.error("prefetch requires url to be set"),n.transform=n.filter||n.transform,n.cacheKey=n.cacheKey||n.url,n.thumbprint=i+n.thumbprint,n.transport=n.transport?a(n.transport):t.ajax,n):null}function r(i){var n;if(i)return n={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:e.identity,transport:null},i=e.isString(i)?{url:i}:i,!(i=e.mixin(n,i)).url&&t.error("remote requires url to be set"),i.transform=i.filter||i.transform,i.prepare=o(i),i.limiter=s(i),i.transport=i.transport?a(i.transport):t.ajax,delete i.replace,delete i.wildcard,delete i.rateLimitBy,delete i.rateLimitWait,i}function o(t){function e(t,e){return e.url=o(e.url,t),e}function i(t,e){return e.url=e.url.replace(s,encodeURIComponent(t)),e}function n(t,e){return e}var r,o,s;return r=t.prepare,o=t.replace,s=t.wildcard,r||(r=o?e:t.wildcard?i:n)}function s(t){function i(t){return function(i){return e.debounce(i,t)}}function n(t){return function(i){return e.throttle(i,t)}}var r,o,s;return r=t.limiter,o=t.rateLimitBy,s=t.rateLimitWait,r||(r=/^throttle$/i.test(o)?n(s):i(s)),r}function a(i){return function(n){function r(t){e.defer((function(){
s.resolve(t)}))}function o(t){e.defer((function(){s.reject(t)}))}var s=t.Deferred();return i(n,r,o),s}}return function(i){var o,s;return o={initialize:!0,identify:e.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},!(i=e.mixin(o,i||{})).datumTokenizer&&t.error("datumTokenizer is required"),!i.queryTokenizer&&t.error("queryTokenizer is required"),s=i.sorter,i.sorter=s?function(t){return t.sort(s)}:e.identity,i.local=e.isFunction(i.local)?i.local():i.local,i.prefetch=n(i.prefetch),i.remote=r(i.remote),i}}(),h=function(){"use strict";function i(t){t=u(t),this.sorter=t.sorter,this.identify=t.identify,this.sufficient=t.sufficient,this.local=t.local,this.remote=t.remote?new c(t.remote):null,this.prefetch=t.prefetch?new l(t.prefetch):null,this.index=new a({identify:this.identify,datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),!1!==t.initialize&&this.initialize()}var r;return r=window&&window.Bloodhound,i.noConflict=function(){return window&&(window.Bloodhound=r),i},i.tokenizers=n,e.mixin(i.prototype,{__ttAdapter:function(){function t(t,e,n){return i.search(t,e,n)}function e(t,e){return i.search(t,e)}var i=this;return this.remote?t:e},_loadPrefetch:function(){function e(t,e){return t?i.reject():(r.add(e),r.prefetch.store(r.index.serialize()),void i.resolve())}var i,n,r=this;return i=t.Deferred(),this.prefetch?(n=this.prefetch.fromCache())?(this.index.bootstrap(n),i.resolve()):this.prefetch.fromNetwork(e):i.resolve(),i.promise()},_initialize:function(){function t(){e.add(e.local)}var e=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(t),this.initPromise},initialize:function(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function(t){return this.index.add(t),this},get:function(t){return t=e.isArray(t)?t:[].slice.call(arguments),this.index.get(t)},search:function(t,i,n){function r(t){var i=[];e.each(t,(function(t){!e.some(o,(function(e){return s.identify(t)===s.identify(e)}))&&i.push(t)})),n&&n(i)}var o,s=this;return o=this.sorter(this.index.search(t)),i(this.remote?o.slice():o),this.remote&&o.length<this.sufficient?this.remote.get(t,r):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return s.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),i}();return h})),function(t,e){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],(function(t){return e(t)})):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(0,(function(t){var e=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return void 0===t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,i){function n(t,e){return i(e,t)}t.each(e,n)},map:t.map,filter:t.grep,every:function(e,i){var n=!0;return e?(t.each(e,(function(t,r){return!!(n=i.call(null,r,t,e))&&void 0})),!!n):n},some:function(e,i){var n=!1;return e?(t.each(e,(function(t,r){return!(n=i.call(null,r,t,e))&&void 0})),!!n):n},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){function i(){return String(e)}return t.isFunction(e)?e:i},defer:function(t){setTimeout(t,0)},debounce:function(t,e,i){var n,r;return function(){var o,s,a=this,l=arguments;return o=function(){n=null,i||(r=t.apply(a,l))},s=i&&!n,clearTimeout(n),n=setTimeout(o,e),s&&(r=t.apply(a,l)),r}},throttle:function(t,e){var i,n,r,o,s,a;return s=0,a=function(){s=new Date,r=null,o=t.apply(i,n)},function(){var l=new Date,c=e-(l-s);return i=this,n=arguments,0>=c?(clearTimeout(r),r=null,s=l,o=t.apply(i,n)):r||(r=setTimeout(a,c)),o}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),i=function(){"use strict";function t(t){var s,a;return a=e.mixin({},o,t),{css:(s={css:r(),classes:a,html:i(a),selectors:n(a)}).css,html:s.html,classes:s.classes,selectors:s.selectors,mixin:function(t){e.mixin(t,s)}}}function i(t){return{wrapper:'<span class="'+t.wrapper+'"></span>',menu:'<div class="'+t.menu+'"></div>'}}function n(t){var i={};return e.each(t,(function(t,e){i[e]="."+t})),i}function r(){var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return e.isMsie()&&e.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t}var o={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return t}(),n=function(){"use strict";function i(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}var n,r;return n="typeahead:",r={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},e.mixin(i.prototype,{_trigger:function(e,i){var r;return r=t.Event(n+e),(i=i||[]).unshift(r),this.$el.trigger.apply(this.$el,i),r},before:function(t){var e;return e=[].slice.call(arguments,1),this._trigger("before"+t,e).isDefaultPrevented()},trigger:function(t){var e;this._trigger(t,[].slice.call(arguments,1)),(e=r[t])&&this._trigger(e,[].slice.call(arguments,1))}}),i}(),r=function(){"use strict";function t(t,e,i,n){var r;if(!i)return this;for(e=e.split(l),i=n?a(i,n):i,this._callbacks=this._callbacks||{};r=e.shift();)this._callbacks[r]=this._callbacks[r]||{sync:[],async:[]},this._callbacks[r][t].push(i);return this}function e(e,i,n){return t.call(this,"async",e,i,n)}function i(e,i,n){return t.call(this,"sync",e,i,n)}function n(t){var e;if(!this._callbacks)return this;for(t=t.split(l);e=t.shift();)delete this._callbacks[e];return this}function r(t){var e,i,n,r,s;if(!this._callbacks)return this;for(t=t.split(l),n=[].slice.call(arguments,1);(e=t.shift())&&(i=this._callbacks[e]);)r=o(i.sync,this,[e].concat(n)),s=o(i.async,this,[e].concat(n)),r()&&c(s);return this}function o(t,e,i){function n(){for(var n,r=0,o=t.length;!n&&o>r;r+=1)n=!1===t[r].apply(e,i);return!n}return n}function s(){return window.setImmediate?function(t){setImmediate((function(){t()}))}:function(t){setTimeout((function(){t()}),0)}}function a(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var l=/\s+/,c=s();return{onSync:i,onAsync:e,off:n,trigger:r}}(),o=function(t){"use strict";function i(t,i,n){for(var r,o=[],s=0,a=t.length;a>s;s++)o.push(e.escapeRegExChars(t[s]));return r=n?"\\b("+o.join("|")+")\\b":"("+o.join("|")+")",i?new RegExp(r):new RegExp(r,"i")}var n={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(r){function o(e){var i,n,o;return(i=a.exec(e.data))&&(o=t.createElement(r.tagName),r.className&&(o.className=r.className),(n=e.splitText(i.index)).splitText(i[0].length),o.appendChild(n.cloneNode(!0)),e.parentNode.replaceChild(o,n)),!!i}function s(t,e){for(var i,n=3,r=0;r<t.childNodes.length;r++)(i=t.childNodes[r]).nodeType===n?r+=e(i)?1:0:s(i,e)}var a;(r=e.mixin({},n,r)).node&&r.pattern&&(r.pattern=e.isArray(r.pattern)?r.pattern:[r.pattern],a=i(r.pattern,r.caseSensitive,r.wordsOnly),s(r.node,o))}}(window.document),s=function(){"use strict";function i(i,r){(i=i||{}).input||t.error("input is missing"),r.mixin(this),this.$hint=t(i.hint),this.$input=t(i.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=n(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop)}function n(e){return t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function o(t,e){return i.normalizeQuery(t)===i.normalizeQuery(e)}function s(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var a;return a={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},i.normalizeQuery=function(t){return e.toStr(t).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},e.mixin(i.prototype,r,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(t){var e=a[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(t,e){var i;switch(t){case"up":case"down":i=!s(e);break;default:i=!1}i&&e.preventDefault()},_shouldTrigger:function(t,e){var i;if("tab"===t)i=!s(e);else i=!0;return i},_checkLanguageDirection:function(){var t=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==t&&(this.dir=t,this.$hint.attr("dir",t),this.trigger("langDirChanged",t))},_setQuery:function(t,e){var i,n;n=!!(i=o(t,this.query))&&this.query.length!==t.length,this.query=t,e||i?!e&&n&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var t,i,n,r,o=this;return t=e.bind(this._onBlur,this),i=e.bind(this._onFocus,this),n=e.bind(this._onKeydown,this),r=e.bind(this._onInput,this),this.$input.on("blur.tt",t).on("focus.tt",i).on("keydown.tt",n),!e.isMsie()||e.isMsie()>9?this.$input.on("input.tt",r):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",(function(t){a[t.which||t.keyCode]||e.defer(e.bind(o._onInput,o,t))})),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(t,e){this.setInputValue(t),this._setQuery(t,e)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(t){this.$input.val(t),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,i;i=(t=this.getInputValue())!==(e=this.getHint())&&0===e.indexOf(t),!(""!==t&&i&&!this.hasOverflow())&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,i,n;return t=this.$input.val().length,i=this.$input[0].selectionStart,e.isNumber(i)?i===t:!document.selection||((n=document.selection.createRange()).moveStart("character",-t),t===n.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=t("<div>")}}),i}(),a=function(){"use strict";function i(i,r){(i=i||{}).templates=i.templates||{},i.templates.notFound=i.templates.notFound||i.templates.empty,i.source||t.error("missing source"),i.node||t.error("missing node"),i.name&&!a(i.name)&&t.error("invalid dataset name: "+i.name),r.mixin(this),this.highlight=!!i.highlight,this.name=i.name||c(),this.limit=i.limit||5,this.displayFn=n(i.display||i.displayKey),this.templates=s(i.templates,this.displayFn),this.source=i.source.__ttAdapter?i.source.__ttAdapter():i.source,this.async=e.isUndefined(i.async)?this.source.length>2:!!i.async,this._resetLastSuggestion(),this.$el=t(i.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function n(t){function i(e){return e[t]}return t=t||e.stringify,e.isFunction(t)?t:i}function s(i,n){function r(e){return t("<div>").text(n(e))}return{notFound:i.notFound&&e.templatify(i.notFound),pending:i.pending&&e.templatify(i.pending),header:i.header&&e.templatify(i.header),footer:i.footer&&e.templatify(i.footer),suggestion:i.suggestion||r}}function a(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var l,c;return l={val:"tt-selectable-display",obj:"tt-selectable-object"},c=e.getIdGenerator(),i.extractData=function(e){var i=t(e);return i.data(l.obj)?{val:i.data(l.val)||"",obj:i.data(l.obj)||null}:null},e.mixin(i.prototype,r,{_overwrite:function(t,e){(e=e||[]).length?this._renderSuggestions(t,e):this.async&&this.templates.pending?this._renderPending(t):!this.async&&this.templates.notFound?this._renderNotFound(t):this._empty(),this.trigger("rendered",this.name,e,!1)},_append:function(t,e){(e=e||[]).length&&this.$lastSuggestion.length?this._appendSuggestions(t,e):e.length?this._renderSuggestions(t,e):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(t),this.trigger("rendered",this.name,e,!0)},_renderSuggestions:function(t,e){var i;i=this._getSuggestionsFragment(t,e),this.$lastSuggestion=i.children().last(),this.$el.html(i).prepend(this._getHeader(t,e)).append(this._getFooter(t,e))},_appendSuggestions:function(t,e){var i,n;n=(i=this._getSuggestionsFragment(t,e)).children().last(),this.$lastSuggestion.after(i),this.$lastSuggestion=n},_renderPending:function(t){var e=this.templates.pending;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_renderNotFound:function(t){var e=this.templates.notFound;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(i,n){var r,s=this;return r=document.createDocumentFragment(),e.each(n,(function(e){var n,o;o=s._injectQuery(i,e),n=t(s.templates.suggestion(o)).data(l.obj,e).data(l.val,s.displayFn(e)).addClass(s.classes.suggestion+" "+s.classes.selectable),r.appendChild(n[0])})),this.highlight&&o({className:this.classes.highlight,node:r,pattern:i}),t(r)},_getFooter:function(t,e){return this.templates.footer?this.templates.footer({query:t,suggestions:e,dataset:this.name}):null},_getHeader:function(t,e){return this.templates.header?this.templates.header({query:t,suggestions:e,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=t()},_injectQuery:function(t,i){return e.isObject(i)?e.mixin({_query:t},i):i},update:function(e){function i(t){s||(s=!0,t=(t||[]).slice(0,r.limit),a=t.length,r._overwrite(e,t),a<r.limit&&r.async&&r.trigger("asyncRequested",e))}function n(i){i=i||[],!o&&a<r.limit&&(r.cancel=t.noop,a+=i.length,r._append(e,i.slice(0,r.limit-a)),r.async&&r.trigger("asyncReceived",e))}var r=this,o=!1,s=!1,a=0;this.cancel(),this.cancel=function(){o=!0,r.cancel=t.noop,r.async&&r.trigger("asyncCanceled",e)},this.source(e,i,n),!s&&i([])},cancel:t.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=t("<div>")}}),i}(),l=function(){"use strict";function i(i,n){function r(e){var i=o.$node.find(e.node).first();return e.node=i.length?i:t("<div>").appendTo(o.$node),new a(e,n)}var o=this;(i=i||{}).node||t.error("node is required"),n.mixin(this),this.$node=t(i.node),this.query=null,this.datasets=e.map(i.datasets,r)}return e.mixin(i.prototype,r,{_onSelectableClick:function(e){this.trigger("selectableClicked",t(e.currentTarget))},_onRendered:function(t,e,i,n){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",e,i,n)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){function t(t){return t.isEmpty()}return e.every(this.datasets,t)},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var t=this.getActiveSelectable();t&&t.removeClass(this.classes.cursor)},_ensureVisible:function(t){var e,i,n,r;i=(e=t.position().top)+t.outerHeight(!0),n=this.$node.scrollTop(),r=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),0>e?this.$node.scrollTop(n+e):i>r&&this.$node.scrollTop(n+(i-r))},bind:function(){var t,i=this;return t=e.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,t),e.each(this.datasets,(function(t){t.onSync("asyncRequested",i._propagate,i).onSync("asyncCanceled",i._propagate,i).onSync("asyncReceived",i._propagate,i).onSync("rendered",i._onRendered,i).onSync("cleared",i._onCleared,i)})),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(t){this.$node.attr("dir",t)},selectableRelativeToCursor:function(t){var e,i,n;return i=this.getActiveSelectable(),e=this._getSelectables(),-1===(n=-1>(n=((n=(i?e.index(i):-1)+t)+1)%(e.length+1)-1)?e.length-1:n)?null:e.eq(n)},setCursor:function(t){this._removeCursor(),(t=t&&t.first())&&(t.addClass(this.classes.cursor),this._ensureVisible(t))},getSelectableData:function(t){return t&&t.length?a.extractData(t):null},getActiveSelectable:function(){var t=this._getSelectables().filter(this.selectors.cursor).first();return t.length?t:null},getTopSelectable:function(){var t=this._getSelectables().first();return t.length?t:null},update:function(t){function i(e){e.update(t)}var n=t!==this.query;return n&&(this.query=t,e.each(this.datasets,i)),n},empty:function(){function t(t){t.clear()}e.each(this.datasets,t),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){function i(t){t.destroy()}this.$node.off(".tt"),this.$node=t("<div>"),e.each(this.datasets,i)}}),i}(),c=function(){"use strict";function t(){l.apply(this,[].slice.call(arguments,0))}var i=l.prototype;return e.mixin(t.prototype,l.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),i.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),i.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),i._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),i._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(t){return this.$node.css("ltr"===t?this.css.ltr:this.css.rtl),i.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),t}(),u=function(){"use strict";function i(i,r){var o,s,a,l,c,u,h,d,p,f,m;(i=i||{}).input||t.error("missing input"),i.menu||t.error("missing menu"),i.eventBus||t.error("missing event bus"),r.mixin(this),this.eventBus=i.eventBus,this.minLength=e.isNumber(i.minLength)?i.minLength:1,this.input=i.input,this.menu=i.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),o=n(this,"activate","open","_onFocused"),s=n(this,"deactivate","_onBlurred"),a=n(this,"isActive","isOpen","_onEnterKeyed"),l=n(this,"isActive","isOpen","_onTabKeyed"),c=n(this,"isActive","_onEscKeyed"),u=n(this,"isActive","open","_onUpKeyed"),h=n(this,"isActive","open","_onDownKeyed"),d=n(this,"isActive","isOpen","_onLeftKeyed"),p=n(this,"isActive","isOpen","_onRightKeyed"),f=n(this,"_openIfActive","_onQueryChanged"),m=n(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",o,this).onSync("blurred",s,this).onSync("enterKeyed",a,this).onSync("tabKeyed",l,this).onSync("escKeyed",c,this).onSync("upKeyed",u,this).onSync("downKeyed",h,this).onSync("leftKeyed",d,this).onSync("rightKeyed",p,this).onSync("queryChanged",f,this).onSync("whitespaceChanged",m,this).onSync("langDirChanged",this._onLangDirChanged,this)}function n(t){var i=[].slice.call(arguments,1);return function(){var n=[].slice.call(arguments);e.each(i,(function(e){return t[e].apply(t,n)}))}}return e.mixin(i.prototype,{_hacks:function(){var i,n;i=this.input.$input||t("<div>"),n=this.menu.$node||t("<div>"),i.on("blur.tt",(function(t){var r,o,s;r=document.activeElement,o=n.is(r),s=n.has(r).length>0,e.isMsie()&&(o||s)&&(t.preventDefault(),t.stopImmediatePropagation(),e.defer((function(){i.focus()})))})),n.on("mousedown.tt",(function(t){t.preventDefault()}))},_onSelectableClicked:function(t,e){this.select(e)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(t,e,i,n){this._updateHint(),this.eventBus.trigger("render",i,n,e)},_onAsyncRequested:function(t,e,i){this.eventBus.trigger("asyncrequest",i,e)},_onAsyncCanceled:function(t,e,i){this.eventBus.trigger("asynccancel",i,e)},_onAsyncReceived:function(t,e,i){this.eventBus.trigger("asyncreceive",i,e)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(t,e){var i;(i=this.menu.getActiveSelectable())&&this.select(i)&&e.preventDefault()},_onTabKeyed:function(t,e){var i;(i=this.menu.getActiveSelectable())?this.select(i)&&e.preventDefault():(i=this.menu.getTopSelectable())&&this.autocomplete(i)&&e.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(t,e){this._minLengthMet(e)?this.menu.update(e):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(t,e){this.dir!==e&&(this.dir=e,this.menu.setLanguageDirection(e))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(t){return(t=e.isString(t)?t:this.input.getQuery()||"").length>=this.minLength},_updateHint:function(){var t,i,n,r,o,a;t=this.menu.getTopSelectable(),i=this.menu.getSelectableData(t),n=this.input.getInputValue(),!i||e.isBlankString(n)||this.input.hasOverflow()?this.input.clearHint():(r=s.normalizeQuery(n),o=e.escapeRegExChars(r),(a=new RegExp("^(?:"+o+")(.+$)","i").exec(i.val))&&this.input.setHint(n+a[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return!!this.isActive()||!(!this.isEnabled()||this.eventBus.before("active"))&&(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return!this.isActive()||!this.eventBus.before("idle")&&(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0)},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(t){this.input.setQuery(e.toStr(t))},getVal:function(){return this.input.getQuery()},select:function(t){var e=this.menu.getSelectableData(t);return!(!e||this.eventBus.before("select",e.obj))&&(this.input.setQuery(e.val,!0),this.eventBus.trigger("select",e.obj),this.close(),!0)},autocomplete:function(t){var e,i;return e=this.input.getQuery(),!(!((i=this.menu.getSelectableData(t))&&e!==i.val)||this.eventBus.before("autocomplete",i.obj))&&(this.input.setQuery(i.val),this.eventBus.trigger("autocomplete",i.obj),!0)},moveCursor:function(t){var e,i,n,r;return e=this.input.getQuery(),i=this.menu.selectableRelativeToCursor(t),r=(n=this.menu.getSelectableData(i))?n.obj:null,!(this._minLengthMet()&&this.menu.update(e))&&!this.eventBus.before("cursorchange",r)&&(this.menu.setCursor(i),n?this.input.setInputValue(n.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",r),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),i}();!function(){"use strict";function r(e,i){e.each((function(){var e,n=t(this);(e=n.data(m.typeahead))&&i(e,n)}))}function o(t,e){return t.clone().addClass(e.classes.hint).removeData().css(e.css.hint).css(h(t)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function a(t,e){t.data(m.attrs,{dir:t.attr("dir"),autocomplete:t.attr("autocomplete"),spellcheck:t.attr("spellcheck"),style:t.attr("style")}),t.addClass(e.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!t.attr("dir")&&t.attr("dir","auto")}catch(t){}return t}function h(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function d(t){var i,n;i=t.data(m.www),n=t.parent().filter(i.selectors.wrapper),e.each(t.data(m.attrs),(function(i,n){e.isUndefined(i)?t.removeAttr(n):t.attr(n,i)})),t.removeData(m.typeahead).removeData(m.www).removeData(m.attr).removeClass(i.classes.input),n.length&&(t.detach().insertAfter(n),n.remove())}function p(i){var n;return(n=e.isJQuery(i)||e.isElement(i)?t(i).first():[]).length?n:null}var f,m,g;f=t.fn.typeahead,m={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},g={initialize:function(r,h){function d(){var i,d,g,v,y,b,w,x,_,k,C;e.each(h,(function(t){t.highlight=!!r.highlight})),i=t(this),d=t(f.html.wrapper),g=p(r.hint),v=p(r.menu),y=!1!==r.hint&&!g,b=!1!==r.menu&&!v,y&&(g=o(i,f)),b&&(v=t(f.html.menu).css(f.css.menu)),g&&g.val(""),i=a(i,f),(y||b)&&(d.css(f.css.wrapper),i.css(y?f.css.input:f.css.inputWithNoHint),i.wrap(d).parent().prepend(y?g:null).append(b?v:null)),C=b?c:l,w=new n({el:i}),x=new s({hint:g,input:i},f),_=new C({node:v,datasets:h},f),k=new u({input:x,menu:_,eventBus:w,minLength:r.minLength},f),i.data(m.www,f),i.data(m.typeahead,k)}var f;return h=e.isArray(h)?h:[].slice.call(arguments,1),f=i((r=r||{}).classNames),this.each(d)},isEnabled:function(){var t;return r(this.first(),(function(e){t=e.isEnabled()})),t},enable:function(){return r(this,(function(t){t.enable()})),this},disable:function(){return r(this,(function(t){t.disable()})),this},isActive:function(){var t;return r(this.first(),(function(e){t=e.isActive()})),t},activate:function(){return r(this,(function(t){t.activate()})),this},deactivate:function(){return r(this,(function(t){t.deactivate()})),this},isOpen:function(){var t;return r(this.first(),(function(e){t=e.isOpen()})),t},open:function(){return r(this,(function(t){t.open()})),this},close:function(){return r(this,(function(t){t.close()})),this},select:function(e){var i=!1,n=t(e);return r(this.first(),(function(t){i=t.select(n)})),i},autocomplete:function(e){var i=!1,n=t(e);return r(this.first(),(function(t){i=t.autocomplete(n)})),i},moveCursor:function(t){var e=!1;return r(this.first(),(function(i){e=i.moveCursor(t)})),e},val:function(t){var e;return arguments.length?(r(this,(function(e){e.setVal(t)})),this):(r(this.first(),(function(t){e=t.getVal()})),e)},destroy:function(){return r(this,(function(t,e){d(e),t.destroy()})),this}},t.fn.typeahead=function(t){return g[t]?g[t].apply(this,[].slice.call(arguments,1)):g.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function(){return t.fn.typeahead=f,this}}()})),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).SimpleMDE=t()}}((function(){var t;return function t(e,i,n){function r(s,a){if(!i[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[s]={exports:{}};e[s][0].call(u.exports,(function(t){var i=e[s][1][t];return r(i||t)}),u,u.exports,t,e,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(t,e,i){"use strict";function n(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,i=t.length;i>e;++e)l[e]=t[e],c[t.charCodeAt(e)]=e;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63}function r(t){var e,i,n,r,o,s,a=t.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o="="===t[a-2]?2:"="===t[a-1]?1:0,s=new u(3*a/4-o),n=o>0?a-4:a;var l=0;for(e=0,i=0;n>e;e+=4,i+=3)r=c[t.charCodeAt(e)]<<18|c[t.charCodeAt(e+1)]<<12|c[t.charCodeAt(e+2)]<<6|c[t.charCodeAt(e+3)],s[l++]=r>>16&255,s[l++]=r>>8&255,s[l++]=255&r;return 2===o?(r=c[t.charCodeAt(e)]<<2|c[t.charCodeAt(e+1)]>>4,s[l++]=255&r):1===o&&(r=c[t.charCodeAt(e)]<<10|c[t.charCodeAt(e+1)]<<4|c[t.charCodeAt(e+2)]>>2,s[l++]=r>>8&255,s[l++]=255&r),s}function o(t){return l[t>>18&63]+l[t>>12&63]+l[t>>6&63]+l[63&t]}function s(t,e,i){for(var n,r=[],s=e;i>s;s+=3)n=(t[s]<<16)+(t[s+1]<<8)+t[s+2],r.push(o(n));return r.join("")}function a(t){for(var e,i=t.length,n=i%3,r="",o=[],a=16383,c=0,u=i-n;u>c;c+=a)o.push(s(t,c,c+a>u?u:c+a));return 1===n?(e=t[i-1],r+=l[e>>2],r+=l[e<<4&63],r+="=="):2===n&&(e=(t[i-2]<<8)+t[i-1],r+=l[e>>10],r+=l[e>>4&63],r+=l[e<<2&63],r+="="),o.push(r),o.join("")}i.toByteArray=r,i.fromByteArray=a;var l=[],c=[],u="undefined"!=typeof Uint8Array?Uint8Array:Array;n()},{}],2:[function(){},{}],3:[function(t,e,i){(function(e){"use strict";function n(){try{var t=new Uint8Array(1);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}function r(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t,e){if(r()<e)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=s.prototype:(null===t&&(t=new s(e)),t.length=e),t}function s(t,e,i){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(t,e,i);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return u(this,t)}return a(this,t,e,i)}function a(t,e,i,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?p(t,e,i,n):"string"==typeof e?h(t,e,i):f(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number')}function c(t,e,i,n){return l(e),0>=e?o(t,e):void 0!==i?"string"==typeof n?o(t,e).fill(i,n):o(t,e).fill(i):o(t,e)}function u(t,e){if(l(e),t=o(t,0>e?0:0|m(e)),!s.TYPED_ARRAY_SUPPORT)for(var i=0;e>i;i++)t[i]=0;return t}function h(t,e,i){if("string"==typeof i&&""!==i||(i="utf8"),!s.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');return(t=o(t,0|v(e,i))).write(e,i),t}function d(t,e){
var i=0|m(e.length);t=o(t,i);for(var n=0;i>n;n+=1)t[n]=255&e[n];return t}function p(t,e,i,n){if(e.byteLength,0>i||e.byteLength<i)throw new RangeError("'offset' is out of bounds");if(e.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===n?new Uint8Array(e,i):new Uint8Array(e,i,n),s.TYPED_ARRAY_SUPPORT?(t=e).__proto__=s.prototype:t=d(t,e),t}function f(t,e){if(s.isBuffer(e)){var i=0|m(e.length);return 0===(t=o(t,i)).length||e.copy(t,0,0,i),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||V(e.length)?o(t,0):d(t,e);if("Buffer"===e.type&&J(e.data))return d(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(t){if(t>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|t}function g(t){return+t!=t&&(t=0),s.alloc(+t)}function v(t,e){if(s.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var n=!1;;)switch(e){case"ascii":case"binary":case"raw":case"raws":return i;case"utf8":case"utf-8":case void 0:return U(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return G(t).length;default:if(n)return U(t).length;e=(""+e).toLowerCase(),n=!0}}function y(t,e,i){var n=!1;if((void 0===e||0>e)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),0>=i)return"";if((e>>>=0)>=(i>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,e,i);case"utf8":case"utf-8":return E(this,e,i);case"ascii":return M(this,e,i);case"binary":return L(this,e,i);case"base64":return A(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,e,i);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function b(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function w(t,e,i,n){function r(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}var o=1,s=t.length,a=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,s/=2,a/=2,i/=2}for(var l=-1,c=0;s>i+c;c++)if(r(t,i+c)===r(e,-1===l?0:c-l)){if(-1===l&&(l=c),c-l+1===a)return(i+l)*o}else-1!==l&&(c-=c-l),l=-1;return-1}function x(t,e,i,n){i=Number(i)||0;var r=t.length-i;n?(n=Number(n))>r&&(n=r):n=r;var o=e.length;if(o%2!=0)throw new Error("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;n>s;s++){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[i+s]=a}return s}function _(t,e,i,n){return Y(U(e,t.length-i),t,i,n)}function k(t,e,i,n){return Y(W(e),t,i,n)}function C(t,e,i,n){return k(t,e,i,n)}function S(t,e,i,n){return Y(G(e),t,i,n)}function T(t,e,i,n){return Y(X(e,t.length-i),t,i,n)}function A(t,e,i){return 0===e&&i===t.length?K.fromByteArray(t):K.fromByteArray(t.slice(e,i))}function E(t,e,i){i=Math.min(t.length,i);for(var n=[],r=e;i>r;){var o,s,a,l,c=t[r],u=null,h=c>239?4:c>223?3:c>191?2:1;if(i>=r+h)switch(h){case 1:128>c&&(u=c);break;case 2:128==(192&(o=t[r+1]))&&((l=(31&c)<<6|63&o)>127&&(u=l));break;case 3:o=t[r+1],s=t[r+2],128==(192&o)&&128==(192&s)&&((l=(15&c)<<12|(63&o)<<6|63&s)>2047&&(55296>l||l>57343)&&(u=l));break;case 4:o=t[r+1],s=t[r+2],a=t[r+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&((l=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&1114112>l&&(u=l))}null===u?(u=65533,h=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),r+=h}return P(n)}function P(t){var e=t.length;if(Z>=e)return String.fromCharCode.apply(String,t);for(var i="",n=0;e>n;)i+=String.fromCharCode.apply(String,t.slice(n,n+=Z));return i}function M(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;i>r;r++)n+=String.fromCharCode(127&t[r]);return n}function L(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;i>r;r++)n+=String.fromCharCode(t[r]);return n}function O(t,e,i){var n=t.length;(!e||0>e)&&(e=0),(!i||0>i||i>n)&&(i=n);for(var r="",o=e;i>o;o++)r+=H(t[o]);return r}function D(t,e,i){for(var n=t.slice(e,i),r="",o=0;o<n.length;o+=2)r+=String.fromCharCode(n[o]+256*n[o+1]);return r}function I(t,e,i){if(t%1!=0||0>t)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function $(t,e,i,n,r,o){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||o>e)throw new RangeError('"value" argument is out of bounds');if(i+n>t.length)throw new RangeError("Index out of range")}function N(t,e,i,n){0>e&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-i,2);o>r;r++)t[i+r]=(e&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}function z(t,e,i,n){0>e&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-i,4);o>r;r++)t[i+r]=e>>>8*(n?r:3-r)&255}function j(t,e,i,n){if(i+n>t.length)throw new RangeError("Index out of range");if(0>i)throw new RangeError("Index out of range")}function F(t,e,i,n,r){return r||j(t,e,i,4,34028234663852886e22,-34028234663852886e22),Q.write(t,e,i,n,23,4),i+4}function q(t,e,i,n,r){return r||j(t,e,i,8,17976931348623157e292,-17976931348623157e292),Q.write(t,e,i,n,52,8),i+8}function R(t){if((t=B(t).replace(tt,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function B(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function H(t){return 16>t?"0"+t.toString(16):t.toString(16)}function U(t,e){e=e||1/0;for(var i,n=t.length,r=null,o=[],s=0;n>s;s++){if((i=t.charCodeAt(s))>55295&&57344>i){if(!r){if(i>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}r=i;continue}if(56320>i){(e-=3)>-1&&o.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,128>i){if((e-=1)<0)break;o.push(i)}else if(2048>i){if((e-=2)<0)break;o.push(i>>6|192,63&i|128)}else if(65536>i){if((e-=3)<0)break;o.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(1114112>i))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return o}function W(t){for(var e=[],i=0;i<t.length;i++)e.push(255&t.charCodeAt(i));return e}function X(t,e){for(var i,n,r,o=[],s=0;s<t.length&&!((e-=2)<0);s++)n=(i=t.charCodeAt(s))>>8,r=i%256,o.push(r),o.push(n);return o}function G(t){return K.toByteArray(R(t))}function Y(t,e,i,n){for(var r=0;n>r&&!(r+i>=e.length||r>=t.length);r++)e[r+i]=t[r];return r}function V(t){return t!=t}var K=t("base64-js"),Q=t("ieee754"),J=t("isarray");i.Buffer=s,i.SlowBuffer=g,i.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:n(),i.kMaxLength=r(),s.poolSize=8192,s._augment=function(t){return t.__proto__=s.prototype,t},s.from=function(t,e,i){return a(null,t,e,i)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(t,e,i){return c(null,t,e,i)},s.allocUnsafe=function(t){return u(null,t)},s.allocUnsafeSlow=function(t){return u(null,t)},s.isBuffer=function(t){return!(null==t||!t._isBuffer)},s.compare=function(t,e){if(!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var i=t.length,n=e.length,r=0,o=Math.min(i,n);o>r;++r)if(t[r]!==e[r]){i=t[r],n=e[r];break}return n>i?-1:i>n?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!J(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;i++)e+=t[i].length;var n=s.allocUnsafe(e),r=0;for(i=0;i<t.length;i++){var o=t[i];if(!s.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,r),r+=o.length}return n},s.byteLength=v,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;t>e;e+=2)b(this,e,e+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;t>e;e+=4)b(this,e,e+3),b(this,e+1,e+2);return this},s.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?E(this,0,t):y.apply(this,arguments)},s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",e=i.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},s.prototype.compare=function(t,e,i,n,r){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),0>e||i>t.length||0>n||r>this.length)throw new RangeError("out of range index");if(n>=r&&e>=i)return 0;if(n>=r)return-1;if(e>=i)return 1;if(this===t)return 0;for(var o=(r>>>=0)-(n>>>=0),a=(i>>>=0)-(e>>>=0),l=Math.min(o,a),c=this.slice(n,r),u=t.slice(e,i),h=0;l>h;++h)if(c[h]!==u[h]){o=c[h],a=u[h];break}return a>o?-1:o>a?1:0},s.prototype.indexOf=function(t,e,i){if("string"==typeof e?(i=e,e=0):e>2147483647?e=2147483647:-2147483648>e&&(e=-2147483648),e>>=0,0===this.length)return-1;if(e>=this.length)return-1;if(0>e&&(e=Math.max(this.length+e,0)),"string"==typeof t&&(t=s.from(t,i)),s.isBuffer(t))return 0===t.length?-1:w(this,t,e,i);if("number"==typeof t)return s.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,e):w(this,[t],e,i);throw new TypeError("val must be string, number or Buffer")},s.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},s.prototype.write=function(t,e,i,n){if(void 0===e)n="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)n=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-e;if((void 0===i||i>r)&&(i=r),t.length>0&&(0>i||0>e)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return x(this,t,e,i);case"utf8":case"utf-8":return _(this,t,e,i);case"ascii":return k(this,t,e,i);case"binary":return C(this,t,e,i);case"base64":return S(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,e,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;s.prototype.slice=function(t,e){var i,n=this.length;if(0>(t=~~t)?0>(t+=n)&&(t=0):t>n&&(t=n),0>(e=void 0===e?n:~~e)?0>(e+=n)&&(e=0):e>n&&(e=n),t>e&&(e=t),s.TYPED_ARRAY_SUPPORT)(i=this.subarray(t,e)).__proto__=s.prototype;else{var r=e-t;i=new s(r,void 0);for(var o=0;r>o;o++)i[o]=this[o+t]}return i},s.prototype.readUIntLE=function(t,e,i){t|=0,e|=0,i||I(t,e,this.length);for(var n=this[t],r=1,o=0;++o<e&&(r*=256);)n+=this[t+o]*r;return n},s.prototype.readUIntBE=function(t,e,i){t|=0,e|=0,i||I(t,e,this.length);for(var n=this[t+--e],r=1;e>0&&(r*=256);)n+=this[t+--e]*r;return n},s.prototype.readUInt8=function(t,e){return e||I(t,1,this.length),this[t]},s.prototype.readUInt16LE=function(t,e){return e||I(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUInt16BE=function(t,e){return e||I(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUInt32LE=function(t,e){return e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUInt32BE=function(t,e){return e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,e,i){t|=0,e|=0,i||I(t,e,this.length);for(var n=this[t],r=1,o=0;++o<e&&(r*=256);)n+=this[t+o]*r;return n>=(r*=128)&&(n-=Math.pow(2,8*e)),n},s.prototype.readIntBE=function(t,e,i){t|=0,e|=0,i||I(t,e,this.length);for(var n=e,r=1,o=this[t+--n];n>0&&(r*=256);)o+=this[t+--n]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*e)),o},s.prototype.readInt8=function(t,e){return e||I(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},s.prototype.readInt16LE=function(t,e){e||I(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},s.prototype.readInt16BE=function(t,e){e||I(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},s.prototype.readInt32LE=function(t,e){return e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,e){return e||I(t,4,this.length),Q.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return e||I(t,4,this.length),Q.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return e||I(t,8,this.length),Q.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return e||I(t,8,this.length),Q.read(this,t,!1,52,8)},s.prototype.writeUIntLE=function(t,e,i,n){(t=+t,e|=0,i|=0,n)||$(this,t,e,i,Math.pow(2,8*i)-1,0);var r=1,o=0;for(this[e]=255&t;++o<i&&(r*=256);)this[e+o]=t/r&255;return e+i},s.prototype.writeUIntBE=function(t,e,i,n){(t=+t,e|=0,i|=0,n)||$(this,t,e,i,Math.pow(2,8*i)-1,0);var r=i-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+i},s.prototype.writeUInt8=function(t,e,i){return t=+t,e|=0,i||$(this,t,e,1,255,0),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},s.prototype.writeUInt16LE=function(t,e,i){return t=+t,e|=0,i||$(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},s.prototype.writeUInt16BE=function(t,e,i){return t=+t,e|=0,i||$(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},s.prototype.writeUInt32LE=function(t,e,i){return t=+t,e|=0,i||$(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):z(this,t,e,!0),e+4},s.prototype.writeUInt32BE=function(t,e,i){return t=+t,e|=0,i||$(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):z(this,t,e,!1),e+4},s.prototype.writeIntLE=function(t,e,i,n){if(t=+t,e|=0,!n){var r=Math.pow(2,8*i-1);$(this,t,e,i,r-1,-r)}var o=0,s=1,a=0;for(this[e]=255&t;++o<i&&(s*=256);)0>t&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s|0)-a&255;return e+i},s.prototype.writeIntBE=function(t,e,i,n){if(t=+t,e|=0,!n){var r=Math.pow(2,8*i-1);$(this,t,e,i,r-1,-r)}var o=i-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)0>t&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s|0)-a&255;return e+i},s.prototype.writeInt8=function(t,e,i){return t=+t,e|=0,i||$(this,t,e,1,127,-128),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,i){return t=+t,e|=0,i||$(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},s.prototype.writeInt16BE=function(t,e,i){return t=+t,e|=0,i||$(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},s.prototype.writeInt32LE=function(t,e,i){return t=+t,e|=0,i||$(this,t,e,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):z(this,t,e,!0),e+4},s.prototype.writeInt32BE=function(t,e,i){return t=+t,e|=0,i||$(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):z(this,t,e,!1),e+4},s.prototype.writeFloatLE=function(t,e,i){return F(this,t,e,!0,i)},s.prototype.writeFloatBE=function(t,e,i){return F(this,t,e,!1,i)},s.prototype.writeDoubleLE=function(t,e,i){return q(this,t,e,!0,i)},s.prototype.writeDoubleBE=function(t,e,i){return q(this,t,e,!1,i)},s.prototype.copy=function(t,e,i,n){if(i||(i=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&i>n&&(n=i),n===i)return 0;if(0===t.length||0===this.length)return 0;if(0>e)throw new RangeError("targetStart out of bounds");if(0>i||i>=this.length)throw new RangeError("sourceStart out of bounds");if(0>n)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-i&&(n=t.length-e+i);var r,o=n-i;if(this===t&&e>i&&n>e)for(r=o-1;r>=0;r--)t[r+e]=this[r+i];else if(1e3>o||!s.TYPED_ARRAY_SUPPORT)for(r=0;o>r;r++)t[r+e]=this[r+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+o),e);return o},s.prototype.fill=function(t,e,i,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),1===t.length){var r=t.charCodeAt(0);256>r&&(t=r)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(0>e||this.length<e||this.length<i)throw new RangeError("Out of range index");if(e>=i)return this;var o;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(o=e;i>o;o++)this[o]=t;else{var a=s.isBuffer(t)?t:U(new s(t,n).toString()),l=a.length;for(o=0;i-e>o;o++)this[o+e]=a[o%l]}return this};var tt=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:15,isarray:16}],4:[function(t,e){"use strict";function i(t){return"function"!=typeof(t=t||{}).codeMirrorInstance||"function"!=typeof t.codeMirrorInstance.defineMode?void console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`"):(String.prototype.includes||(String.prototype.includes=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),void t.codeMirrorInstance.defineMode("spell-checker",(function(e){if(!i.aff_loading){i.aff_loading=!0;var r=new XMLHttpRequest;r.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),r.onload=function(){4===r.readyState&&200===r.status&&(i.aff_data=r.responseText,i.num_loaded++,2==i.num_loaded&&(i.typo=new n("en_US",i.aff_data,i.dic_data,{platform:"any"})))},r.send(null)}if(!i.dic_loading){i.dic_loading=!0;var o=new XMLHttpRequest;o.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),o.onload=function(){4===o.readyState&&200===o.status&&(i.dic_data=o.responseText,i.num_loaded++,2==i.num_loaded&&(i.typo=new n("en_US",i.aff_data,i.dic_data,{platform:"any"})))},o.send(null)}var s='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',a={token:function(t){var e=t.peek(),n="";if(s.includes(e))return t.next(),null;for(;null!=(e=t.peek())&&!s.includes(e);)n+=e,t.next();return i.typo&&!i.typo.check(n)?"spell-error":null}},l=t.codeMirrorInstance.getMode(e,e.backdrop||"text/plain");return t.codeMirrorInstance.overlayMode(l,a,!0)})))}var n=t("typo-js");i.num_loaded=0,i.aff_loading=!1,i.dic_loading=!1,i.aff_data="",i.dic_data="",i.typo,e.exports=i},{"typo-js":18}],5:[function(e,i,n){var r;r=function(t){"use strict";function e(t){var e=t.getWrapperElement();t.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:e.style.width,height:e.style.height},e.style.width="",e.style.height="auto",e.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",t.refresh()}function i(t){var e=t.getWrapperElement();e.className=e.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var i=t.state.fullScreenRestore;e.style.width=i.width,e.style.height=i.height,window.scrollTo(i.scrollLeft,i.scrollTop),t.refresh()}t.defineOption("fullScreen",!1,(function(n,r,o){o==t.Init&&(o=!1),!o!=!r&&(r?e(n):i(n))}))},"object"==typeof n&&"object"==typeof i?r(e("../../lib/codemirror")):"function"==typeof t&&t.amd?t(["../../lib/codemirror"],r):r(CodeMirror)},{"../../lib/codemirror":10}],6:[function(e,i,n){var r;r=function(t){function e(t){t.state.placeholder&&(t.state.placeholder.parentNode.removeChild(t.state.placeholder),t.state.placeholder=null)}function i(t){e(t);var i=t.state.placeholder=document.createElement("pre");i.style.cssText="height: 0; overflow: visible",i.className="CodeMirror-placeholder";var n=t.getOption("placeholder");"string"==typeof n&&(n=document.createTextNode(n)),i.appendChild(n),t.display.lineSpace.insertBefore(i,t.display.lineSpace.firstChild)}function n(t){o(t)&&i(t)}function r(t){var n=t.getWrapperElement(),r=o(t);n.className=n.className.replace(" CodeMirror-empty","")+(r?" CodeMirror-empty":""),r?i(t):e(t)}function o(t){return 1===t.lineCount()&&""===t.getLine(0)}t.defineOption("placeholder","",(function(i,o,s){var a=s&&s!=t.Init;if(o&&!a)i.on("blur",n),i.on("change",r),i.on("swapDoc",r),r(i);else if(!o&&a){i.off("blur",n),i.off("change",r),i.off("swapDoc",r),e(i);var l=i.getWrapperElement();l.className=l.className.replace(" CodeMirror-empty","")}o&&!i.hasFocus()&&n(i)}))},"object"==typeof n&&"object"==typeof i?r(e("../../lib/codemirror")):"function"==typeof t&&t.amd?t(["../../lib/codemirror"],r):r(CodeMirror)},{"../../lib/codemirror":10}],7:[function(e,i,n){var r;r=function(t){"use strict";var e=/^(\s*)(>[> ]*|[*+-]\s|(\d+)([.)]))(\s*)/,i=/^(\s*)(>[> ]*|[*+-]|(\d+)[.)])(\s*)$/,n=/[*+-]\s/;t.commands.newlineAndIndentContinueMarkdownList=function(r){if(r.getOption("disableInput"))return t.Pass;for(var o=r.listSelections(),s=[],a=0;a<o.length;a++){var l=o[a].head,c=r.getStateAfter(l.line),u=!1!==c.list,h=0!==c.quote,d=r.getLine(l.line),p=e.exec(d);if(!o[a].empty()||!u&&!h||!p)return void r.execCommand("newlineAndIndent");if(i.test(d))r.replaceRange("",{line:l.line,ch:0},{line:l.line,ch:l.ch+1}),s[a]="\n";else{var f=p[1],m=p[5],g=n.test(p[2])||p[2].indexOf(">")>=0?p[2]:parseInt(p[3],10)+1+p[4];s[a]="\n"+f+g+m}}r.replaceSelections(s)}},"object"==typeof n&&"object"==typeof i?r(e("../../lib/codemirror")):"function"==typeof t&&t.amd?t(["../../lib/codemirror"],r):r(CodeMirror)},{"../../lib/codemirror":10}],8:[function(e,i,n){var r;r=function(t){"use strict";t.overlayMode=function(e,i,n){return{startState:function(){return{base:t.startState(e),overlay:t.startState(i),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(n){return{base:t.copyState(e,n.base),overlay:t.copyState(i,n.overlay),basePos:n.basePos,baseCur:null,overlayPos:n.overlayPos,overlayCur:null}},token:function(t,r){return(t!=r.streamSeen||Math.min(r.basePos,r.overlayPos)<t.start)&&(r.streamSeen=t,r.basePos=r.overlayPos=t.start),t.start==r.basePos&&(r.baseCur=e.token(t,r.base),r.basePos=t.pos),t.start==r.overlayPos&&(t.pos=t.start,r.overlayCur=i.token(t,r.overlay),r.overlayPos=t.pos),t.pos=Math.min(r.basePos,r.overlayPos),null==r.overlayCur?r.baseCur:null!=r.baseCur&&r.overlay.combineTokens||n&&null==r.overlay.combineTokens?r.baseCur+" "+r.overlayCur:r.overlayCur},indent:e.indent&&function(t,i){return e.indent(t.base,i)},electricChars:e.electricChars,innerMode:function(t){return{state:t.base,mode:e}},blankLine:function(t){e.blankLine&&e.blankLine(t.base),i.blankLine&&i.blankLine(t.overlay)}}}},"object"==typeof n&&"object"==typeof i?r(e("../../lib/codemirror")):"function"==typeof t&&t.amd?t(["../../lib/codemirror"],r):r(CodeMirror)},{"../../lib/codemirror":10}],9:[function(e,i,n){var r;r=function(t){"use strict";function e(t){t.operation((function(){s(t)}))}function i(t){t.state.markedSelection.length&&t.operation((function(){r(t)}))}function n(t,e,i,n){if(0!=c(e,i))for(var r=t.state.markedSelection,o=t.state.markedSelectionStyle,s=e.line;;){var u=s==e.line?e:l(s,0),h=s+a,d=h>=i.line,p=d?i:l(h,0),f=t.markText(u,p,{className:o});if(null==n?r.push(f):r.splice(n++,0,f),d)break;s=h}}function r(t){for(var e=t.state.markedSelection,i=0;i<e.length;++i)e[i].clear();e.length=0}function o(t){r(t);for(var e=t.listSelections(),i=0;i<e.length;i++)n(t,e[i].from(),e[i].to())}function s(t){if(!t.somethingSelected())return r(t);if(t.listSelections().length>1)return o(t);var e=t.getCursor("start"),i=t.getCursor("end"),s=t.state.markedSelection;if(!s.length)return n(t,e,i);var l=s[0].find(),u=s[s.length-1].find();if(!l||!u||i.line-e.line<a||c(e,u.to)>=0||c(i,l.from)<=0)return o(t);for(;c(e,l.from)>0;)s.shift().clear(),l=s[0].find();for(c(e,l.from)<0&&(l.to.line-e.line<a?(s.shift().clear(),n(t,e,l.to,0)):n(t,e,l.from,0));c(i,u.to)<0;)s.pop().clear(),u=s[s.length-1].find();c(i,u.to)>0&&(i.line-u.from.line<a?(s.pop().clear(),n(t,u.from,i)):n(t,u.to,i))}t.defineOption("styleSelectedText",!1,(function(n,s,a){var l=a&&a!=t.Init;s&&!l?(n.state.markedSelection=[],n.state.markedSelectionStyle="string"==typeof s?s:"CodeMirror-selectedtext",o(n),n.on("cursorActivity",e),n.on("change",i)):!s&&l&&(n.off("cursorActivity",e),n.off("change",i),r(n),n.state.markedSelection=n.state.markedSelectionStyle=null)}));var a=8,l=t.Pos,c=t.cmpPos},"object"==typeof n&&"object"==typeof i?r(e("../../lib/codemirror")):"function"==typeof t&&t.amd?t(["../../lib/codemirror"],r):r(CodeMirror)},{"../../lib/codemirror":10}],10:[function(e,i,n){!function(e){if("object"==typeof n&&"object"==typeof i)i.exports=e();else{if("function"==typeof t&&t.amd)return t([],e);(this||window).CodeMirror=e()}}((function(){"use strict";function t(i,n){if(!(this instanceof t))return new t(i,n);this.options=n=n?zr(n):{},zr(ts,n,!1),p(n);var r=n.value;"string"==typeof r&&(r=new Cs(r,n.mode,null,n.lineSeparator)),this.doc=r;var o=new t.inputStyles[n.inputStyle](this),s=this.display=new e(i,r,o);s.wrapper.CodeMirror=this,c(this),a(this),n.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),n.autofocus&&!Po&&s.input.focus(),v(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Mr,keySeq:null,specialChars:null};var l=this;for(var u in bo&&11>wo&&setTimeout((function(){l.display.input.reset(!0)}),20),Be(this),Vr(),we(this),this.curOp.forceUpdate=!0,Kn(this,r),n.autofocus&&!Po||l.hasFocus()?setTimeout(jr(gi,this),20):vi(this),es)es.hasOwnProperty(u)&&es[u](this,n[u],is);_(this),n.finishInit&&n.finishInit(this);for(var h=0;h<ss.length;++h)ss[h](this);_e(this),xo&&n.lineWrapping&&"optimizelegibility"==getComputedStyle(s.lineDiv).textRendering&&(s.lineDiv.style.textRendering="auto")}function e(t,e,i){var n=this;this.input=i,n.scrollbarFiller=Br("div",null,"CodeMirror-scrollbar-filler"),n.scrollbarFiller.setAttribute("cm-not-content","true"),n.gutterFiller=Br("div",null,"CodeMirror-gutter-filler"),n.gutterFiller.setAttribute("cm-not-content","true"),n.lineDiv=Br("div",null,"CodeMirror-code"),n.selectionDiv=Br("div",null,null,"position: relative; z-index: 1"),n.cursorDiv=Br("div",null,"CodeMirror-cursors"),n.measure=Br("div",null,"CodeMirror-measure"),n.lineMeasure=Br("div",null,"CodeMirror-measure"),n.lineSpace=Br("div",[n.measure,n.lineMeasure,n.selectionDiv,n.cursorDiv,n.lineDiv],null,"position: relative; outline: none"),n.mover=Br("div",[Br("div",[n.lineSpace],"CodeMirror-lines")],null,"position: relative"),n.sizer=Br("div",[n.mover],"CodeMirror-sizer"),n.sizerWidth=null,n.heightForcer=Br("div",null,null,"position: absolute; height: "+$s+"px; width: 1px;"),n.gutters=Br("div",null,"CodeMirror-gutters"),n.lineGutter=null,n.scroller=Br("div",[n.sizer,n.heightForcer,n.gutters],"CodeMirror-scroll"),n.scroller.setAttribute("tabIndex","-1"),n.wrapper=Br("div",[n.scrollbarFiller,n.gutterFiller,n.scroller],"CodeMirror"),bo&&8>wo&&(n.gutters.style.zIndex=-1,n.scroller.style.paddingRight=0),xo||go&&Po||(n.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(n.wrapper):t(n.wrapper)),n.viewFrom=n.viewTo=e.first,n.reportedViewFrom=n.reportedViewTo=e.first,n.view=[],n.renderedView=null,n.externalMeasured=null,n.viewOffset=0,n.lastWrapHeight=n.lastWrapWidth=0,n.updateLineNumbers=null,n.nativeBarWidth=n.barHeight=n.barWidth=0,n.scrollbarsClipped=!1,n.lineNumWidth=n.lineNumInnerWidth=n.lineNumChars=null,n.alignWidgets=!1,n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=null,n.maxLine=null,n.maxLineLength=0,n.maxLineChanged=!1,n.wheelDX=n.wheelDY=n.wheelStartX=n.wheelStartY=null,n.shift=!1,n.selForContextMenu=null,n.activeTouch=null,i.init(n)}function i(e){e.doc.mode=t.getMode(e.options,e.doc.modeOption),n(e)}function n(t){t.doc.iter((function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)})),t.doc.frontier=t.doc.first,Ft(t,100),t.state.modeGen++,t.curOp&&$e(t)}function r(t){t.options.lineWrapping?(Js(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(Qs(t.display.wrapper,"CodeMirror-wrap"),d(t)),s(t),$e(t),ae(t),setTimeout((function(){y(t)}),100)}function o(t){var e=ye(t.display),i=t.options.lineWrapping,n=i&&Math.max(5,t.display.scroller.clientWidth/be(t.display)-3);return function(r){if(_n(t.doc,r))return 0;var o=0;if(r.widgets)for(var s=0;s<r.widgets.length;s++)r.widgets[s].height&&(o+=r.widgets[s].height);return i?o+(Math.ceil(r.text.length/n)||1)*e:o+e}}function s(t){var e=t.doc,i=o(t);e.iter((function(t){var e=i(t);e!=t.height&&tr(t,e)}))}function a(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),ae(t)}function l(t){c(t),$e(t),setTimeout((function(){x(t)}),20)}function c(t){var e=t.display.gutters,i=t.options.gutters;Hr(e);for(var n=0;n<i.length;++n){var r=i[n],o=e.appendChild(Br("div",null,"CodeMirror-gutter "+r));"CodeMirror-linenumbers"==r&&(t.display.lineGutter=o,o.style.width=(t.display.lineNumWidth||1)+"px")}e.style.display=n?"":"none",u(t)}function u(t){var e=t.display.gutters.offsetWidth;t.display.sizer.style.marginLeft=e+"px"}function h(t){if(0==t.height)return 0;for(var e,i=t.text.length,n=t;e=mn(n);){n=(r=e.find(0,!0)).from.line,i+=r.from.ch-r.to.ch}for(n=t;e=gn(n);){var r=e.find(0,!0);i-=n.text.length-r.from.ch,i+=(n=r.to.line).text.length-r.to.ch}return i}function d(t){var e=t.display,i=t.doc;e.maxLine=Qn(i,i.first),e.maxLineLength=h(e.maxLine),e.maxLineChanged=!0,i.iter((function(t){var i=h(t);i>e.maxLineLength&&(e.maxLineLength=i,e.maxLine=t)}))}function p(t){var e=Dr(t.gutters,"CodeMirror-linenumbers");-1==e&&t.lineNumbers?t.gutters=t.gutters.concat(["CodeMirror-linenumbers"]):e>-1&&!t.lineNumbers&&(t.gutters=t.gutters.slice(0),t.gutters.splice(e,1))}function f(t){var e=t.display,i=e.gutters.offsetWidth,n=Math.round(t.doc.height+Ut(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?i:0,docHeight:n,scrollHeight:n+Xt(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:i}}function m(t,e,i){this.cm=i;var n=this.vert=Br("div",[Br("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=Br("div",[Br("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");t(n),t(r),Ms(n,"scroll",(function(){n.clientHeight&&e(n.scrollTop,"vertical")})),Ms(r,"scroll",(function(){r.clientWidth&&e(r.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,bo&&8>wo&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function g(){}function v(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&Qs(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new t.scrollbarModel[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),Ms(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){e.display.input.focus()}),0)})),t.setAttribute("cm-not-content","true")}),(function(t,i){"horizontal"==i?ri(e,t):ni(e,t)}),e),e.display.scrollbars.addClass&&Js(e.display.wrapper,e.display.scrollbars.addClass)}function y(t,e){e||(e=f(t));var i=t.display.barWidth,n=t.display.barHeight;b(t,e);for(var r=0;4>r&&i!=t.display.barWidth||n!=t.display.barHeight;r++)i!=t.display.barWidth&&t.options.lineWrapping&&L(t),b(t,f(t)),i=t.display.barWidth,n=t.display.barHeight}function b(t,e){var i=t.display,n=i.scrollbars.update(e);i.sizer.style.paddingRight=(i.barWidth=n.right)+"px",i.sizer.style.paddingBottom=(i.barHeight=n.bottom)+"px",i.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(i.scrollbarFiller.style.display="block",i.scrollbarFiller.style.height=n.bottom+"px",
i.scrollbarFiller.style.width=n.right+"px"):i.scrollbarFiller.style.display="",n.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(i.gutterFiller.style.display="block",i.gutterFiller.style.height=n.bottom+"px",i.gutterFiller.style.width=e.gutterWidth+"px"):i.gutterFiller.style.display=""}function w(t,e,i){var n=i&&null!=i.top?Math.max(0,i.top):t.scroller.scrollTop;n=Math.floor(n-Ht(t));var r=i&&null!=i.bottom?i.bottom:n+t.wrapper.clientHeight,o=ir(e,n),s=ir(e,r);if(i&&i.ensure){var a=i.ensure.from.line,l=i.ensure.to.line;o>a?(o=a,s=ir(e,nr(Qn(e,a))+t.wrapper.clientHeight)):Math.min(l,e.lastLine())>=s&&(o=ir(e,nr(Qn(e,l))-t.wrapper.clientHeight),s=l)}return{from:o,to:Math.max(s,o+1)}}function x(t){var e=t.display,i=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var n=C(e)-e.scroller.scrollLeft+t.doc.scrollLeft,r=e.gutters.offsetWidth,o=n+"px",s=0;s<i.length;s++)if(!i[s].hidden){t.options.fixedGutter&&i[s].gutter&&(i[s].gutter.style.left=o);var a=i[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o}t.options.fixedGutter&&(e.gutters.style.left=n+r+"px")}}function _(t){if(!t.options.lineNumbers)return!1;var e=t.doc,i=k(t.options,e.first+e.size-1),n=t.display;if(i.length!=n.lineNumChars){var r=n.measure.appendChild(Br("div",[Br("div",i)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=r.firstChild.offsetWidth,s=r.offsetWidth-o;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(o,n.lineGutter.offsetWidth-s)+1,n.lineNumWidth=n.lineNumInnerWidth+s,n.lineNumChars=n.lineNumInnerWidth?i.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",u(t),!0}return!1}function k(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function C(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function S(t,e,i){var n=t.display;this.viewport=e,this.visible=w(n,t.doc,e),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Gt(t),this.force=i,this.dims=D(t),this.events=[]}function T(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=Xt(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=Xt(t)+"px",e.scrollbarsClipped=!0)}function A(t,e){var i=t.display,n=t.doc;if(e.editorIsHidden)return ze(t),!1;if(!e.force&&e.visible.from>=i.viewFrom&&e.visible.to<=i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo)&&i.renderedView==i.view&&0==Re(t))return!1;_(t)&&(ze(t),e.dims=D(t));var r=n.first+n.size,o=Math.max(e.visible.from-t.options.viewportMargin,n.first),s=Math.min(r,e.visible.to+t.options.viewportMargin);i.viewFrom<o&&o-i.viewFrom<20&&(o=Math.max(n.first,i.viewFrom)),i.viewTo>s&&i.viewTo-s<20&&(s=Math.min(r,i.viewTo)),zo&&(o=wn(t.doc,o),s=xn(t.doc,s));var a=o!=i.viewFrom||s!=i.viewTo||i.lastWrapHeight!=e.wrapperHeight||i.lastWrapWidth!=e.wrapperWidth;qe(t,o,s),i.viewOffset=nr(Qn(t.doc,i.viewFrom)),t.display.mover.style.top=i.viewOffset+"px";var l=Re(t);if(!a&&0==l&&!e.force&&i.renderedView==i.view&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo))return!1;var c=Wr();return l>4&&(i.lineDiv.style.display="none"),I(t,i.updateLineNumbers,e.dims),l>4&&(i.lineDiv.style.display=""),i.renderedView=i.view,c&&Wr()!=c&&c.offsetHeight&&c.focus(),Hr(i.cursorDiv),Hr(i.selectionDiv),i.gutters.style.height=i.sizer.style.minHeight=0,a&&(i.lastWrapHeight=e.wrapperHeight,i.lastWrapWidth=e.wrapperWidth,Ft(t,400)),i.updateLineNumbers=null,!0}function E(t,e){for(var i=e.viewport,n=!0;(n&&t.options.lineWrapping&&e.oldDisplayWidth!=Gt(t)||(i&&null!=i.top&&(i={top:Math.min(t.doc.height+Ut(t.display)-Yt(t),i.top)}),e.visible=w(t.display,t.doc,i),!(e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)))&&A(t,e);n=!1){L(t);var r=f(t);It(t),y(t,r),M(t,r)}e.signal(t,"update",t),t.display.viewFrom==t.display.reportedViewFrom&&t.display.viewTo==t.display.reportedViewTo||(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function P(t,e){var i=new S(t,e);if(A(t,i)){L(t),E(t,i);var n=f(t);It(t),y(t,n),M(t,n),i.finish()}}function M(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+Xt(t)+"px"}function L(t){for(var e=t.display,i=e.lineDiv.offsetTop,n=0;n<e.view.length;n++){var r,o=e.view[n];if(!o.hidden){if(bo&&8>wo){var s=o.node.offsetTop+o.node.offsetHeight;r=s-i,i=s}else{var a=o.node.getBoundingClientRect();r=a.bottom-a.top}var l=o.line.height-r;if(2>r&&(r=ye(e)),(l>.001||-.001>l)&&(tr(o.line,r),O(o.line),o.rest))for(var c=0;c<o.rest.length;c++)O(o.rest[c])}}}function O(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e)t.widgets[e].height=t.widgets[e].node.parentNode.offsetHeight}function D(t){for(var e=t.display,i={},n={},r=e.gutters.clientLeft,o=e.gutters.firstChild,s=0;o;o=o.nextSibling,++s)i[t.options.gutters[s]]=o.offsetLeft+o.clientLeft+r,n[t.options.gutters[s]]=o.clientWidth;return{fixedPos:C(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:i,gutterWidth:n,wrapperWidth:e.wrapper.clientWidth}}function I(t,e,i){function n(e){var i=e.nextSibling;return xo&&Mo&&t.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),i}for(var r=t.display,o=t.options.lineNumbers,s=r.lineDiv,a=s.firstChild,l=r.view,c=r.viewFrom,u=0;u<l.length;u++){var h=l[u];if(h.hidden);else if(h.node&&h.node.parentNode==s){for(;a!=h.node;)a=n(a);var d=o&&null!=e&&c>=e&&h.lineNumber;h.changes&&(Dr(h.changes,"gutter")>-1&&(d=!1),$(t,h,c,i)),d&&(Hr(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(k(t.options,c)))),a=h.node.nextSibling}else{var p=H(t,h,c,i);s.insertBefore(p,a)}c+=h.size}for(;a;)a=n(a)}function $(t,e,i,n){for(var r=0;r<e.changes.length;r++){var o=e.changes[r];"text"==o?F(t,e):"gutter"==o?R(t,e,i,n):"class"==o?q(e):"widget"==o&&B(t,e,n)}e.changes=null}function N(t){return t.node==t.text&&(t.node=Br("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),bo&&8>wo&&(t.node.style.zIndex=2)),t.node}function z(t){var e=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(e&&(e+=" CodeMirror-linebackground"),t.background)e?t.background.className=e:(t.background.parentNode.removeChild(t.background),t.background=null);else if(e){var i=N(t);t.background=i.insertBefore(Br("div",null,e),i.firstChild)}}function j(t,e){var i=t.display.externalMeasured;return i&&i.line==e.line?(t.display.externalMeasured=null,e.measure=i.measure,i.built):jn(t,e)}function F(t,e){var i=e.text.className,n=j(t,e);e.text==e.node&&(e.node=n.pre),e.text.parentNode.replaceChild(n.pre,e.text),e.text=n.pre,n.bgClass!=e.bgClass||n.textClass!=e.textClass?(e.bgClass=n.bgClass,e.textClass=n.textClass,q(e)):i&&(e.text.className=i)}function q(t){z(t),t.line.wrapClass?N(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var e=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=e||""}function R(t,e,i,n){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var r=N(e);e.gutterBackground=Br("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),r.insertBefore(e.gutterBackground,e.text)}var o=e.line.gutterMarkers;if(t.options.lineNumbers||o){r=N(e);var s=e.gutter=Br("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(t.display.input.setUneditable(s),r.insertBefore(s,e.text),e.line.gutterClass&&(s.className+=" "+e.line.gutterClass),!t.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(e.lineNumber=s.appendChild(Br("div",k(t.options,i),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),o)for(var a=0;a<t.options.gutters.length;++a){var l=t.options.gutters[a],c=o.hasOwnProperty(l)&&o[l];c&&s.appendChild(Br("div",[c],"CodeMirror-gutter-elt","left: "+n.gutterLeft[l]+"px; width: "+n.gutterWidth[l]+"px"))}}}function B(t,e,i){e.alignable&&(e.alignable=null);for(var n=e.node.firstChild;n;n=r){var r=n.nextSibling;"CodeMirror-linewidget"==n.className&&e.node.removeChild(n)}U(t,e,i)}function H(t,e,i,n){var r=j(t,e);return e.text=e.node=r.pre,r.bgClass&&(e.bgClass=r.bgClass),r.textClass&&(e.textClass=r.textClass),q(e),R(t,e,i,n),U(t,e,n),e.node}function U(t,e,i){if(W(t,e.line,e,i,!0),e.rest)for(var n=0;n<e.rest.length;n++)W(t,e.rest[n],e,i,!1)}function W(t,e,i,n,r){if(e.widgets)for(var o=N(i),s=0,a=e.widgets;s<a.length;++s){var l=a[s],c=Br("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),X(l,c,i,n),t.display.input.setUneditable(c),r&&l.above?o.insertBefore(c,i.gutter||i.text):o.appendChild(c),Cr(l,"redraw")}}function X(t,e,i,n){if(t.noHScroll){(i.alignable||(i.alignable=[])).push(e);var r=n.wrapperWidth;e.style.left=n.fixedPos+"px",t.coverGutter||(r-=n.gutterTotalWidth,e.style.paddingLeft=n.gutterTotalWidth+"px"),e.style.width=r+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-n.gutterTotalWidth+"px"))}function G(t){return jo(t.line,t.ch)}function Y(t,e){return Fo(t,e)<0?e:t}function V(t,e){return Fo(t,e)<0?t:e}function K(t){t.state.focused||(t.display.input.focus(),gi(t))}function Q(t,e,i,n,r){var o=t.doc;t.display.shift=!1,n||(n=o.sel);var s=t.state.pasteIncoming||"paste"==r,a=o.splitLines(e),l=null;if(s&&n.ranges.length>1)if(qo&&qo.text.join("\n")==e){if(n.ranges.length%qo.text.length==0){l=[];for(var c=0;c<qo.text.length;c++)l.push(o.splitLines(qo.text[c]))}}else a.length==n.ranges.length&&(l=Ir(a,(function(t){return[t]})));for(c=n.ranges.length-1;c>=0;c--){var u=n.ranges[c],h=u.from(),d=u.to();u.empty()&&(i&&i>0?h=jo(h.line,h.ch-i):t.state.overwrite&&!s?d=jo(d.line,Math.min(Qn(o,d.line).text.length,d.ch+Or(a).length)):qo&&qo.lineWise&&qo.text.join("\n")==e&&(h=d=jo(h.line,0)));var p=t.curOp.updateInput,f={from:h,to:d,text:l?l[c%l.length]:a,origin:r||(s?"paste":t.state.cutIncoming?"cut":"+input")};Si(t.doc,f),Cr(t,"inputRead",t,f)}e&&!s&&Z(t,e),zi(t),t.curOp.updateInput=p,t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=!1}function J(t,e){var i=t.clipboardData&&t.clipboardData.getData("text/plain");return i?(t.preventDefault(),e.isReadOnly()||e.options.disableInput||Pe(e,(function(){Q(e,i,0,null,"paste")})),!0):void 0}function Z(t,e){if(t.options.electricChars&&t.options.smartIndent)for(var i=t.doc.sel,n=i.ranges.length-1;n>=0;n--){var r=i.ranges[n];if(!(r.head.ch>100||n&&i.ranges[n-1].head.line==r.head.line)){var o=t.getModeAt(r.head),s=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(e.indexOf(o.electricChars.charAt(a))>-1){s=Fi(t,r.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Qn(t.doc,r.head.line).text.slice(0,r.head.ch))&&(s=Fi(t,r.head.line,"smart"));s&&Cr(t,"electricInput",t,r.head.line)}}}function tt(t){for(var e=[],i=[],n=0;n<t.doc.sel.ranges.length;n++){var r=t.doc.sel.ranges[n].head.line,o={anchor:jo(r,0),head:jo(r+1,0)};i.push(o),e.push(t.getRange(o.anchor,o.head))}return{text:e,ranges:i}}function et(t){t.setAttribute("autocorrect","off"),t.setAttribute("autocapitalize","off"),t.setAttribute("spellcheck","false")}function it(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new Mr,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function nt(){var t=Br("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),e=Br("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return xo?t.style.width="1000px":t.setAttribute("wrap","off"),Eo&&(t.style.border="1px solid black"),et(t),e}function rt(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Mr,this.gracePeriod=!1}function ot(t,e){var i=Zt(t,e.line);if(!i||i.hidden)return null;var n=Qn(t.doc,e.line),r=Kt(i,n,e.line),o=rr(n),s="left";o&&(s=co(o,e.ch)%2?"right":"left");var a=ie(r.map,e.ch,s);return a.offset="right"==a.collapse?a.end:a.start,a}function st(t,e){return e&&(t.bad=!0),t}function at(t,e,i){var n;if(e==t.display.lineDiv){if(!(n=t.display.lineDiv.childNodes[i]))return st(t.clipPos(jo(t.display.viewTo-1)),!0);e=null,i=0}else for(n=e;;n=n.parentNode){if(!n||n==t.display.lineDiv)return null;if(n.parentNode&&n.parentNode==t.display.lineDiv)break}for(var r=0;r<t.display.view.length;r++){var o=t.display.view[r];if(o.node==n)return lt(o,e,i)}}function lt(t,e,i){function n(e,i,n){for(var r=-1;r<(u?u.length:0);r++)for(var o=0>r?c.map:u[r],s=0;s<o.length;s+=3){var a=o[s+2];if(a==e||a==i){var l=er(0>r?t.line:t.rest[r]),h=o[s]+n;return(0>n||a!=e)&&(h=o[s+(n?1:0)]),jo(l,h)}}}var r=t.text.firstChild,o=!1;if(!e||!Ys(r,e))return st(jo(er(t.line),0),!0);if(e==r&&(o=!0,e=r.childNodes[i],i=0,!e)){var s=t.rest?Or(t.rest):t.line;return st(jo(er(s),s.text.length),o)}var a=3==e.nodeType?e:null,l=e;for(a||1!=e.childNodes.length||3!=e.firstChild.nodeType||(a=e.firstChild,i&&(i=a.nodeValue.length));l.parentNode!=r;)l=l.parentNode;var c=t.measure,u=c.maps,h=n(a,l,i);if(h)return st(h,o);for(var d=l.nextSibling,p=a?a.nodeValue.length-i:0;d;d=d.nextSibling){if(h=n(d,d.firstChild,0))return st(jo(h.line,h.ch-p),o);p+=d.textContent.length}var f=l.previousSibling;for(p=i;f;f=f.previousSibling){if(h=n(f,f.firstChild,-1))return st(jo(h.line,h.ch+p),o);p+=d.textContent.length}}function ct(t,e,i,n,r){function o(t){return function(e){return e.id==t}}function s(e){if(1==e.nodeType){var i=e.getAttribute("cm-text");if(null!=i)return""==i&&(i=e.textContent.replace(/\u200b/g,"")),void(a+=i);var u,h=e.getAttribute("cm-marker");if(h){var d=t.findMarks(jo(n,0),jo(r+1,0),o(+h));return void(d.length&&(u=d[0].find())&&(a+=Jn(t.doc,u.from,u.to).join(c)))}if("false"==e.getAttribute("contenteditable"))return;for(var p=0;p<e.childNodes.length;p++)s(e.childNodes[p]);/^(pre|div|p)$/i.test(e.nodeName)&&(l=!0)}else if(3==e.nodeType){var f=e.nodeValue;if(!f)return;l&&(a+=c,l=!1),a+=f}}for(var a="",l=!1,c=t.doc.lineSeparator();s(e),e!=i;)e=e.nextSibling;return a}function ut(t,e){this.ranges=t,this.primIndex=e}function ht(t,e){this.anchor=t,this.head=e}function dt(t,e){var i=t[e];t.sort((function(t,e){return Fo(t.from(),e.from())})),e=Dr(t,i);for(var n=1;n<t.length;n++){var r=t[n],o=t[n-1];if(Fo(o.to(),r.from())>=0){var s=V(o.from(),r.from()),a=Y(o.to(),r.to()),l=o.empty()?r.from()==r.head:o.from()==o.head;e>=n&&--e,t.splice(--n,2,new ht(l?a:s,l?s:a))}}return new ut(t,e)}function pt(t,e){return new ut([new ht(t,e||t)],0)}function ft(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function mt(t,e){if(e.line<t.first)return jo(t.first,0);var i=t.first+t.size-1;return e.line>i?jo(i,Qn(t,i).text.length):gt(e,Qn(t,e.line).text.length)}function gt(t,e){var i=t.ch;return null==i||i>e?jo(t.line,e):0>i?jo(t.line,0):t}function vt(t,e){return e>=t.first&&e<t.first+t.size}function yt(t,e){for(var i=[],n=0;n<e.length;n++)i[n]=mt(t,e[n]);return i}function bt(t,e,i,n){if(t.cm&&t.cm.display.shift||t.extend){var r=e.anchor;if(n){var o=Fo(i,r)<0;o!=Fo(n,r)<0?(r=i,i=n):o!=Fo(i,n)<0&&(i=n)}return new ht(r,i)}return new ht(n||i,i)}function wt(t,e,i,n){Tt(t,new ut([bt(t,t.sel.primary(),e,i)],0),n)}function xt(t,e,i){for(var n=[],r=0;r<t.sel.ranges.length;r++)n[r]=bt(t,t.sel.ranges[r],e[r],null);Tt(t,dt(n,t.sel.primIndex),i)}function _t(t,e,i,n){var r=t.sel.ranges.slice(0);r[e]=i,Tt(t,dt(r,t.sel.primIndex),n)}function kt(t,e,i,n){Tt(t,pt(e,i),n)}function Ct(t,e,i){var n={ranges:e.ranges,update:function(e){this.ranges=[];for(var i=0;i<e.length;i++)this.ranges[i]=new ht(mt(t,e[i].anchor),mt(t,e[i].head))},origin:i&&i.origin};return Ds(t,"beforeSelectionChange",t,n),t.cm&&Ds(t.cm,"beforeSelectionChange",t.cm,n),n.ranges!=e.ranges?dt(n.ranges,n.ranges.length-1):e}function St(t,e,i){var n=t.history.done,r=Or(n);r&&r.ranges?(n[n.length-1]=e,At(t,e,i)):Tt(t,e,i)}function Tt(t,e,i){At(t,e,i),hr(t,t.sel,t.cm?t.cm.curOp.id:NaN,i)}function At(t,e,i){(Er(t,"beforeSelectionChange")||t.cm&&Er(t.cm,"beforeSelectionChange"))&&(e=Ct(t,e,i));var n=i&&i.bias||(Fo(e.primary().head,t.sel.primary().head)<0?-1:1);Et(t,Mt(t,e,n,!0)),i&&!1===i.scroll||!t.cm||zi(t.cm)}function Et(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=t.cm.curOp.selectionChanged=!0,Ar(t.cm)),Cr(t,"cursorActivity",t))}function Pt(t){Et(t,Mt(t,t.sel,null,!1),zs)}function Mt(t,e,i,n){for(var r,o=0;o<e.ranges.length;o++){var s=e.ranges[o],a=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[o],l=Ot(t,s.anchor,a&&a.anchor,i,n),c=Ot(t,s.head,a&&a.head,i,n);(r||l!=s.anchor||c!=s.head)&&(r||(r=e.ranges.slice(0,o)),r[o]=new ht(l,c))}return r?dt(r,e.primIndex):e}function Lt(t,e,i,n,r){var o=Qn(t,e.line);if(o.markedSpans)for(var s=0;s<o.markedSpans.length;++s){var a=o.markedSpans[s],l=a.marker;if((null==a.from||(l.inclusiveLeft?a.from<=e.ch:a.from<e.ch))&&(null==a.to||(l.inclusiveRight?a.to>=e.ch:a.to>e.ch))){if(r&&(Ds(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--s;continue}break}if(!l.atomic)continue;if(i){var c,u=l.find(0>n?1:-1);if((0>n?l.inclusiveRight:l.inclusiveLeft)&&(u=Dt(t,u,-n,u&&u.line==e.line?o:null)),u&&u.line==e.line&&(c=Fo(u,i))&&(0>n?0>c:c>0))return Lt(t,u,e,n,r)}var h=l.find(0>n?-1:1);return(0>n?l.inclusiveLeft:l.inclusiveRight)&&(h=Dt(t,h,n,h.line==e.line?o:null)),h?Lt(t,h,e,n,r):null}}return e}function Ot(t,e,i,n,r){var o=n||1,s=Lt(t,e,i,o,r)||!r&&Lt(t,e,i,o,!0)||Lt(t,e,i,-o,r)||!r&&Lt(t,e,i,-o,!0);return s||(t.cantEdit=!0,jo(t.first,0))}function Dt(t,e,i,n){return 0>i&&0==e.ch?e.line>t.first?mt(t,jo(e.line-1)):null:i>0&&e.ch==(n||Qn(t,e.line)).text.length?e.line<t.first+t.size-1?jo(e.line+1,0):null:new jo(e.line,e.ch+i)}function It(t){t.display.input.showSelection(t.display.input.prepareSelection())}function $t(t,e){for(var i=t.doc,n={},r=n.cursors=document.createDocumentFragment(),o=n.selection=document.createDocumentFragment(),s=0;s<i.sel.ranges.length;s++)if(!1!==e||s!=i.sel.primIndex){var a=i.sel.ranges[s];if(!(a.from().line>=t.display.viewTo||a.to().line<t.display.viewFrom)){var l=a.empty();(l||t.options.showCursorWhenSelecting)&&Nt(t,a.head,r),l||zt(t,a,o)}}return n}function Nt(t,e,i){var n=pe(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),r=i.appendChild(Br("div","\xa0","CodeMirror-cursor"));if(r.style.left=n.left+"px",r.style.top=n.top+"px",r.style.height=Math.max(0,n.bottom-n.top)*t.options.cursorHeight+"px",n.other){var o=i.appendChild(Br("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=n.other.left+"px",o.style.top=n.other.top+"px",o.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function zt(t,e,i){function n(t,e,i,n){0>e&&(e=0),e=Math.round(e),n=Math.round(n),a.appendChild(Br("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px; top: "+e+"px; width: "+(null==i?u-t:i)+"px; height: "+(n-e)+"px"))}function r(e,i,r){function o(i,n){return de(t,jo(e,i),"div",h,n)}var a,l,h=Qn(s,e),d=h.text.length;return to(rr(h),i||0,null==r?d:r,(function(t,e,s){var h,p,f,m=o(t,"left");if(t==e)h=m,p=f=m.left;else{if(h=o(e-1,"right"),"rtl"==s){var g=m;m=h,h=g}p=m.left,f=h.right}null==i&&0==t&&(p=c),h.top-m.top>3&&(n(p,m.top,null,m.bottom),p=c,m.bottom<h.top&&n(p,m.bottom,null,h.top)),null==r&&e==d&&(f=u),(!a||m.top<a.top||m.top==a.top&&m.left<a.left)&&(a=m),(!l||h.bottom>l.bottom||h.bottom==l.bottom&&h.right>l.right)&&(l=h),c+1>p&&(p=c),n(p,h.top,f-p,h.bottom)})),{start:a,end:l}}var o=t.display,s=t.doc,a=document.createDocumentFragment(),l=Wt(t.display),c=l.left,u=Math.max(o.sizerWidth,Gt(t)-o.sizer.offsetLeft)-l.right,h=e.from(),d=e.to();if(h.line==d.line)r(h.line,h.ch,d.ch);else{var p=Qn(s,h.line),f=Qn(s,d.line),m=yn(p)==yn(f),g=r(h.line,h.ch,m?p.text.length+1:null).end,v=r(d.line,m?0:null,d.ch).start;m&&(g.top<v.top-2?(n(g.right,g.top,null,g.bottom),n(c,v.top,v.left,v.bottom)):n(g.right,g.top,v.left-g.right,g.bottom)),g.bottom<v.top&&n(c,g.bottom,null,v.top)}i.appendChild(a)}function jt(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var i=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval((function(){e.cursorDiv.style.visibility=(i=!i)?"":"hidden"}),t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function Ft(t,e){t.doc.mode.startState&&t.doc.frontier<t.display.viewTo&&t.state.highlight.set(e,jr(qt,t))}function qt(t){var e=t.doc;if(e.frontier<e.first&&(e.frontier=e.first),!(e.frontier>=t.display.viewTo)){var i=+new Date+t.options.workTime,n=ls(e.mode,Bt(t,e.frontier)),r=[];e.iter(e.frontier,Math.min(e.first+e.size,t.display.viewTo+500),(function(o){if(e.frontier>=t.display.viewFrom){var s=o.styles,a=o.text.length>t.options.maxHighlightLength,l=In(t,o,a?ls(e.mode,n):n,!0);o.styles=l.styles;var c=o.styleClasses,u=l.classes;u?o.styleClasses=u:c&&(o.styleClasses=null);for(var h=!s||s.length!=o.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),d=0;!h&&d<s.length;++d)h=s[d]!=o.styles[d];h&&r.push(e.frontier),o.stateAfter=a?n:ls(e.mode,n)}else o.text.length<=t.options.maxHighlightLength&&Nn(t,o.text,n),o.stateAfter=e.frontier%5==0?ls(e.mode,n):null;return++e.frontier,+new Date>i?(Ft(t,t.options.workDelay),!0):void 0})),r.length&&Pe(t,(function(){for(var e=0;e<r.length;e++)Ne(t,r[e],"text")}))}}function Rt(t,e,i){for(var n,r,o=t.doc,s=i?-1:e-(t.doc.mode.innerMode?1e3:100),a=e;a>s;--a){if(a<=o.first)return o.first;var l=Qn(o,a-1);if(l.stateAfter&&(!i||a<=o.frontier))return a;var c=qs(l.text,null,t.options.tabSize);(null==r||n>c)&&(r=a-1,n=c)}return r}function Bt(t,e,i){var n=t.doc,r=t.display;if(!n.mode.startState)return!0;var o=Rt(t,e,i),s=o>n.first&&Qn(n,o-1).stateAfter;return s=s?ls(n.mode,s):cs(n.mode),n.iter(o,e,(function(i){Nn(t,i.text,s);var a=o==e-1||o%5==0||o>=r.viewFrom&&o<r.viewTo;i.stateAfter=a?ls(n.mode,s):null,++o})),i&&(n.frontier=o),s}function Ht(t){return t.lineSpace.offsetTop}function Ut(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function Wt(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=Ur(t.measure,Br("pre","x")),i=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,n={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(t.cachedPaddingH=n),n}function Xt(t){return $s-t.display.nativeBarWidth}function Gt(t){return t.display.scroller.clientWidth-Xt(t)-t.display.barWidth}function Yt(t){return t.display.scroller.clientHeight-Xt(t)-t.display.barHeight}function Vt(t,e,i){var n=t.options.lineWrapping,r=n&&Gt(t);if(!e.measure.heights||n&&e.measure.width!=r){var o=e.measure.heights=[];if(n){e.measure.width=r;for(var s=e.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],c=s[a+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-i.top)}}o.push(i.bottom-i.top)}}function Kt(t,e,i){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};for(var n=0;n<t.rest.length;n++)if(t.rest[n]==e)return{map:t.measure.maps[n],cache:t.measure.caches[n]};for(n=0;n<t.rest.length;n++)if(er(t.rest[n])>i)return{map:t.measure.maps[n],cache:t.measure.caches[n],before:!0}}function Qt(t,e){var i=er(e=yn(e)),n=t.display.externalMeasured=new De(t.doc,e,i);n.lineN=i;var r=n.built=jn(t,n);return n.text=r.pre,Ur(t.display.lineMeasure,r.pre),n}function Jt(t,e,i,n){return ee(t,te(t,e),i,n)}function Zt(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[je(t,e)];var i=t.display.externalMeasured;return i&&e>=i.lineN&&e<i.lineN+i.size?i:void 0}function te(t,e){var i=er(e),n=Zt(t,i);n&&!n.text?n=null:n&&n.changes&&($(t,n,i,D(t)),t.curOp.forceUpdate=!0),n||(n=Qt(t,e));var r=Kt(n,e,i);return{line:e,view:n,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function ee(t,e,i,n,r){e.before&&(i=-1);var o,s=i+(n||"");return e.cache.hasOwnProperty(s)?o=e.cache[s]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(Vt(t,e.view,e.rect),e.hasHeights=!0),(o=ne(t,e,i,n)).bogus||(e.cache[s]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}function ie(t,e,i){for(var n,r,o,s,a=0;a<t.length;a+=3){var l=t[a],c=t[a+1];if(l>e?(r=0,o=1,s="left"):c>e?o=(r=e-l)+1:(a==t.length-3||e==c&&t[a+3]>e)&&(r=(o=c-l)-1,e>=c&&(s="right")),null!=r){if(n=t[a+2],l==c&&i==(n.insertLeft?"left":"right")&&(s=i),"left"==i&&0==r)for(;a&&t[a-2]==t[a-3]&&t[a-1].insertLeft;)n=t[2+(a-=3)],s="left";if("right"==i&&r==c-l)for(;a<t.length-3&&t[a+3]==t[a+4]&&!t[a+5].insertLeft;)n=t[(a+=3)+2],s="right";break}}return{node:n,start:r,end:o,collapse:s,coverStart:l,coverEnd:c}}function ne(t,e,i,n){var r,o=ie(e.map,i,n),s=o.node,a=o.start,l=o.end,c=o.collapse;if(3==s.nodeType){for(var u=0;4>u;u++){for(;a&&Rr(e.line.text.charAt(o.coverStart+a));)--a;for(;o.coverStart+l<o.coverEnd&&Rr(e.line.text.charAt(o.coverStart+l));)++l;if(bo&&9>wo&&0==a&&l==o.coverEnd-o.coverStart)r=s.parentNode.getBoundingClientRect();else if(bo&&t.options.lineWrapping){r=(h=Us(s,a,l).getClientRects()).length?h["right"==n?h.length-1:0]:Uo}else r=Us(s,a,l).getBoundingClientRect()||Uo;if(r.left||r.right||0==a)break;l=a,a-=1,c="right"}bo&&11>wo&&(r=re(t.display.measure,r))}else{var h;a>0&&(c=n="right"),r=t.options.lineWrapping&&(h=s.getClientRects()).length>1?h["right"==n?h.length-1:0]:s.getBoundingClientRect()}if(bo&&9>wo&&!a&&(!r||!r.left&&!r.right)){var d=s.parentNode.getClientRects()[0];r=d?{left:d.left,right:d.left+be(t.display),top:d.top,bottom:d.bottom}:Uo}var p=r.top-e.rect.top,f=r.bottom-e.rect.top,m=(p+f)/2,g=e.view.measure.heights;for(u=0;u<g.length-1&&!(m<g[u]);u++);var v=u?g[u-1]:0,y=g[u],b={left:("right"==c?r.right:r.left)-e.rect.left,right:("left"==c?r.left:r.right)-e.rect.left,top:v,bottom:y};return r.left||r.right||(b.bogus=!0),t.options.singleCursorHeightPerLine||(b.rtop=p,b.rbottom=f),b}function re(t,e){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Zr(t))return e;var i=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*i,right:e.right*i,top:e.top*n,bottom:e.bottom*n}}function oe(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function se(t){t.display.externalMeasure=null,Hr(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)oe(t.display.view[e])}function ae(t){se(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function le(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function ce(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function ue(t,e,i,n){if(e.widgets)for(var r=0;r<e.widgets.length;++r)if(e.widgets[r].above){var o=Sn(e.widgets[r]);i.top+=o,i.bottom+=o}if("line"==n)return i;n||(n="local");var s=nr(e);if("local"==n?s+=Ht(t.display):s-=t.display.viewOffset,"page"==n||"window"==n){var a=t.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==n?0:ce());var l=a.left+("window"==n?0:le());i.left+=l,i.right+=l}return i.top+=s,i.bottom+=s,i}function he(t,e,i){if("div"==i)return e;var n=e.left,r=e.top;if("page"==i)n-=le(),r-=ce();else if("local"==i||!i){var o=t.display.sizer.getBoundingClientRect();n+=o.left,r+=o.top}var s=t.display.lineSpace.getBoundingClientRect();return{left:n-s.left,top:r-s.top}}function de(t,e,i,n,r){return n||(n=Qn(t.doc,e.line)),ue(t,n,Jt(t,n,e.ch,r),i)}function pe(t,e,i,n,r,o){function s(e,s){var a=ee(t,r,e,s?"right":"left",o);return s?a.left=a.right:a.right=a.left,ue(t,n,a,i)}function a(t,e){var i=l[e],n=i.level%2;return t==eo(i)&&e&&i.level<l[e-1].level?(t=io(i=l[--e])-(i.level%2?0:1),n=!0):t==io(i)&&e<l.length-1&&i.level<l[e+1].level&&(t=eo(i=l[++e])-i.level%2,n=!1),n&&t==i.to&&t>i.from?s(t-1):s(t,n)}n=n||Qn(t.doc,e.line),r||(r=te(t,n));var l=rr(n),c=e.ch;if(!l)return s(c);var u=a(c,co(l,c));return null!=sa&&(u.other=a(c,sa)),u}function fe(t,e){var i=0;e=mt(t.doc,e);t.options.lineWrapping||(i=be(t.display)*e.ch);var n=Qn(t.doc,e.line),r=nr(n)+Ht(t.display);return{left:i,right:i,top:r,bottom:r+n.height}}function me(t,e,i,n){var r=jo(t,e);return r.xRel=n,i&&(r.outside=!0),r}function ge(t,e,i){var n=t.doc;if(0>(i+=t.display.viewOffset))return me(n.first,0,!0,-1);var r=ir(n,i),o=n.first+n.size-1;if(r>o)return me(n.first+n.size-1,Qn(n,o).text.length,!0,1);0>e&&(e=0);for(var s=Qn(n,r);;){var a=ve(t,s,r,e,i),l=gn(s),c=l&&l.find(0,!0);if(!l||!(a.ch>c.from.ch||a.ch==c.from.ch&&a.xRel>0))return a;r=er(s=c.to.line)}}function ve(t,e,i,n,r){function o(n){var r=pe(t,jo(i,n),"line",e,c);return a=!0,s>r.bottom?r.left-l:s<r.top?r.left+l:(a=!1,r.left)}var s=r-nr(e),a=!1,l=2*t.display.wrapper.clientWidth,c=te(t,e),u=rr(e),h=e.text.length,d=no(e),p=ro(e),f=o(d),m=a,g=o(p),v=a;if(n>g)return me(i,p,v,1);for(;;){if(u?p==d||p==ho(e,d,1):1>=p-d){for(var y=f>n||g-n>=n-f?d:p,b=n-(y==d?f:g);Rr(e.text.charAt(y));)++y;return me(i,y,y==d?m:v,-1>b?-1:b>1?1:0)}var w=Math.ceil(h/2),x=d+w;if(u){x=d;for(var _=0;w>_;++_)x=ho(e,x,1)}var k=o(x);k>n?(p=x,g=k,(v=a)&&(g+=1e3),h=w):(d=x,f=k,m=a,h-=w)}}function ye(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==Ro){Ro=Br("pre");for(var e=0;49>e;++e)Ro.appendChild(document.createTextNode("x")),Ro.appendChild(Br("br"));Ro.appendChild(document.createTextNode("x"))}Ur(t.measure,Ro);var i=Ro.offsetHeight/50;return i>3&&(t.cachedTextHeight=i),Hr(t.measure),i||1}function be(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=Br("span","xxxxxxxxxx"),i=Br("pre",[e]);Ur(t.measure,i);var n=e.getBoundingClientRect(),r=(n.right-n.left)/10;return r>2&&(t.cachedCharWidth=r),r||10}function we(t){t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Xo},Wo?Wo.ops.push(t.curOp):t.curOp.ownsGroup=Wo={ops:[t.curOp],delayedCallbacks:[]}}function xe(t){var e=t.delayedCallbacks,i=0;do{for(;i<e.length;i++)e[i].call(null);for(var n=0;n<t.ops.length;n++){var r=t.ops[n];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(i<e.length)}function _e(t){var e=t.curOp.ownsGroup;if(e)try{xe(e)}finally{Wo=null;for(var i=0;i<e.ops.length;i++)e.ops[i].cm.curOp=null;ke(e)}}function ke(t){for(var e=t.ops,i=0;i<e.length;i++)Ce(e[i]);for(i=0;i<e.length;i++)Se(e[i]);for(i=0;i<e.length;i++)Te(e[i]);for(i=0;i<e.length;i++)Ae(e[i]);for(i=0;i<e.length;i++)Ee(e[i])}function Ce(t){var e=t.cm,i=e.display;T(e),t.updateMaxLine&&d(e),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<i.viewFrom||t.scrollToPos.to.line>=i.viewTo)||i.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new S(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function Se(t){t.updatedDisplay=t.mustUpdate&&A(t.cm,t.update)}function Te(t){var e=t.cm,i=e.display;t.updatedDisplay&&L(e),t.barMeasure=f(e),i.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=Jt(e,i.maxLine,i.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(i.scroller.clientWidth,i.sizer.offsetLeft+t.adjustWidthTo+Xt(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,i.sizer.offsetLeft+t.adjustWidthTo-Gt(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=i.input.prepareSelection(t.focus))}function Ae(t){var e=t.cm;null!=t.adjustWidthTo&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&ri(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var i=t.focus&&t.focus==Wr()&&(!document.hasFocus||document.hasFocus());t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,i),(t.updatedDisplay||t.startHeight!=e.doc.height)&&y(e,t.barMeasure),t.updatedDisplay&&M(e,t.barMeasure),t.selectionChanged&&jt(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),i&&K(t.cm)}function Ee(t){var e=t.cm,i=e.display,n=e.doc;if(t.updatedDisplay&&E(e,t.update),
null==i.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(i.wheelStartX=i.wheelStartY=null),null==t.scrollTop||i.scroller.scrollTop==t.scrollTop&&!t.forceScroll||(n.scrollTop=Math.max(0,Math.min(i.scroller.scrollHeight-i.scroller.clientHeight,t.scrollTop)),i.scrollbars.setScrollTop(n.scrollTop),i.scroller.scrollTop=n.scrollTop),null==t.scrollLeft||i.scroller.scrollLeft==t.scrollLeft&&!t.forceScroll||(n.scrollLeft=Math.max(0,Math.min(i.scroller.scrollWidth-i.scroller.clientWidth,t.scrollLeft)),i.scrollbars.setScrollLeft(n.scrollLeft),i.scroller.scrollLeft=n.scrollLeft,x(e)),t.scrollToPos){var r=Di(e,mt(n,t.scrollToPos.from),mt(n,t.scrollToPos.to),t.scrollToPos.margin);t.scrollToPos.isCursor&&e.state.focused&&Oi(e,r)}var o=t.maybeHiddenMarkers,s=t.maybeUnhiddenMarkers;if(o)for(var a=0;a<o.length;++a)o[a].lines.length||Ds(o[a],"hide");if(s)for(a=0;a<s.length;++a)s[a].lines.length&&Ds(s[a],"unhide");i.wrapper.offsetHeight&&(n.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&Ds(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function Pe(t,e){if(t.curOp)return e();we(t);try{return e()}finally{_e(t)}}function Me(t,e){return function(){if(t.curOp)return e.apply(t,arguments);we(t);try{return e.apply(t,arguments)}finally{_e(t)}}}function Le(t){return function(){if(this.curOp)return t.apply(this,arguments);we(this);try{return t.apply(this,arguments)}finally{_e(this)}}}function Oe(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);we(e);try{return t.apply(this,arguments)}finally{_e(e)}}}function De(t,e,i){this.line=e,this.rest=bn(e),this.size=this.rest?er(Or(this.rest))-i+1:1,this.node=this.text=null,this.hidden=_n(t,e)}function Ie(t,e,i){for(var n,r=[],o=e;i>o;o=n){var s=new De(t.doc,Qn(t.doc,o),o);n=o+s.size,r.push(s)}return r}function $e(t,e,i,n){null==e&&(e=t.doc.first),null==i&&(i=t.doc.first+t.doc.size),n||(n=0);var r=t.display;if(n&&i<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>e)&&(r.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=r.viewTo)zo&&wn(t.doc,e)<r.viewTo&&ze(t);else if(i<=r.viewFrom)zo&&xn(t.doc,i+n)>r.viewFrom?ze(t):(r.viewFrom+=n,r.viewTo+=n);else if(e<=r.viewFrom&&i>=r.viewTo)ze(t);else if(e<=r.viewFrom){(o=Fe(t,i,i+n,1))?(r.view=r.view.slice(o.index),r.viewFrom=o.lineN,r.viewTo+=n):ze(t)}else if(i>=r.viewTo){var o;(o=Fe(t,e,e,-1))?(r.view=r.view.slice(0,o.index),r.viewTo=o.lineN):ze(t)}else{var s=Fe(t,e,e,-1),a=Fe(t,i,i+n,1);s&&a?(r.view=r.view.slice(0,s.index).concat(Ie(t,s.lineN,a.lineN)).concat(r.view.slice(a.index)),r.viewTo+=n):ze(t)}var l=r.externalMeasured;l&&(i<l.lineN?l.lineN+=n:e<l.lineN+l.size&&(r.externalMeasured=null))}function Ne(t,e,i){t.curOp.viewChanged=!0;var n=t.display,r=t.display.externalMeasured;if(r&&e>=r.lineN&&e<r.lineN+r.size&&(n.externalMeasured=null),!(e<n.viewFrom||e>=n.viewTo)){var o=n.view[je(t,e)];if(null!=o.node){var s=o.changes||(o.changes=[]);-1==Dr(s,i)&&s.push(i)}}}function ze(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function je(t,e){if(e>=t.display.viewTo)return null;if(0>(e-=t.display.viewFrom))return null;for(var i=t.display.view,n=0;n<i.length;n++)if(0>(e-=i[n].size))return n}function Fe(t,e,i,n){var r,o=je(t,e),s=t.display.view;if(!zo||i==t.doc.first+t.doc.size)return{index:o,lineN:i};for(var a=0,l=t.display.viewFrom;o>a;a++)l+=s[a].size;if(l!=e){if(n>0){if(o==s.length-1)return null;r=l+s[o].size-e,o++}else r=l-e;e+=r,i+=r}for(;wn(t.doc,i)!=i;){if(o==(0>n?0:s.length-1))return null;i+=n*s[o-(0>n?1:0)].size,o+=n}return{index:o,lineN:i}}function qe(t,e,i){var n=t.display;0==n.view.length||e>=n.viewTo||i<=n.viewFrom?(n.view=Ie(t,e,i),n.viewFrom=e):(n.viewFrom>e?n.view=Ie(t,e,n.viewFrom).concat(n.view):n.viewFrom<e&&(n.view=n.view.slice(je(t,e))),n.viewFrom=e,n.viewTo<i?n.view=n.view.concat(Ie(t,n.viewTo,i)):n.viewTo>i&&(n.view=n.view.slice(0,je(t,i)))),n.viewTo=i}function Re(t){for(var e=t.display.view,i=0,n=0;n<e.length;n++){var r=e[n];r.hidden||r.node&&!r.changes||++i}return i}function Be(t){function e(){r.activeTouch&&(o=setTimeout((function(){r.activeTouch=null}),1e3),(s=r.activeTouch).end=+new Date)}function i(t){if(1!=t.touches.length)return!1;var e=t.touches[0];return e.radiusX<=1&&e.radiusY<=1}function n(t,e){if(null==e.left)return!0;var i=e.left-t.left,n=e.top-t.top;return i*i+n*n>400}var r=t.display;Ms(r.scroller,"mousedown",Me(t,Ge)),Ms(r.scroller,"dblclick",bo&&11>wo?Me(t,(function(e){if(!Tr(t,e)){var i=Xe(t,e);if(i&&!Je(t,e)&&!We(t.display,e)){As(e);var n=t.findWordAt(i);wt(t.doc,n.anchor,n.head)}}})):function(e){Tr(t,e)||As(e)}),$o||Ms(r.scroller,"contextmenu",(function(e){yi(t,e)}));var o,s={end:0};Ms(r.scroller,"touchstart",(function(e){if(!Tr(t,e)&&!i(e)){clearTimeout(o);var n=+new Date;r.activeTouch={start:n,moved:!1,prev:n-s.end<=300?s:null},1==e.touches.length&&(r.activeTouch.left=e.touches[0].pageX,r.activeTouch.top=e.touches[0].pageY)}})),Ms(r.scroller,"touchmove",(function(){r.activeTouch&&(r.activeTouch.moved=!0)})),Ms(r.scroller,"touchend",(function(i){var o=r.activeTouch;if(o&&!We(r,i)&&null!=o.left&&!o.moved&&new Date-o.start<300){var s,a=t.coordsChar(r.activeTouch,"page");s=!o.prev||n(o,o.prev)?new ht(a,a):!o.prev.prev||n(o,o.prev.prev)?t.findWordAt(a):new ht(jo(a.line,0),mt(t.doc,jo(a.line+1,0))),t.setSelection(s.anchor,s.head),t.focus(),As(i)}e()})),Ms(r.scroller,"touchcancel",e),Ms(r.scroller,"scroll",(function(){r.scroller.clientHeight&&(ni(t,r.scroller.scrollTop),ri(t,r.scroller.scrollLeft,!0),Ds(t,"scroll",t))})),Ms(r.scroller,"mousewheel",(function(e){oi(t,e)})),Ms(r.scroller,"DOMMouseScroll",(function(e){oi(t,e)})),Ms(r.wrapper,"scroll",(function(){r.wrapper.scrollTop=r.wrapper.scrollLeft=0})),r.dragFunctions={enter:function(e){Tr(t,e)||Ps(e)},over:function(e){Tr(t,e)||(ei(t,e),Ps(e))},start:function(e){ti(t,e)},drop:Me(t,Ze),leave:function(e){Tr(t,e)||ii(t)}};var a=r.input.getField();Ms(a,"keyup",(function(e){pi.call(t,e)})),Ms(a,"keydown",Me(t,hi)),Ms(a,"keypress",Me(t,fi)),Ms(a,"focus",jr(gi,t)),Ms(a,"blur",jr(vi,t))}function He(e,i,n){if(!i!=!(n&&n!=t.Init)){var r=e.display.dragFunctions,o=i?Ms:Os;o(e.display.scroller,"dragstart",r.start),o(e.display.scroller,"dragenter",r.enter),o(e.display.scroller,"dragover",r.over),o(e.display.scroller,"dragleave",r.leave),o(e.display.scroller,"drop",r.drop)}}function Ue(t){var e=t.display;e.lastWrapHeight==e.wrapper.clientHeight&&e.lastWrapWidth==e.wrapper.clientWidth||(e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize())}function We(t,e){for(var i=xr(e);i!=t.wrapper;i=i.parentNode)if(!i||1==i.nodeType&&"true"==i.getAttribute("cm-ignore-events")||i.parentNode==t.sizer&&i!=t.mover)return!0}function Xe(t,e,i,n){var r=t.display;if(!i&&"true"==xr(e).getAttribute("cm-not-content"))return null;var o,s,a=r.lineSpace.getBoundingClientRect();try{o=e.clientX-a.left,s=e.clientY-a.top}catch(e){return null}var l,c=ge(t,o,s);if(n&&1==c.xRel&&(l=Qn(t.doc,c.line).text).length==c.ch){var u=qs(l,l.length,t.options.tabSize)-l.length;c=jo(c.line,Math.max(0,Math.round((o-Wt(t.display).left)/be(t.display))-u))}return c}function Ge(t){var e=this,i=e.display;if(!(Tr(e,t)||i.activeTouch&&i.input.supportsTouch())){if(i.shift=t.shiftKey,We(i,t))return void(xo||(i.scroller.draggable=!1,setTimeout((function(){i.scroller.draggable=!0}),100)));if(!Je(e,t)){var n=Xe(e,t);switch(window.focus(),_r(t)){case 1:e.state.selectingText?e.state.selectingText(t):n?Ye(e,t,n):xr(t)==i.scroller&&As(t);break;case 2:xo&&(e.state.lastMiddleDown=+new Date),n&&wt(e.doc,n),setTimeout((function(){i.input.focus()}),20),As(t);break;case 3:$o?yi(e,t):mi(e)}}}}function Ye(t,e,i){bo?setTimeout(jr(K,t),0):t.curOp.focus=Wr();var n,r=+new Date;Ho&&Ho.time>r-400&&0==Fo(Ho.pos,i)?n="triple":Bo&&Bo.time>r-400&&0==Fo(Bo.pos,i)?(n="double",Ho={time:r,pos:i}):(n="single",Bo={time:r,pos:i});var o,s=t.doc.sel,a=Mo?e.metaKey:e.ctrlKey;t.options.dragDrop&&ta&&!t.isReadOnly()&&"single"==n&&(o=s.contains(i))>-1&&(Fo((o=s.ranges[o]).from(),i)<0||i.xRel>0)&&(Fo(o.to(),i)>0||i.xRel<0)?Ve(t,e,i,a):Ke(t,e,i,n,a)}function Ve(t,e,i,n){var r=t.display,o=+new Date,s=Me(t,(function(a){xo&&(r.scroller.draggable=!1),t.state.draggingText=!1,Os(document,"mouseup",s),Os(r.scroller,"drop",s),Math.abs(e.clientX-a.clientX)+Math.abs(e.clientY-a.clientY)<10&&(As(a),!n&&+new Date-200<o&&wt(t.doc,i),xo||bo&&9==wo?setTimeout((function(){document.body.focus(),r.input.focus()}),20):r.input.focus())}));xo&&(r.scroller.draggable=!0),t.state.draggingText=s,r.scroller.dragDrop&&r.scroller.dragDrop(),Ms(document,"mouseup",s),Ms(r.scroller,"drop",s)}function Ke(t,e,i,n,r){function o(e){if(0!=Fo(g,e))if(g=e,"rect"==n){for(var r=[],o=t.options.tabSize,s=qs(Qn(c,i.line).text,i.ch,o),a=qs(Qn(c,e.line).text,e.ch,o),l=Math.min(s,a),p=Math.max(s,a),f=Math.min(i.line,e.line),m=Math.min(t.lastLine(),Math.max(i.line,e.line));m>=f;f++){var v=Qn(c,f).text,y=Rs(v,l,o);l==p?r.push(new ht(jo(f,y),jo(f,y))):v.length>y&&r.push(new ht(jo(f,y),jo(f,Rs(v,p,o))))}r.length||r.push(new ht(i,i)),Tt(c,dt(d.ranges.slice(0,h).concat(r),h),{origin:"*mouse",scroll:!1}),t.scrollIntoView(e)}else{var b=u,w=b.anchor,x=e;if("single"!=n){if("double"==n)var _=t.findWordAt(e);else _=new ht(jo(e.line,0),mt(c,jo(e.line+1,0)));Fo(_.anchor,w)>0?(x=_.head,w=V(b.from(),_.anchor)):(x=_.anchor,w=Y(b.to(),_.head))}(r=d.ranges.slice(0))[h]=new ht(mt(c,w),x),Tt(c,dt(r,h),js)}}function s(e){var i=++y,r=Xe(t,e,!0,"rect"==n);if(r)if(0!=Fo(r,g)){t.curOp.focus=Wr(),o(r);var a=w(l,c);(r.line>=a.to||r.line<a.from)&&setTimeout(Me(t,(function(){y==i&&s(e)})),150)}else{var u=e.clientY<v.top?-20:e.clientY>v.bottom?20:0;u&&setTimeout(Me(t,(function(){y==i&&(l.scroller.scrollTop+=u,s(e))})),50)}}function a(e){t.state.selectingText=!1,y=1/0,As(e),l.input.focus(),Os(document,"mousemove",b),Os(document,"mouseup",x),c.history.lastSelOrigin=null}var l=t.display,c=t.doc;As(e);var u,h,d=c.sel,p=d.ranges;if(r&&!e.shiftKey?(h=c.sel.contains(i),u=h>-1?p[h]:new ht(i,i)):(u=c.sel.primary(),h=c.sel.primIndex),Lo?e.shiftKey&&e.metaKey:e.altKey)n="rect",r||(u=new ht(i,i)),i=Xe(t,e,!0,!0),h=-1;else if("double"==n){var f=t.findWordAt(i);u=t.display.shift||c.extend?bt(c,u,f.anchor,f.head):f}else if("triple"==n){var m=new ht(jo(i.line,0),mt(c,jo(i.line+1,0)));u=t.display.shift||c.extend?bt(c,u,m.anchor,m.head):m}else u=bt(c,u,i);r?-1==h?(h=p.length,Tt(c,dt(p.concat([u]),h),{scroll:!1,origin:"*mouse"})):p.length>1&&p[h].empty()&&"single"==n&&!e.shiftKey?(Tt(c,dt(p.slice(0,h).concat(p.slice(h+1)),0),{scroll:!1,origin:"*mouse"}),d=c.sel):_t(c,h,u,js):(h=0,Tt(c,new ut([u],0),js),d=c.sel);var g=i,v=l.wrapper.getBoundingClientRect(),y=0,b=Me(t,(function(t){_r(t)?s(t):a(t)})),x=Me(t,a);t.state.selectingText=x,Ms(document,"mousemove",b),Ms(document,"mouseup",x)}function Qe(t,e,i,n){try{var r=e.clientX,o=e.clientY}catch(e){return!1}if(r>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;n&&As(e);var s=t.display,a=s.lineDiv.getBoundingClientRect();if(o>a.bottom||!Er(t,i))return wr(e);o-=a.top-s.viewOffset;for(var l=0;l<t.options.gutters.length;++l){var c=s.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=r){var u=ir(t.doc,o),h=t.options.gutters[l];return Ds(t,i,t,u,h,e),wr(e)}}}function Je(t,e){return Qe(t,e,"gutterClick",!0)}function Ze(t){var e=this;if(ii(e),!Tr(e,t)&&!We(e.display,t)){As(t),bo&&(Go=+new Date);var i=Xe(e,t,!0),n=t.dataTransfer.files;if(i&&!e.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var r=n.length,o=Array(r),s=0,a=function(t,n){if(!e.options.allowDropFileTypes||-1!=Dr(e.options.allowDropFileTypes,t.type)){var a=new FileReader;a.onload=Me(e,(function(){var t=a.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(t)&&(t=""),o[n]=t,++s==r){var l={from:i=mt(e.doc,i),to:i,text:e.doc.splitLines(o.join(e.doc.lineSeparator())),origin:"paste"};Si(e.doc,l),St(e.doc,pt(i,Zo(l)))}})),a.readAsText(t)}},l=0;r>l;++l)a(n[l],l);else{if(e.state.draggingText&&e.doc.sel.contains(i)>-1)return e.state.draggingText(t),void setTimeout((function(){e.display.input.focus()}),20);try{if(o=t.dataTransfer.getData("Text")){if(e.state.draggingText&&!(Mo?t.altKey:t.ctrlKey))var c=e.listSelections();if(At(e.doc,pt(i,i)),c)for(l=0;l<c.length;++l)Li(e.doc,"",c[l].anchor,c[l].head,"drag");e.replaceSelection(o,"around","paste"),e.display.input.focus()}}catch(t){}}}}function ti(t,e){if(bo&&(!t.state.draggingText||+new Date-Go<100))Ps(e);else if(!Tr(t,e)&&!We(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!So)){var i=Br("img",null,null,"position: fixed; left: 0; top: 0;");i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Co&&(i.width=i.height=1,t.display.wrapper.appendChild(i),i._top=i.offsetTop),e.dataTransfer.setDragImage(i,0,0),Co&&i.parentNode.removeChild(i)}}function ei(t,e){var i=Xe(t,e);if(i){var n=document.createDocumentFragment();Nt(t,i,n),t.display.dragCursor||(t.display.dragCursor=Br("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),Ur(t.display.dragCursor,n)}}function ii(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function ni(t,e){Math.abs(t.doc.scrollTop-e)<2||(t.doc.scrollTop=e,go||P(t,{top:e}),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e),t.display.scrollbars.setScrollTop(e),go&&P(t),Ft(t,100))}function ri(t,e,i){(i?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)||(e=Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),t.doc.scrollLeft=e,x(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function oi(t,e){var i=Ko(e),n=i.x,r=i.y,o=t.display,s=o.scroller,a=s.scrollWidth>s.clientWidth,l=s.scrollHeight>s.clientHeight;if(n&&a||r&&l){if(r&&Mo&&xo)t:for(var c=e.target,u=o.view;c!=s;c=c.parentNode)for(var h=0;h<u.length;h++)if(u[h].node==c){t.display.currentWheelTarget=c;break t}if(n&&!go&&!Co&&null!=Vo)return r&&l&&ni(t,Math.max(0,Math.min(s.scrollTop+r*Vo,s.scrollHeight-s.clientHeight))),ri(t,Math.max(0,Math.min(s.scrollLeft+n*Vo,s.scrollWidth-s.clientWidth))),(!r||r&&l)&&As(e),void(o.wheelStartX=null);if(r&&null!=Vo){var d=r*Vo,p=t.doc.scrollTop,f=p+o.wrapper.clientHeight;0>d?p=Math.max(0,p+d-50):f=Math.min(t.doc.height,f+d+50),P(t,{top:p,bottom:f})}20>Yo&&(null==o.wheelStartX?(o.wheelStartX=s.scrollLeft,o.wheelStartY=s.scrollTop,o.wheelDX=n,o.wheelDY=r,setTimeout((function(){if(null!=o.wheelStartX){var t=s.scrollLeft-o.wheelStartX,e=s.scrollTop-o.wheelStartY,i=e&&o.wheelDY&&e/o.wheelDY||t&&o.wheelDX&&t/o.wheelDX;o.wheelStartX=o.wheelStartY=null,i&&(Vo=(Vo*Yo+i)/(Yo+1),++Yo)}}),200)):(o.wheelDX+=n,o.wheelDY+=r))}}function si(t,e,i){if("string"==typeof e&&!(e=us[e]))return!1;t.display.input.ensurePolled();var n=t.display.shift,r=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),i&&(t.display.shift=!1),r=e(t)!=Ns}finally{t.display.shift=n,t.state.suppressEdits=!1}return r}function ai(t,e,i){for(var n=0;n<t.state.keyMaps.length;n++){var r=ds(e,t.state.keyMaps[n],i,t);if(r)return r}return t.options.extraKeys&&ds(e,t.options.extraKeys,i,t)||ds(e,t.options.keyMap,i,t)}function li(t,e,i,n){var r=t.state.keySeq;if(r){if(ps(e))return"handled";Qo.set(50,(function(){t.state.keySeq==r&&(t.state.keySeq=null,t.display.input.reset())})),e=r+" "+e}var o=ai(t,e,n);return"multi"==o&&(t.state.keySeq=e),"handled"==o&&Cr(t,"keyHandled",t,e,i),"handled"!=o&&"multi"!=o||(As(i),jt(t)),r&&!o&&/\'$/.test(e)?(As(i),!0):!!o}function ci(t,e){var i=fs(e,!0);return!!i&&(e.shiftKey&&!t.state.keySeq?li(t,"Shift-"+i,e,(function(e){return si(t,e,!0)}))||li(t,i,e,(function(e){return("string"==typeof e?/^go[A-Z]/.test(e):e.motion)?si(t,e):void 0})):li(t,i,e,(function(e){return si(t,e)})))}function ui(t,e,i){return li(t,"'"+i+"'",e,(function(e){return si(t,e,!0)}))}function hi(t){var e=this;if(e.curOp.focus=Wr(),!Tr(e,t)){bo&&11>wo&&27==t.keyCode&&(t.returnValue=!1);var i=t.keyCode;e.display.shift=16==i||t.shiftKey;var n=ci(e,t);Co&&(Jo=n?i:null,!n&&88==i&&!na&&(Mo?t.metaKey:t.ctrlKey)&&e.replaceSelection("",null,"cut")),18!=i||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||di(e)}}function di(t){function e(t){18!=t.keyCode&&t.altKey||(Qs(i,"CodeMirror-crosshair"),Os(document,"keyup",e),Os(document,"mouseover",e))}var i=t.display.lineDiv;Js(i,"CodeMirror-crosshair"),Ms(document,"keyup",e),Ms(document,"mouseover",e)}function pi(t){16==t.keyCode&&(this.doc.sel.shift=!1),Tr(this,t)}function fi(t){var e=this;if(!(We(e.display,t)||Tr(e,t)||t.ctrlKey&&!t.altKey||Mo&&t.metaKey)){var i=t.keyCode,n=t.charCode;if(Co&&i==Jo)return Jo=null,void As(t);if(!Co||t.which&&!(t.which<10)||!ci(e,t))ui(e,t,String.fromCharCode(null==n?i:n))||e.display.input.onKeyPress(t)}}function mi(t){t.state.delayingBlurEvent=!0,setTimeout((function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,vi(t))}),100)}function gi(t){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1),"nocursor"!=t.options.readOnly&&(t.state.focused||(Ds(t,"focus",t),t.state.focused=!0,Js(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),xo&&setTimeout((function(){t.display.input.reset(!0)}),20)),t.display.input.receivedFocus()),jt(t))}function vi(t){t.state.delayingBlurEvent||(t.state.focused&&(Ds(t,"blur",t),t.state.focused=!1,Qs(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout((function(){t.state.focused||(t.display.shift=!1)}),150))}function yi(t,e){We(t.display,e)||bi(t,e)||Tr(t,e,"contextmenu")||t.display.input.onContextMenu(e)}function bi(t,e){return!!Er(t,"gutterContextMenu")&&Qe(t,e,"gutterContextMenu",!1)}function wi(t,e){if(Fo(t,e.from)<0)return t;if(Fo(t,e.to)<=0)return Zo(e);var i=t.line+e.text.length-(e.to.line-e.from.line)-1,n=t.ch;return t.line==e.to.line&&(n+=Zo(e).ch-e.to.ch),jo(i,n)}function xi(t,e){for(var i=[],n=0;n<t.sel.ranges.length;n++){var r=t.sel.ranges[n];i.push(new ht(wi(r.anchor,e),wi(r.head,e)))}return dt(i,t.sel.primIndex)}function _i(t,e,i){return t.line==e.line?jo(i.line,t.ch-e.ch+i.ch):jo(i.line+(t.line-e.line),t.ch)}function ki(t,e,i){for(var n=[],r=jo(t.first,0),o=r,s=0;s<e.length;s++){var a=e[s],l=_i(a.from,r,o),c=_i(Zo(a),r,o);if(r=a.to,o=c,"around"==i){var u=t.sel.ranges[s],h=Fo(u.head,u.anchor)<0;n[s]=new ht(h?c:l,h?l:c)}else n[s]=new ht(l,l)}return new ut(n,t.sel.primIndex)}function Ci(t,e,i){var n={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){this.canceled=!0}};return i&&(n.update=function(e,i,n,r){e&&(this.from=mt(t,e)),i&&(this.to=mt(t,i)),n&&(this.text=n),void 0!==r&&(this.origin=r)}),Ds(t,"beforeChange",t,n),t.cm&&Ds(t.cm,"beforeChange",t.cm,n),n.canceled?null:{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Si(t,e,i){if(t.cm){if(!t.cm.curOp)return Me(t.cm,Si)(t,e,i);if(t.cm.state.suppressEdits)return}if(!(Er(t,"beforeChange")||t.cm&&Er(t.cm,"beforeChange"))||(e=Ci(t,e,!0))){var n=No&&!i&&ln(t,e.from,e.to);if(n)for(var r=n.length-1;r>=0;--r)Ti(t,{from:n[r].from,to:n[r].to,text:r?[""]:e.text});else Ti(t,e)}}function Ti(t,e){if(1!=e.text.length||""!=e.text[0]||0!=Fo(e.from,e.to)){var i=xi(t,e);cr(t,e,i,t.cm?t.cm.curOp.id:NaN),Pi(t,e,i,on(t,e));var n=[];Vn(t,(function(t,i){i||-1!=Dr(n,t.history)||(br(t.history,e),n.push(t.history)),Pi(t,e,null,on(t,e))}))}}function Ai(t,e,i){if(!t.cm||!t.cm.state.suppressEdits){for(var n,r=t.history,o=t.sel,s="undo"==e?r.done:r.undone,a="undo"==e?r.undone:r.done,l=0;l<s.length&&(n=s[l],i?!n.ranges||n.equals(t.sel):n.ranges);l++);if(l!=s.length){for(r.lastOrigin=r.lastSelOrigin=null;(n=s.pop()).ranges;){if(dr(n,a),i&&!n.equals(t.sel))return void Tt(t,n,{clearRedo:!1});o=n}var c=[];dr(o,a),a.push({changes:c,generation:r.generation}),r.generation=n.generation||++r.maxGeneration;var u=Er(t,"beforeChange")||t.cm&&Er(t.cm,"beforeChange");for(l=n.changes.length-1;l>=0;--l){var h=n.changes[l];if(h.origin=e,u&&!Ci(t,h,!1))return void(s.length=0);c.push(sr(t,h));var d=l?xi(t,h):Or(s);Pi(t,h,d,an(t,h)),!l&&t.cm&&t.cm.scrollIntoView({from:h.from,to:Zo(h)});var p=[];Vn(t,(function(t,e){e||-1!=Dr(p,t.history)||(br(t.history,h),p.push(t.history)),Pi(t,h,null,an(t,h))}))}}}}function Ei(t,e){if(0!=e&&(t.first+=e,t.sel=new ut(Ir(t.sel.ranges,(function(t){return new ht(jo(t.anchor.line+e,t.anchor.ch),jo(t.head.line+e,t.head.ch))})),t.sel.primIndex),t.cm)){$e(t.cm,t.first,t.first-e,e);for(var i=t.cm.display,n=i.viewFrom;n<i.viewTo;n++)Ne(t.cm,n,"gutter")}}function Pi(t,e,i,n){if(t.cm&&!t.cm.curOp)return Me(t.cm,Pi)(t,e,i,n);if(e.to.line<t.first)Ei(t,e.text.length-1-(e.to.line-e.from.line));else if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var r=e.text.length-1-(t.first-e.from.line);Ei(t,r),e={from:jo(t.first,0),to:jo(e.to.line+r,e.to.ch),text:[Or(e.text)],origin:e.origin}}var o=t.lastLine();e.to.line>o&&(e={from:e.from,to:jo(o,Qn(t,o).text.length),text:[e.text[0]],origin:e.origin}),e.removed=Jn(t,e.from,e.to),i||(i=xi(t,e)),t.cm?Mi(t.cm,e,n):Xn(t,e,n),At(t,i,zs)}}function Mi(t,e,i){var n=t.doc,r=t.display,s=e.from,a=e.to,l=!1,c=s.line;t.options.lineWrapping||(c=er(yn(Qn(n,s.line))),n.iter(c,a.line+1,(function(t){return t==r.maxLine?(l=!0,!0):void 0}))),n.sel.contains(e.from,e.to)>-1&&Ar(t),Xn(n,e,i,o(t)),t.options.lineWrapping||(n.iter(c,s.line+e.text.length,(function(t){var e=h(t);e>r.maxLineLength&&(r.maxLine=t,r.maxLineLength=e,r.maxLineChanged=!0,l=!1)})),l&&(t.curOp.updateMaxLine=!0)),n.frontier=Math.min(n.frontier,s.line),Ft(t,400);var u=e.text.length-(a.line-s.line)-1;e.full?$e(t):s.line!=a.line||1!=e.text.length||Wn(t.doc,e)?$e(t,s.line,a.line+1,u):Ne(t,s.line,"text");var d=Er(t,"changes"),p=Er(t,"change");if(p||d){var f={from:s,to:a,text:e.text,removed:e.removed,origin:e.origin};p&&Cr(t,"change",t,f),d&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(f)}t.display.selForContextMenu=null}function Li(t,e,i,n,r){if(n||(n=i),Fo(n,i)<0){var o=n;n=i,i=o}"string"==typeof e&&(e=t.splitLines(e)),Si(t,{from:i,to:n,text:e,origin:r})}function Oi(t,e){if(!Tr(t,"scrollCursorIntoView")){var i=t.display,n=i.sizer.getBoundingClientRect(),r=null;if(e.top+n.top<0?r=!0:e.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null!=r&&!Ao){var o=Br("div","\u200b",null,"position: absolute; top: "+(e.top-i.viewOffset-Ht(t.display))+"px; height: "+(e.bottom-e.top+Xt(t)+i.barHeight)+"px; left: "+e.left+"px; width: 2px;");t.display.lineSpace.appendChild(o),o.scrollIntoView(r),t.display.lineSpace.removeChild(o)}}}function Di(t,e,i,n){null==n&&(n=0);for(var r=0;5>r;r++){var o=!1,s=pe(t,e),a=i&&i!=e?pe(t,i):s,l=$i(t,Math.min(s.left,a.left),Math.min(s.top,a.top)-n,Math.max(s.left,a.left),Math.max(s.bottom,a.bottom)+n),c=t.doc.scrollTop,u=t.doc.scrollLeft;if(null!=l.scrollTop&&(ni(t,l.scrollTop),Math.abs(t.doc.scrollTop-c)>1&&(o=!0)),null!=l.scrollLeft&&(ri(t,l.scrollLeft),Math.abs(t.doc.scrollLeft-u)>1&&(o=!0)),!o)break}return s}function Ii(t,e,i,n,r){var o=$i(t,e,i,n,r);null!=o.scrollTop&&ni(t,o.scrollTop),null!=o.scrollLeft&&ri(t,o.scrollLeft)}function $i(t,e,i,n,r){var o=t.display,s=ye(t.display);0>i&&(i=0);var a=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:o.scroller.scrollTop,l=Yt(t),c={};r-i>l&&(r=i+l);var u=t.doc.height+Ut(o),h=s>i,d=r>u-s;if(a>i)c.scrollTop=h?0:i;else if(r>a+l){var p=Math.min(i,(d?u:r)-l);p!=a&&(c.scrollTop=p)}var f=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:o.scroller.scrollLeft,m=Gt(t)-(t.options.fixedGutter?o.gutters.offsetWidth:0),g=n-e>m;return g&&(n=e+m),10>e?c.scrollLeft=0:f>e?c.scrollLeft=Math.max(0,e-(g?0:10)):n>m+f-3&&(c.scrollLeft=n+(g?0:10)-m),c}function Ni(t,e,i){null==e&&null==i||ji(t),null!=e&&(t.curOp.scrollLeft=(null==t.curOp.scrollLeft?t.doc.scrollLeft:t.curOp.scrollLeft)+e),null!=i&&(t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+i)}function zi(t){ji(t);var e=t.getCursor(),i=e,n=e;t.options.lineWrapping||(i=e.ch?jo(e.line,e.ch-1):e,n=jo(e.line,e.ch+1)),t.curOp.scrollToPos={from:i,to:n,margin:t.options.cursorScrollMargin,isCursor:!0}}function ji(t){var e=t.curOp.scrollToPos;if(e){t.curOp.scrollToPos=null;var i=fe(t,e.from),n=fe(t,e.to),r=$i(t,Math.min(i.left,n.left),Math.min(i.top,n.top)-e.margin,Math.max(i.right,n.right),Math.max(i.bottom,n.bottom)+e.margin);t.scrollTo(r.scrollLeft,r.scrollTop)}}function Fi(t,e,i,n){var r,o=t.doc;null==i&&(i="add"),"smart"==i&&(o.mode.indent?r=Bt(t,e):i="prev");var s=t.options.tabSize,a=Qn(o,e),l=qs(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var c,u=a.text.match(/^\s*/)[0];if(n||/\S/.test(a.text)){if("smart"==i&&((c=o.mode.indent(r,a.text.slice(u.length),a.text))==Ns||c>150)){if(!n)return;i="prev"}}else c=0,i="not";"prev"==i?c=e>o.first?qs(Qn(o,e-1).text,null,s):0:"add"==i?c=l+t.options.indentUnit:"subtract"==i?c=l-t.options.indentUnit:"number"==typeof i&&(c=l+i),c=Math.max(0,c);var h="",d=0;if(t.options.indentWithTabs)for(var p=Math.floor(c/s);p;--p)d+=s,h+="\t";if(c>d&&(h+=Lr(c-d)),h!=u)return Li(o,h,jo(e,0),jo(e,u.length),"+input"),a.stateAfter=null,!0;for(p=0;p<o.sel.ranges.length;p++){var f=o.sel.ranges[p];if(f.head.line==e&&f.head.ch<u.length){_t(o,p,new ht(d=jo(e,u.length),d));break}}}function qi(t,e,i,n){var r=e,o=e;return"number"==typeof e?o=Qn(t,ft(t,e)):r=er(e),null==r?null:(n(o,r)&&t.cm&&Ne(t.cm,r,i),o)}function Ri(t,e){for(var i=t.doc.sel.ranges,n=[],r=0;r<i.length;r++){for(var o=e(i[r]);n.length&&Fo(o.from,Or(n).to)<=0;){var s=n.pop();if(Fo(s.from,o.from)<0){o.from=s.from;break}}n.push(o)}Pe(t,(function(){for(var e=n.length-1;e>=0;e--)Li(t.doc,"",n[e].from,n[e].to,"+delete");zi(t)}))}function Bi(t,e,i,n,r){function o(){var e=a+i;return!(e<t.first||e>=t.first+t.size)&&(a=e,u=Qn(t,e))}function s(t){var e=(r?ho:po)(u,l,i,!0);if(null==e){if(t||!o())return!1;l=r?(0>i?ro:no)(u):0>i?u.text.length:0}else l=e;return!0}var a=e.line,l=e.ch,c=i,u=Qn(t,a);if("char"==n)s();else if("column"==n)s(!0);else if("word"==n||"group"==n)for(var h=null,d="group"==n,p=t.cm&&t.cm.getHelper(e,"wordChars"),f=!0;!(0>i)||s(!f);f=!1){var m=u.text.charAt(l)||"\n",g=Fr(m,p)?"w":d&&"\n"==m?"n":!d||/\s/.test(m)?null:"p";if(!d||f||g||(g="s"),h&&h!=g){0>i&&(i=1,s());break}if(g&&(h=g),i>0&&!s(!f))break}var v=Ot(t,jo(a,l),e,c,!0);return Fo(e,v)||(v.hitSide=!0),v}function Hi(t,e,i,n){var r,o=t.doc,s=e.left;if("page"==n){var a=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);r=e.top+i*(a-(0>i?1.5:.5)*ye(t.display))}else"line"==n&&(r=i>0?e.bottom+3:e.top-3);for(;;){var l=ge(t,s,r);if(!l.outside)break;if(0>i?0>=r:r>=o.height){l.hitSide=!0;break}r+=5*i}return l}function Ui(e,i,n,r){t.defaults[e]=i,n&&(es[e]=r?function(t,e,i){i!=is&&n(t,e,i)}:n)}function Wi(t){for(var e,i,n,r,o=t.split(/-(?!$)/),s=(t=o[o.length-1],0);s<o.length-1;s++){var a=o[s];if(/^(cmd|meta|m)$/i.test(a))r=!0;else if(/^a(lt)?$/i.test(a))e=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else{if(!/^s(hift)$/i.test(a))throw new Error("Unrecognized modifier name: "+a);n=!0}}return e&&(t="Alt-"+t),i&&(t="Ctrl-"+t),r&&(t="Cmd-"+t),n&&(t="Shift-"+t),t}function Xi(t){return"string"==typeof t?hs[t]:t}function Gi(t,e,i,n,r){if(n&&n.shared)return Yi(t,e,i,n,r);if(t.cm&&!t.cm.curOp)return Me(t.cm,Gi)(t,e,i,n,r);var o=new vs(t,r),s=Fo(e,i);if(n&&zr(n,o,!1),s>0||0==s&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=Br("span",[o.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(vn(t,e.line,e,i,o)||e.line!=i.line&&vn(t,i.line,e,i,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");zo=!0}o.addToHistory&&cr(t,{from:e,to:i,origin:"markText"},t.sel,NaN);var a,l=e.line,c=t.cm;if(t.iter(l,i.line+1,(function(t){c&&o.collapsed&&!c.options.lineWrapping&&yn(t)==c.display.maxLine&&(a=!0),o.collapsed&&l!=e.line&&tr(t,0),en(t,new Ji(o,l==e.line?e.ch:null,l==i.line?i.ch:null)),++l})),o.collapsed&&t.iter(e.line,i.line+1,(function(e){_n(t,e)&&tr(e,0)})),o.clearOnEnter&&Ms(o,"beforeCursorEnter",(function(){o.clear()})),o.readOnly&&(No=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),o.collapsed&&(o.id=++gs,o.atomic=!0),c){if(a&&(c.curOp.updateMaxLine=!0),o.collapsed)$e(c,e.line,i.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var u=e.line;u<=i.line;u++)Ne(c,u,"text");o.atomic&&Pt(c.doc),Cr(c,"markerAdded",c,o)}return o}function Yi(t,e,i,n,r){(n=zr(n)).shared=!1;var o=[Gi(t,e,i,n,r)],s=o[0],a=n.widgetNode;return Vn(t,(function(t){a&&(n.widgetNode=a.cloneNode(!0)),o.push(Gi(t,mt(t,e),mt(t,i),n,r));for(var l=0;l<t.linked.length;++l)if(t.linked[l].isParent)return;s=Or(o)})),new ys(o,s)}function Vi(t){return t.findMarks(jo(t.first,0),t.clipPos(jo(t.lastLine())),(function(t){return t.parent}))}function Ki(t,e){for(var i=0;i<e.length;i++){var n=e[i],r=n.find(),o=t.clipPos(r.from),s=t.clipPos(r.to);if(Fo(o,s)){var a=Gi(t,o,s,n.primary,n.primary.type);n.markers.push(a),a.parent=n}}}function Qi(t){for(var e=0;e<t.length;e++){var i=t[e],n=[i.primary.doc];Vn(i.primary.doc,(function(t){n.push(t)}));for(var r=0;r<i.markers.length;r++){var o=i.markers[r];-1==Dr(n,o.doc)&&(o.parent=null,i.markers.splice(r--,1))}}}function Ji(t,e,i){this.marker=t,this.from=e,this.to=i}function Zi(t,e){if(t)for(var i=0;i<t.length;++i){var n=t[i];if(n.marker==e)return n}}function tn(t,e){for(var i,n=0;n<t.length;++n)t[n]!=e&&(i||(i=[])).push(t[n]);return i}function en(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}function nn(t,e,i){if(t)for(var n,r=0;r<t.length;++r){var o=t[r],s=o.marker;if(null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e)||o.from==e&&"bookmark"==s.type&&(!i||!o.marker.insertLeft)){var a=null==o.to||(s.inclusiveRight?o.to>=e:o.to>e);(n||(n=[])).push(new Ji(s,o.from,a?null:o.to))}}return n}function rn(t,e,i){if(t)for(var n,r=0;r<t.length;++r){var o=t[r],s=o.marker;if(null==o.to||(s.inclusiveRight?o.to>=e:o.to>e)||o.from==e&&"bookmark"==s.type&&(!i||o.marker.insertLeft)){var a=null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e);(n||(n=[])).push(new Ji(s,a?null:o.from-e,null==o.to?null:o.to-e))}}return n}function on(t,e){if(e.full)return null;var i=vt(t,e.from.line)&&Qn(t,e.from.line).markedSpans,n=vt(t,e.to.line)&&Qn(t,e.to.line).markedSpans;if(!i&&!n)return null;var r=e.from.ch,o=e.to.ch,s=0==Fo(e.from,e.to),a=nn(i,r,s),l=rn(n,o,s),c=1==e.text.length,u=Or(e.text).length+(c?r:0);if(a)for(var h=0;h<a.length;++h){if(null==(d=a[h]).to)(p=Zi(l,d.marker))?c&&(d.to=null==p.to?null:p.to+u):d.to=r}if(l)for(h=0;h<l.length;++h){var d,p;if(null!=(d=l[h]).to&&(d.to+=u),null==d.from)(p=Zi(a,d.marker))||(d.from=u,c&&(a||(a=[])).push(d));else d.from+=u,c&&(a||(a=[])).push(d)}a&&(a=sn(a)),l&&l!=a&&(l=sn(l));var f=[a];if(!c){var m,g=e.text.length-2;if(g>0&&a)for(h=0;h<a.length;++h)null==a[h].to&&(m||(m=[])).push(new Ji(a[h].marker,null,null));for(h=0;g>h;++h)f.push(m);f.push(l)}return f}function sn(t){for(var e=0;e<t.length;++e){var i=t[e];null!=i.from&&i.from==i.to&&!1!==i.marker.clearWhenEmpty&&t.splice(e--,1)}return t.length?t:null}function an(t,e){var i=mr(t,e),n=on(t,e);if(!i)return n;if(!n)return i;for(var r=0;r<i.length;++r){var o=i[r],s=n[r];if(o&&s)t:for(var a=0;a<s.length;++a){for(var l=s[a],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue t;o.push(l)}else s&&(i[r]=s)}return i}function ln(t,e,i){var n=null;if(t.iter(e.line,i.line+1,(function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var i=t.markedSpans[e].marker;!i.readOnly||n&&-1!=Dr(n,i)||(n||(n=[])).push(i)}})),!n)return null;for(var r=[{from:e,to:i}],o=0;o<n.length;++o)for(var s=n[o],a=s.find(0),l=0;l<r.length;++l){var c=r[l];if(!(Fo(c.to,a.from)<0||Fo(c.from,a.to)>0)){var u=[l,1],h=Fo(c.from,a.from),d=Fo(c.to,a.to);(0>h||!s.inclusiveLeft&&!h)&&u.push({from:c.from,to:a.from}),(d>0||!s.inclusiveRight&&!d)&&u.push({from:a.to,to:c.to}),r.splice.apply(r,u),l+=u.length-1}}return r}function cn(t){var e=t.markedSpans;if(e){for(var i=0;i<e.length;++i)e[i].marker.detachLine(t);t.markedSpans=null}}function un(t,e){if(e){for(var i=0;i<e.length;++i)e[i].marker.attachLine(t);t.markedSpans=e}}function hn(t){return t.inclusiveLeft?-1:0}function dn(t){return t.inclusiveRight?1:0}function pn(t,e){var i=t.lines.length-e.lines.length;if(0!=i)return i;var n=t.find(),r=e.find(),o=Fo(n.from,r.from)||hn(t)-hn(e);if(o)return-o;var s=Fo(n.to,r.to)||dn(t)-dn(e);return s||e.id-t.id}function fn(t,e){var i,n=zo&&t.markedSpans;if(n)for(var r,o=0;o<n.length;++o)(r=n[o]).marker.collapsed&&null==(e?r.from:r.to)&&(!i||pn(i,r.marker)<0)&&(i=r.marker);return i}function mn(t){return fn(t,!0)}function gn(t){return fn(t,!1)}
function vn(t,e,i,n,r){var o=Qn(t,e),s=zo&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var c=l.marker.find(0),u=Fo(c.from,i)||hn(l.marker)-hn(r),h=Fo(c.to,n)||dn(l.marker)-dn(r);if(!(u>=0&&0>=h||0>=u&&h>=0)&&(0>=u&&(l.marker.inclusiveRight&&r.inclusiveLeft?Fo(c.to,i)>=0:Fo(c.to,i)>0)||u>=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?Fo(c.from,n)<=0:Fo(c.from,n)<0)))return!0}}}function yn(t){for(var e;e=mn(t);)t=e.find(-1,!0).line;return t}function bn(t){for(var e,i;e=gn(t);)t=e.find(1,!0).line,(i||(i=[])).push(t);return i}function wn(t,e){var i=Qn(t,e),n=yn(i);return i==n?e:er(n)}function xn(t,e){if(e>t.lastLine())return e;var i,n=Qn(t,e);if(!_n(t,n))return e;for(;i=gn(n);)n=i.find(1,!0).line;return er(n)+1}function _n(t,e){var i=zo&&e.markedSpans;if(i)for(var n,r=0;r<i.length;++r)if((n=i[r]).marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&kn(t,e,n))return!0}}function kn(t,e,i){if(null==i.to){var n=i.marker.find(1,!0);return kn(t,n.line,Zi(n.line.markedSpans,i.marker))}if(i.marker.inclusiveRight&&i.to==e.text.length)return!0;for(var r,o=0;o<e.markedSpans.length;++o)if((r=e.markedSpans[o]).marker.collapsed&&!r.marker.widgetNode&&r.from==i.to&&(null==r.to||r.to!=i.from)&&(r.marker.inclusiveLeft||i.marker.inclusiveRight)&&kn(t,e,r))return!0}function Cn(t,e,i){nr(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&Ni(t,null,i)}function Sn(t){if(null!=t.height)return t.height;var e=t.doc.cm;if(!e)return 0;if(!Ys(document.body,t.node)){var i="position: relative;";t.coverGutter&&(i+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(i+="width: "+e.display.wrapper.clientWidth+"px;"),Ur(e.display.measure,Br("div",[t.node],null,i))}return t.height=t.node.parentNode.offsetHeight}function Tn(t,e,i,n){var r=new bs(t,i,n),o=t.cm;return o&&r.noHScroll&&(o.display.alignWidgets=!0),qi(t,e,"widget",(function(e){var i=e.widgets||(e.widgets=[]);if(null==r.insertAt?i.push(r):i.splice(Math.min(i.length-1,Math.max(0,r.insertAt)),0,r),r.line=e,o&&!_n(t,e)){var n=nr(e)<t.scrollTop;tr(e,e.height+Sn(r)),n&&Ni(o,null,r.height),o.curOp.forceUpdate=!0}return!0})),r}function An(t,e,i,n){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),cn(t),un(t,i);var r=n?n(t):1;r!=t.height&&tr(t,r)}function En(t){t.parent=null,cn(t)}function Pn(t,e){if(t)for(;;){var i=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!i)break;t=t.slice(0,i.index)+t.slice(i.index+i[0].length);var n=i[1]?"bgClass":"textClass";null==e[n]?e[n]=i[2]:new RegExp("(?:^|s)"+i[2]+"(?:$|s)").test(e[n])||(e[n]+=" "+i[2])}return t}function Mn(e,i){if(e.blankLine)return e.blankLine(i);if(e.innerMode){var n=t.innerMode(e,i);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function Ln(e,i,n,r){for(var o=0;10>o;o++){r&&(r[0]=t.innerMode(e,n).mode);var s=e.token(i,n);if(i.pos>i.start)return s}throw new Error("Mode "+e.name+" failed to advance stream.")}function On(t,e,i,n){function r(t){return{start:h.start,end:h.pos,string:h.current(),type:o||null,state:t?ls(s.mode,u):u}}var o,s=t.doc,a=s.mode;e=mt(s,e);var l,c=Qn(s,e.line),u=Bt(t,e.line,i),h=new ms(c.text,t.options.tabSize);for(n&&(l=[]);(n||h.pos<e.ch)&&!h.eol();)h.start=h.pos,o=Ln(a,h,u),n&&l.push(r(!0));return n?l:r()}function Dn(t,e,i,n,r,o,s){var a=i.flattenSpans;null==a&&(a=t.options.flattenSpans);var l,c=0,u=null,h=new ms(e,t.options.tabSize),d=t.options.addModeClass&&[null];for(""==e&&Pn(Mn(i,n),o);!h.eol();){if(h.pos>t.options.maxHighlightLength?(a=!1,s&&Nn(t,e,n,h.pos),h.pos=e.length,l=null):l=Pn(Ln(i,h,n,d),o),d){var p=d[0].name;p&&(l="m-"+(l?p+" "+l:p))}if(!a||u!=l){for(;c<h.start;)r(c=Math.min(h.start,c+5e4),u);u=l}h.start=h.pos}for(;c<h.pos;){var f=Math.min(h.pos,c+5e4);r(f,u),c=f}}function In(t,e,i,n){var r=[t.state.modeGen],o={};Dn(t,e.text,t.doc.mode,i,(function(t,e){r.push(t,e)}),o,n);for(var s=0;s<t.state.overlays.length;++s){var a=t.state.overlays[s],l=1,c=0;Dn(t,e.text,a.mode,!0,(function(t,e){for(var i=l;t>c;){var n=r[l];n>t&&r.splice(l,1,t,r[l+1],n),l+=2,c=Math.min(t,n)}if(e)if(a.opaque)r.splice(i,l-i,t,"cm-overlay "+e),l=i+2;else for(;l>i;i+=2){var o=r[i+1];r[i+1]=(o?o+" ":"")+"cm-overlay "+e}}),o)}return{styles:r,classes:o.bgClass||o.textClass?o:null}}function $n(t,e,i){if(!e.styles||e.styles[0]!=t.state.modeGen){var n=Bt(t,er(e)),r=In(t,e,e.text.length>t.options.maxHighlightLength?ls(t.doc.mode,n):n);e.stateAfter=n,e.styles=r.styles,r.classes?e.styleClasses=r.classes:e.styleClasses&&(e.styleClasses=null),i===t.doc.frontier&&t.doc.frontier++}return e.styles}function Nn(t,e,i,n){var r=t.doc.mode,o=new ms(e,t.options.tabSize);for(o.start=o.pos=n||0,""==e&&Mn(r,i);!o.eol();)Ln(r,o,i),o.start=o.pos}function zn(t,e){if(!t||/^\s*$/.test(t))return null;var i=e.addModeClass?_s:xs;return i[t]||(i[t]=t.replace(/\S+/g,"cm-$&"))}function jn(t,e){var i=Br("span",null,null,xo?"padding-right: .1px":null),n={pre:Br("pre",[i],"CodeMirror-line"),content:i,col:0,pos:0,cm:t,splitSpaces:(bo||xo)&&t.getOption("lineWrapping")};e.measure={};for(var r=0;r<=(e.rest?e.rest.length:0);r++){var o,s=r?e.rest[r-1]:e.line;n.pos=0,n.addToken=qn,Jr(t.display.measure)&&(o=rr(s))&&(n.addToken=Bn(n.addToken,o)),n.map=[],Un(s,n,$n(t,s,e!=t.display.externalMeasured&&er(s))),s.styleClasses&&(s.styleClasses.bgClass&&(n.bgClass=Gr(s.styleClasses.bgClass,n.bgClass||"")),s.styleClasses.textClass&&(n.textClass=Gr(s.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(Qr(t.display.measure))),0==r?(e.measure.map=n.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(n.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(xo){var a=n.content.lastChild;(/\bcm-tab\b/.test(a.className)||a.querySelector&&a.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return Ds(t,"renderLine",t,e.line,n.pre),n.pre.className&&(n.textClass=Gr(n.pre.className,n.textClass||"")),n}function Fn(t){var e=Br("span","\u2022","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function qn(t,e,i,n,r,o,s){if(e){var a=t.splitSpaces?e.replace(/ {3,}/g,Rn):e,l=t.cm.state.specialChars,c=!1;if(l.test(e))for(var u=document.createDocumentFragment(),h=0;;){l.lastIndex=h;var d=l.exec(e),p=d?d.index-h:e.length-h;if(p){var f=document.createTextNode(a.slice(h,h+p));bo&&9>wo?u.appendChild(Br("span",[f])):u.appendChild(f),t.map.push(t.pos,t.pos+p,f),t.col+=p,t.pos+=p}if(!d)break;if(h+=p+1,"\t"==d[0]){var m=t.cm.options.tabSize,g=m-t.col%m;(f=u.appendChild(Br("span",Lr(g),"cm-tab"))).setAttribute("role","presentation"),f.setAttribute("cm-text","\t"),t.col+=g}else if("\r"==d[0]||"\n"==d[0]){(f=u.appendChild(Br("span","\r"==d[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",d[0]),t.col+=1}else{(f=t.cm.options.specialCharPlaceholder(d[0])).setAttribute("cm-text",d[0]),bo&&9>wo?u.appendChild(Br("span",[f])):u.appendChild(f),t.col+=1}t.map.push(t.pos,t.pos+1,f),t.pos++}else{t.col+=e.length;u=document.createTextNode(a);t.map.push(t.pos,t.pos+e.length,u),bo&&9>wo&&(c=!0),t.pos+=e.length}if(i||n||r||c||s){var v=i||"";n&&(v+=n),r&&(v+=r);var y=Br("span",[u],v,s);return o&&(y.title=o),t.content.appendChild(y)}t.content.appendChild(u)}}function Rn(t){for(var e=" ",i=0;i<t.length-2;++i)e+=i%2?" ":"\xa0";return e+" "}function Bn(t,e){return function(i,n,r,o,s,a,l){r=r?r+" cm-force-border":"cm-force-border";for(var c=i.pos,u=c+n.length;;){for(var h=0;h<e.length;h++){var d=e[h];if(d.to>c&&d.from<=c)break}if(d.to>=u)return t(i,n,r,o,s,a,l);t(i,n.slice(0,d.to-c),r,o,null,a,l),o=null,n=n.slice(d.to-c),c=d.to}}}function Hn(t,e,i,n){var r=!n&&i.widgetNode;r&&t.map.push(t.pos,t.pos+e,r),!n&&t.cm.display.input.needsContentAttribute&&(r||(r=t.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",i.id)),r&&(t.cm.display.input.setUneditable(r),t.content.appendChild(r)),t.pos+=e}function Un(t,e,i){var n=t.markedSpans,r=t.text,o=0;if(n)for(var s,a,l,c,u,h,d,p=r.length,f=0,m=1,g="",v=0;;){if(v==f){l=c=u=h=a="",d=null,v=1/0;for(var y,b=[],w=0;w<n.length;++w){var x=n[w],_=x.marker;"bookmark"==_.type&&x.from==f&&_.widgetNode?b.push(_):x.from<=f&&(null==x.to||x.to>f||_.collapsed&&x.to==f&&x.from==f)?(null!=x.to&&x.to!=f&&v>x.to&&(v=x.to,c=""),_.className&&(l+=" "+_.className),_.css&&(a=(a?a+";":"")+_.css),_.startStyle&&x.from==f&&(u+=" "+_.startStyle),_.endStyle&&x.to==v&&(y||(y=[])).push(_.endStyle,x.to),_.title&&!h&&(h=_.title),_.collapsed&&(!d||pn(d.marker,_)<0)&&(d=x)):x.from>f&&v>x.from&&(v=x.from)}if(y)for(w=0;w<y.length;w+=2)y[w+1]==v&&(c+=" "+y[w]);if(!d||d.from==f)for(w=0;w<b.length;++w)Hn(e,0,b[w]);if(d&&(d.from||0)==f){if(Hn(e,(null==d.to?p+1:d.to)-f,d.marker,null==d.from),null==d.to)return;d.to==f&&(d=!1)}}if(f>=p)break;for(var k=Math.min(p,v);;){if(g){var C=f+g.length;if(!d){var S=C>k?g.slice(0,k-f):g;e.addToken(e,S,s?s+l:l,u,f+S.length==v?c:"",h,a)}if(C>=k){g=g.slice(k-f),f=k;break}f=C,u=""}g=r.slice(o,o=i[m++]),s=zn(i[m++],e.cm.options)}}else for(m=1;m<i.length;m+=2)e.addToken(e,r.slice(o,o=i[m]),zn(i[m+1],e.cm.options))}function Wn(t,e){return 0==e.from.ch&&0==e.to.ch&&""==Or(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function Xn(t,e,i,n){function r(t){return i?i[t]:null}function o(t,i,r){An(t,i,r,n),Cr(t,"change",t,e)}function s(t,e){for(var i=t,o=[];e>i;++i)o.push(new ws(c[i],r(i),n));return o}var a=e.from,l=e.to,c=e.text,u=Qn(t,a.line),h=Qn(t,l.line),d=Or(c),p=r(c.length-1),f=l.line-a.line;if(e.full)t.insert(0,s(0,c.length)),t.remove(c.length,t.size-c.length);else if(Wn(t,e)){var m=s(0,c.length-1);o(h,h.text,p),f&&t.remove(a.line,f),m.length&&t.insert(a.line,m)}else if(u==h)if(1==c.length)o(u,u.text.slice(0,a.ch)+d+u.text.slice(l.ch),p);else{(m=s(1,c.length-1)).push(new ws(d+u.text.slice(l.ch),p,n)),o(u,u.text.slice(0,a.ch)+c[0],r(0)),t.insert(a.line+1,m)}else if(1==c.length)o(u,u.text.slice(0,a.ch)+c[0]+h.text.slice(l.ch),r(0)),t.remove(a.line+1,f);else{o(u,u.text.slice(0,a.ch)+c[0],r(0)),o(h,d+h.text.slice(l.ch),p);m=s(1,c.length-1);f>1&&t.remove(a.line+1,f-1),t.insert(a.line+1,m)}Cr(t,"change",t,e)}function Gn(t){this.lines=t,this.parent=null;for(var e=0,i=0;e<t.length;++e)t[e].parent=this,i+=t[e].height;this.height=i}function Yn(t){this.children=t;for(var e=0,i=0,n=0;n<t.length;++n){var r=t[n];e+=r.chunkSize(),i+=r.height,r.parent=this}this.size=e,this.height=i,this.parent=null}function Vn(t,e,i){function n(t,r,o){if(t.linked)for(var s=0;s<t.linked.length;++s){var a=t.linked[s];if(a.doc!=r){var l=o&&a.sharedHist;i&&!l||(e(a.doc,l),n(a.doc,t,l))}}}n(t,null,!0)}function Kn(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,s(t),i(t),t.options.lineWrapping||d(t),t.options.mode=e.modeOption,$e(t)}function Qn(t,e){if(0>(e-=t.first)||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var i=t;!i.lines;)for(var n=0;;++n){var r=i.children[n],o=r.chunkSize();if(o>e){i=r;break}e-=o}return i.lines[e]}function Jn(t,e,i){var n=[],r=e.line;return t.iter(e.line,i.line+1,(function(t){var o=t.text;r==i.line&&(o=o.slice(0,i.ch)),r==e.line&&(o=o.slice(e.ch)),n.push(o),++r})),n}function Zn(t,e,i){var n=[];return t.iter(e,i,(function(t){n.push(t.text)})),n}function tr(t,e){var i=e-t.height;if(i)for(var n=t;n;n=n.parent)n.height+=i}function er(t){if(null==t.parent)return null;for(var e=t.parent,i=Dr(e.lines,t),n=e.parent;n;e=n,n=n.parent)for(var r=0;n.children[r]!=e;++r)i+=n.children[r].chunkSize();return i+e.first}function ir(t,e){var i=t.first;t:do{for(var n=0;n<t.children.length;++n){var r=t.children[n],o=r.height;if(o>e){t=r;continue t}e-=o,i+=r.chunkSize()}return i}while(!t.lines);for(n=0;n<t.lines.length;++n){var s=t.lines[n].height;if(s>e)break;e-=s}return i+n}function nr(t){for(var e=0,i=(t=yn(t)).parent,n=0;n<i.lines.length;++n){var r=i.lines[n];if(r==t)break;e+=r.height}for(var o=i.parent;o;o=(i=o).parent)for(n=0;n<o.children.length;++n){var s=o.children[n];if(s==i)break;e+=s.height}return e}function rr(t){var e=t.order;return null==e&&(e=t.order=aa(t.text)),e}function or(t){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t||1}function sr(t,e){var i={from:G(e.from),to:Zo(e),text:Jn(t,e.from,e.to)};return pr(t,i,e.from.line,e.to.line+1),Vn(t,(function(t){pr(t,i,e.from.line,e.to.line+1)}),!0),i}function ar(t){for(;t.length;){if(!Or(t).ranges)break;t.pop()}}function lr(t,e){return e?(ar(t.done),Or(t.done)):t.done.length&&!Or(t.done).ranges?Or(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),Or(t.done)):void 0}function cr(t,e,i,n){var r=t.history;r.undone.length=0;var o,s=+new Date;if((r.lastOp==n||r.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&t.cm&&r.lastModTime>s-t.cm.options.historyEventDelay||"*"==e.origin.charAt(0)))&&(o=lr(r,r.lastOp==n))){var a=Or(o.changes);0==Fo(e.from,e.to)&&0==Fo(e.from,a.to)?a.to=Zo(e):o.changes.push(sr(t,e))}else{var l=Or(r.done);for(l&&l.ranges||dr(t.sel,r.done),o={changes:[sr(t,e)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(i),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=s,r.lastOp=r.lastSelOp=n,r.lastOrigin=r.lastSelOrigin=e.origin,a||Ds(t,"historyAdded")}function ur(t,e,i,n){var r=e.charAt(0);return"*"==r||"+"==r&&i.ranges.length==n.ranges.length&&i.somethingSelected()==n.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}function hr(t,e,i,n){var r=t.history,o=n&&n.origin;i==r.lastSelOp||o&&r.lastSelOrigin==o&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==o||ur(t,o,Or(r.done),e))?r.done[r.done.length-1]=e:dr(e,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=o,r.lastSelOp=i,n&&!1!==n.clearRedo&&ar(r.undone)}function dr(t,e){var i=Or(e);i&&i.ranges&&i.equals(t)||e.push(t)}function pr(t,e,i,n){var r=e["spans_"+t.id],o=0;t.iter(Math.max(t.first,i),Math.min(t.first+t.size,n),(function(i){i.markedSpans&&((r||(r=e["spans_"+t.id]={}))[o]=i.markedSpans),++o}))}function fr(t){if(!t)return null;for(var e,i=0;i<t.length;++i)t[i].marker.explicitlyCleared?e||(e=t.slice(0,i)):e&&e.push(t[i]);return e?e.length?e:null:t}function mr(t,e){var i=e["spans_"+t.id];if(!i)return null;for(var n=0,r=[];n<e.text.length;++n)r.push(fr(i[n]));return r}function gr(t,e,i){for(var n=0,r=[];n<t.length;++n){var o=t[n];if(o.ranges)r.push(i?ut.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];r.push({changes:a});for(var l=0;l<s.length;++l){var c,u=s[l];if(a.push({from:u.from,to:u.to,text:u.text}),e)for(var h in u)(c=h.match(/^spans_(\d+)$/))&&Dr(e,Number(c[1]))>-1&&(Or(a)[h]=u[h],delete u[h])}}}return r}function vr(t,e,i,n){i<t.line?t.line+=n:e<t.line&&(t.line=e,t.ch=0)}function yr(t,e,i,n){for(var r=0;r<t.length;++r){var o=t[r],s=!0;if(o.ranges){o.copied||((o=t[r]=o.deepCopy()).copied=!0);for(var a=0;a<o.ranges.length;a++)vr(o.ranges[a].anchor,e,i,n),vr(o.ranges[a].head,e,i,n)}else{for(a=0;a<o.changes.length;++a){var l=o.changes[a];if(i<l.from.line)l.from=jo(l.from.line+n,l.from.ch),l.to=jo(l.to.line+n,l.to.ch);else if(e<=l.to.line){s=!1;break}}s||(t.splice(0,r+1),r=0)}}}function br(t,e){var i=e.from.line,n=e.to.line,r=e.text.length-(n-i)-1;yr(t.done,i,n,r),yr(t.undone,i,n,r)}function wr(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function xr(t){return t.target||t.srcElement}function _r(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),Mo&&t.ctrlKey&&1==e&&(e=3),e}function kr(t,e,i){var n=t._handlers&&t._handlers[e];return i?n&&n.length>0?n.slice():Ls:n||Ls}function Cr(t,e){function i(t){return function(){t.apply(null,o)}}var n=kr(t,e,!1);if(n.length){var r,o=Array.prototype.slice.call(arguments,2);Wo?r=Wo.delayedCallbacks:Is?r=Is:(r=Is=[],setTimeout(Sr,0));for(var s=0;s<n.length;++s)r.push(i(n[s]))}}function Sr(){var t=Is;Is=null;for(var e=0;e<t.length;++e)t[e]()}function Tr(t,e,i){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),Ds(t,i||e.type,t,e),wr(e)||e.codemirrorIgnore}function Ar(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var i=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),n=0;n<e.length;++n)-1==Dr(i,e[n])&&i.push(e[n])}function Er(t,e){return kr(t,e).length>0}function Pr(t){t.prototype.on=function(t,e){Ms(this,t,e)},t.prototype.off=function(t,e){Os(this,t,e)}}function Mr(){this.id=null}function Lr(t){for(;Bs.length<=t;)Bs.push(Or(Bs)+" ");return Bs[t]}function Or(t){return t[t.length-1]}function Dr(t,e){for(var i=0;i<t.length;++i)if(t[i]==e)return i;return-1}function Ir(t,e){for(var i=[],n=0;n<t.length;n++)i[n]=e(t[n],n);return i}function $r(){}function Nr(t,e){var i;return Object.create?i=Object.create(t):($r.prototype=t,i=new $r),e&&zr(e,i),i}function zr(t,e,i){for(var n in e||(e={}),t)!t.hasOwnProperty(n)||!1===i&&e.hasOwnProperty(n)||(e[n]=t[n]);return e}function jr(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function Fr(t,e){return e?!!(e.source.indexOf("\\w")>-1&&Xs(t))||e.test(t):Xs(t)}function qr(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}function Rr(t){return t.charCodeAt(0)>=768&&Gs.test(t)}function Br(t,e,i,n){var r=document.createElement(t);if(i&&(r.className=i),n&&(r.style.cssText=n),"string"==typeof e)r.appendChild(document.createTextNode(e));else if(e)for(var o=0;o<e.length;++o)r.appendChild(e[o]);return r}function Hr(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function Ur(t,e){return Hr(t).appendChild(e)}function Wr(){for(var t=document.activeElement;t&&t.root&&t.root.activeElement;)t=t.root.activeElement;return t}function Xr(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}function Gr(t,e){for(var i=t.split(" "),n=0;n<i.length;n++)i[n]&&!Xr(i[n]).test(e)&&(e+=" "+i[n]);return e}function Yr(t){if(document.body.getElementsByClassName)for(var e=document.body.getElementsByClassName("CodeMirror"),i=0;i<e.length;i++){var n=e[i].CodeMirror;n&&t(n)}}function Vr(){Zs||(Kr(),Zs=!0)}function Kr(){var t;Ms(window,"resize",(function(){null==t&&(t=setTimeout((function(){t=null,Yr(Ue)}),100))})),Ms(window,"blur",(function(){Yr(vi)}))}function Qr(t){if(null==Vs){var e=Br("span","\u200b");Ur(t,Br("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(Vs=e.offsetWidth<=1&&e.offsetHeight>2&&!(bo&&8>wo))}var i=Vs?Br("span","\u200b"):Br("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}function Jr(t){if(null!=Ks)return Ks;var e=Ur(t,document.createTextNode("A\u062eA")),i=Us(e,0,1).getBoundingClientRect();if(!i||i.left==i.right)return!1;var n=Us(e,1,2).getBoundingClientRect();return Ks=n.right-i.right<3}function Zr(t){if(null!=ra)return ra;var e=Ur(t,Br("span","x")),i=e.getBoundingClientRect(),n=Us(e,0,1).getBoundingClientRect();return ra=Math.abs(i.left-n.left)>1}function to(t,e,i,n){if(!t)return n(e,i,"ltr");for(var r=!1,o=0;o<t.length;++o){var s=t[o];(s.from<i&&s.to>e||e==i&&s.to==e)&&(n(Math.max(s.from,e),Math.min(s.to,i),1==s.level?"rtl":"ltr"),r=!0)}r||n(e,i,"ltr")}function eo(t){return t.level%2?t.to:t.from}function io(t){return t.level%2?t.from:t.to}function no(t){var e=rr(t);return e?eo(e[0]):0}function ro(t){var e=rr(t);return e?io(Or(e)):t.text.length}function oo(t,e){var i=Qn(t.doc,e),n=yn(i);n!=i&&(e=er(n));var r=rr(n),o=r?r[0].level%2?ro(n):no(n):0;return jo(e,o)}function so(t,e){for(var i,n=Qn(t.doc,e);i=gn(n);)n=i.find(1,!0).line,e=null;var r=rr(n),o=r?r[0].level%2?no(n):ro(n):n.text.length;return jo(null==e?er(n):e,o)}function ao(t,e){var i=oo(t,e.line),n=Qn(t.doc,i.line),r=rr(n);if(!r||0==r[0].level){var o=Math.max(0,n.text.search(/\S/)),s=e.line==i.line&&e.ch<=o&&e.ch;return jo(i.line,s?0:o)}return i}function lo(t,e,i){var n=t[0].level;return e==n||i!=n&&i>e}function co(t,e){sa=null;for(var i,n=0;n<t.length;++n){var r=t[n];if(r.from<e&&r.to>e)return n;if(r.from==e||r.to==e){if(null!=i)return lo(t,r.level,t[i].level)?(r.from!=r.to&&(sa=i),n):(r.from!=r.to&&(sa=n),i);i=n}}return i}function uo(t,e,i,n){if(!n)return e+i;do{e+=i}while(e>0&&Rr(t.text.charAt(e)));return e}function ho(t,e,i,n){var r=rr(t);if(!r)return po(t,e,i,n);for(var o=co(r,e),s=r[o],a=uo(t,e,s.level%2?-i:i,n);;){if(a>s.from&&a<s.to)return a;if(a==s.from||a==s.to)return co(r,a)==o?a:i>0==(s=r[o+=i]).level%2?s.to:s.from;if(!(s=r[o+=i]))return null;a=i>0==s.level%2?uo(t,s.to,-1,n):uo(t,s.from,1,n)}}function po(t,e,i,n){var r=e+i;if(n)for(;r>0&&Rr(t.text.charAt(r));)r+=i;return 0>r||r>t.text.length?null:r}var fo=navigator.userAgent,mo=navigator.platform,go=/gecko\/\d/i.test(fo),vo=/MSIE \d/.test(fo),yo=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(fo),bo=vo||yo,wo=bo&&(vo?document.documentMode||6:yo[1]),xo=/WebKit\//.test(fo),_o=xo&&/Qt\/\d+\.\d+/.test(fo),ko=/Chrome\//.test(fo),Co=/Opera\//.test(fo),So=/Apple Computer/.test(navigator.vendor),To=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(fo),Ao=/PhantomJS/.test(fo),Eo=/AppleWebKit/.test(fo)&&/Mobile\/\w+/.test(fo),Po=Eo||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(fo),Mo=Eo||/Mac/.test(mo),Lo=/\bCrOS\b/.test(fo),Oo=/win/i.test(mo),Do=Co&&fo.match(/Version\/(\d*\.\d*)/);Do&&(Do=Number(Do[1])),Do&&Do>=15&&(Co=!1,xo=!0);var Io=Mo&&(_o||Co&&(null==Do||12.11>Do)),$o=go||bo&&wo>=9,No=!1,zo=!1;m.prototype=zr({update:function(t){var e=t.scrollWidth>t.clientWidth+1,i=t.scrollHeight>t.clientHeight+1,n=t.nativeBarWidth;if(i){this.vert.style.display="block",this.vert.style.bottom=e?n+"px":"0";var r=t.viewHeight-(e?n:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+r)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=i?n+"px":"0",this.horiz.style.left=t.barLeft+"px";var o=t.viewWidth-t.barLeft-(i?n:0);this.horiz.firstChild.style.width=t.scrollWidth-t.clientWidth+o+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:i?n:0,bottom:e?n:0}},setScrollLeft:function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){var t=Mo&&!To?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Mr,this.disableVert=new Mr},enableZeroWidthBar:function(t,e){function i(){var n=t.getBoundingClientRect();document.elementFromPoint(n.left+1,n.bottom-1)!=t?t.style.pointerEvents="none":e.set(1e3,i)}t.style.pointerEvents="auto",e.set(1e3,i)},clear:function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)}},m.prototype),g.prototype=zr({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},g.prototype),t.scrollbarModel={native:m,null:g},S.prototype.signal=function(t,e){Er(t,e)&&this.events.push(arguments)},S.prototype.finish=function(){for(var t=0;t<this.events.length;t++)Ds.apply(null,this.events[t])};var jo=t.Pos=function(t,e){return this instanceof jo?(this.line=t,void(this.ch=e)):new jo(t,e)},Fo=t.cmpPos=function(t,e){return t.line-e.line||t.ch-e.ch},qo=null;it.prototype=zr({init:function(t){function e(t){if(!Tr(n,t)){if(n.somethingSelected())qo={lineWise:!1,text:n.getSelections()},i.inaccurateSelection&&(i.prevInput="",i.inaccurateSelection=!1,o.value=qo.text.join("\n"),Hs(o));else{if(!n.options.lineWiseCopyCut)return;var e=tt(n);qo={lineWise:!0,text:e.text},"cut"==t.type?n.setSelections(e.ranges,null,zs):(i.prevInput="",o.value=e.text.join("\n"),Hs(o))}"cut"==t.type&&(n.state.cutIncoming=!0)}}var i=this,n=this.cm,r=this.wrapper=nt(),o=this.textarea=r.firstChild;t.wrapper.insertBefore(r,t.wrapper.firstChild),Eo&&(o.style.width="0px"),Ms(o,"input",(function(){bo&&wo>=9&&i.hasSelection&&(i.hasSelection=null),i.poll()})),Ms(o,"paste",(function(t){Tr(n,t)||J(t,n)||(n.state.pasteIncoming=!0,i.fastPoll())})),Ms(o,"cut",e),Ms(o,"copy",e),Ms(t.scroller,"paste",(function(e){We(t,e)||Tr(n,e)||(n.state.pasteIncoming=!0,i.focus())})),Ms(t.lineSpace,"selectstart",(function(e){We(t,e)||As(e)})),Ms(o,"compositionstart",(function(){var t=n.getCursor("from");i.composing&&i.composing.range.clear(),i.composing={start:t,range:n.markText(t,n.getCursor("to"),{className:"CodeMirror-composing"})}})),Ms(o,"compositionend",(function(){i.composing&&(i.poll(),i.composing.range.clear(),i.composing=null)}))},prepareSelection:function(){var t=this.cm,e=t.display,i=t.doc,n=$t(t);if(t.options.moveInputWithCursor){var r=pe(t,i.sel.primary().head,"div"),o=e.wrapper.getBoundingClientRect(),s=e.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,r.top+s.top-o.top)),n.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,r.left+s.left-o.left))}return n},showSelection:function(t){var e=this.cm.display;Ur(e.cursorDiv,t.cursors),Ur(e.selectionDiv,t.selection),null!=t.teTop&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},reset:function(t){if(!this.contextMenuPending){var e,i,n=this.cm,r=n.doc;if(n.somethingSelected()){this.prevInput="";var o=r.sel.primary(),s=(e=na&&(o.to().line-o.from().line>100||(i=n.getSelection()).length>1e3))?"-":i||n.getSelection();this.textarea.value=s,n.state.focused&&Hs(this.textarea),bo&&wo>=9&&(this.hasSelection=s)}else t||(this.prevInput=this.textarea.value="",bo&&wo>=9&&(this.hasSelection=null));this.inaccurateSelection=e}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!Po||Wr()!=this.textarea))try{this.textarea.focus()}catch(t){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var t=this;t.pollingFast||t.polling.set(this.cm.options.pollInterval,(function(){t.poll(),t.cm.state.focused&&t.slowPoll()}))},fastPoll:function(){function t(){i.poll()||e?(i.pollingFast=!1,i.slowPoll()):(e=!0,i.polling.set(60,t))}var e=!1,i=this;i.pollingFast=!0,i.polling.set(20,t)},poll:function(){var t=this.cm,e=this.textarea,i=this.prevInput;if(this.contextMenuPending||!t.state.focused||ia(e)&&!i&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var n=e.value;if(n==i&&!t.somethingSelected())return!1;if(bo&&wo>=9&&this.hasSelection===n||Mo&&/[\uf700-\uf7ff]/.test(n))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var r=n.charCodeAt(0);if(8203!=r||i||(i="\u200b"),8666==r)return this.reset(),this.cm.execCommand("undo")}for(var o=0,s=Math.min(i.length,n.length);s>o&&i.charCodeAt(o)==n.charCodeAt(o);)++o;var a=this;return Pe(t,(function(){Q(t,n.slice(o),i.length-o,null,a.composing?"*compose":null),n.length>1e3||n.indexOf("\n")>-1?e.value=a.prevInput="":a.prevInput=n,a.composing&&(a.composing.range.clear(),a.composing.range=t.markText(a.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){bo&&wo>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(t){function e(){if(null!=s.selectionStart){var t=r.somethingSelected(),e="\u200b"+(t?s.value:"");s.value="\u21da",s.value=e,n.prevInput=t?"":"\u200b",s.selectionStart=1,s.selectionEnd=e.length,o.selForContextMenu=r.doc.sel}}function i(){if(n.contextMenuPending=!1,n.wrapper.style.cssText=u,s.style.cssText=c,bo&&9>wo&&o.scrollbars.setScrollTop(o.scroller.scrollTop=l),null!=s.selectionStart){(!bo||bo&&9>wo)&&e();var t=0,i=function(){o.selForContextMenu==r.doc.sel&&0==s.selectionStart&&s.selectionEnd>0&&"\u200b"==n.prevInput?Me(r,us.selectAll)(r):t++<10?o.detectingSelectAll=setTimeout(i,500):o.input.reset()};o.detectingSelectAll=setTimeout(i,200)}}var n=this,r=n.cm,o=r.display,s=n.textarea,a=Xe(r,t),l=o.scroller.scrollTop;if(a&&!Co){r.options.resetSelectionOnContextMenu&&-1==r.doc.sel.contains(a)&&Me(r,Tt)(r.doc,pt(a),zs);var c=s.style.cssText,u=n.wrapper.style.cssText;n.wrapper.style.cssText="position: absolute";var h=n.wrapper.getBoundingClientRect();if(s.style.cssText="position: absolute; width: 30px; height: 30px; top: "+(t.clientY-h.top-5)+"px; left: "+(t.clientX-h.left-5)+"px; z-index: 1000; background: "+(bo?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",xo)var d=window.scrollY;if(o.input.focus(),xo&&window.scrollTo(null,d),o.input.reset(),r.somethingSelected()||(s.value=n.prevInput=" "),n.contextMenuPending=!0,o.selForContextMenu=r.doc.sel,clearTimeout(o.detectingSelectAll),bo&&wo>=9&&e(),$o){Ps(t);var p=function(){Os(window,"mouseup",p),setTimeout(i,20)};Ms(window,"mouseup",p)}else setTimeout(i,50)}},readOnlyChanged:function(t){t||this.reset()},setUneditable:$r,needsContentAttribute:!1},it.prototype),rt.prototype=zr({init:function(t){function e(t){if(!Tr(n,t)){if(n.somethingSelected())qo={lineWise:!1,text:n.getSelections()},"cut"==t.type&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var e=tt(n);qo={lineWise:!0,text:e.text},"cut"==t.type&&n.operation((function(){n.setSelections(e.ranges,0,zs),n.replaceSelection("",null,"cut")}))}if(t.clipboardData&&!Eo)t.preventDefault(),t.clipboardData.clearData(),t.clipboardData.setData("text/plain",qo.text.join("\n"));else{var i=nt(),r=i.firstChild;n.display.lineSpace.insertBefore(i,n.display.lineSpace.firstChild),r.value=qo.text.join("\n");var o=document.activeElement;Hs(r),setTimeout((function(){n.display.lineSpace.removeChild(i),o.focus()}),50)}}}var i=this,n=i.cm,r=i.div=t.lineDiv;et(r),Ms(r,"paste",(function(t){Tr(n,t)||J(t,n)})),Ms(r,"compositionstart",(function(t){var e=t.data;if(i.composing={sel:n.doc.sel,data:e,startData:e},e){var r=n.doc.sel.primary(),o=n.getLine(r.head.line).indexOf(e,Math.max(0,r.head.ch-e.length));o>-1&&o<=r.head.ch&&(i.composing.sel=pt(jo(r.head.line,o),jo(r.head.line,o+e.length)))}})),Ms(r,"compositionupdate",(function(t){i.composing.data=t.data})),Ms(r,"compositionend",(function(t){var e=i.composing;e&&(t.data==e.startData||/\u200b/.test(t.data)||(e.data=t.data),setTimeout((function(){e.handled||i.applyComposition(e),i.composing==e&&(i.composing=null)}),50))})),Ms(r,"touchstart",(function(){i.forceCompositionEnd()})),Ms(r,"input",(function(){i.composing||!n.isReadOnly()&&i.pollContent()||Pe(i.cm,(function(){$e(n)}))})),Ms(r,"copy",e),Ms(r,"cut",e)},prepareSelection:function(){var t=$t(this.cm,!1);return t.focus=this.cm.state.focused,t},showSelection:function(t,e){t&&this.cm.display.view.length&&((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},showPrimarySelection:function(){var t=window.getSelection(),e=this.cm.doc.sel.primary(),i=at(this.cm,t.anchorNode,t.anchorOffset),n=at(this.cm,t.focusNode,t.focusOffset);if(!i||i.bad||!n||n.bad||0!=Fo(V(i,n),e.from())||0!=Fo(Y(i,n),e.to())){var r=ot(this.cm,e.from()),o=ot(this.cm,e.to());if(r||o){var s=this.cm.display.view,a=t.rangeCount&&t.getRangeAt(0);if(r){if(!o){var l=s[s.length-1].measure,c=l.maps?l.maps[l.maps.length-1]:l.map;o={node:c[c.length-1],offset:c[c.length-2]-c[c.length-3]}}}else r={node:s[0].measure.map[2],offset:0};try{var u=Us(r.node,r.offset,o.offset,o.node)}catch(t){}u&&(!go&&this.cm.state.focused?(t.collapse(r.node,r.offset),u.collapsed||t.addRange(u)):(t.removeAllRanges(),t.addRange(u)),a&&null==t.anchorNode?t.addRange(a):go&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation((function(){t.cm.curOp.selectionChanged=!0}))}),20)},showMultipleSelections:function(t){Ur(this.cm.display.cursorDiv,t.cursors),Ur(this.cm.display.selectionDiv,t.selection)},rememberSelection:function(){var t=window.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},selectionInEditor:function(){var t=window.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return Ys(this.div,e)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},
getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}var e=this;this.selectionInEditor()?this.pollSelection():Pe(this.cm,(function(){e.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,t)},selectionChanged:function(){var t=window.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var t=window.getSelection(),e=this.cm;this.rememberSelection();var i=at(e,t.anchorNode,t.anchorOffset),n=at(e,t.focusNode,t.focusOffset);i&&n&&Pe(e,(function(){Tt(e.doc,pt(i,n),zs),(i.bad||n.bad)&&(e.curOp.selectionChanged=!0)}))}},pollContent:function(){var t,e=this.cm,i=e.display,n=e.doc.sel.primary(),r=n.from(),o=n.to();if(r.line<i.viewFrom||o.line>i.viewTo-1)return!1;if(r.line==i.viewFrom||0==(t=je(e,r.line)))var s=er(i.view[0].line),a=i.view[0].node;else s=er(i.view[t].line),a=i.view[t-1].node.nextSibling;var l=je(e,o.line);if(l==i.view.length-1)var c=i.viewTo-1,u=i.lineDiv.lastChild;else c=er(i.view[l+1].line)-1,u=i.view[l+1].node.previousSibling;for(var h=e.doc.splitLines(ct(e,a,u,s,c)),d=Jn(e.doc,jo(s,0),jo(c,Qn(e.doc,c).text.length));h.length>1&&d.length>1;)if(Or(h)==Or(d))h.pop(),d.pop(),c--;else{if(h[0]!=d[0])break;h.shift(),d.shift(),s++}for(var p=0,f=0,m=h[0],g=d[0],v=Math.min(m.length,g.length);v>p&&m.charCodeAt(p)==g.charCodeAt(p);)++p;for(var y=Or(h),b=Or(d),w=Math.min(y.length-(1==h.length?p:0),b.length-(1==d.length?p:0));w>f&&y.charCodeAt(y.length-f-1)==b.charCodeAt(b.length-f-1);)++f;h[h.length-1]=y.slice(0,y.length-f),h[0]=h[0].slice(p);var x=jo(s,p),_=jo(c,d.length?Or(d).length-f:0);return h.length>1||h[0]||Fo(x,_)?(Li(e.doc,h,x,_,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(t){this.cm.isReadOnly()?Me(this.cm,$e)(this.cm):t.data&&t.data!=t.startData&&Me(this.cm,Q)(this.cm,t.data,0,t.sel)},setUneditable:function(t){t.contentEditable="false"},onKeyPress:function(t){t.preventDefault(),this.cm.isReadOnly()||Me(this.cm,Q)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0)},readOnlyChanged:function(t){this.div.contentEditable=String("nocursor"!=t)},onContextMenu:$r,resetPosition:$r,needsContentAttribute:!0},rt.prototype),t.inputStyles={textarea:it,contenteditable:rt},ut.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var i=this.ranges[e],n=t.ranges[e];if(0!=Fo(i.anchor,n.anchor)||0!=Fo(i.head,n.head))return!1}return!0},deepCopy:function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new ht(G(this.ranges[e].anchor),G(this.ranges[e].head));return new ut(t,this.primIndex)},somethingSelected:function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},contains:function(t,e){e||(e=t);for(var i=0;i<this.ranges.length;i++){var n=this.ranges[i];if(Fo(e,n.from())>=0&&Fo(t,n.to())<=0)return i}return-1}},ht.prototype={from:function(){return V(this.anchor,this.head)},to:function(){return Y(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var Ro,Bo,Ho,Uo={left:0,right:0,top:0,bottom:0},Wo=null,Xo=0,Go=0,Yo=0,Vo=null;bo?Vo=-.53:go?Vo=15:ko?Vo=-.7:So&&(Vo=-1/3);var Ko=function(t){var e=t.wheelDeltaX,i=t.wheelDeltaY;return null==e&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),null==i&&t.detail&&t.axis==t.VERTICAL_AXIS?i=t.detail:null==i&&(i=t.wheelDelta),{x:e,y:i}};t.wheelEventPixels=function(t){var e=Ko(t);return e.x*=Vo,e.y*=Vo,e};var Qo=new Mr,Jo=null,Zo=t.changeEnd=function(t){return t.text?jo(t.from.line+t.text.length-1,Or(t.text).length+(1==t.text.length?t.from.ch:0)):t.to};t.prototype={constructor:t,focus:function(){window.focus(),this.display.input.focus()},setOption:function(t,e){var i=this.options,n=i[t];i[t]==e&&"mode"!=t||(i[t]=e,es.hasOwnProperty(t)&&Me(this,es[t])(this,e,n))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](Xi(t))},removeKeyMap:function(t){for(var e=this.state.keyMaps,i=0;i<e.length;++i)if(e[i]==t||e[i].name==t)return e.splice(i,1),!0},addOverlay:Le((function(e,i){var n=e.token?e:t.getMode(this.options,e);if(n.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:n,modeSpec:e,opaque:i&&i.opaque}),this.state.modeGen++,$e(this)})),removeOverlay:Le((function(t){for(var e=this.state.overlays,i=0;i<e.length;++i){var n=e[i].modeSpec;if(n==t||"string"==typeof t&&n.name==t)return e.splice(i,1),this.state.modeGen++,void $e(this)}})),indentLine:Le((function(t,e,i){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),vt(this.doc,t)&&Fi(this,t,e,i)})),indentSelection:Le((function(t){for(var e=this.doc.sel.ranges,i=-1,n=0;n<e.length;n++){var r=e[n];if(r.empty())r.head.line>i&&(Fi(this,r.head.line,t,!0),i=r.head.line,n==this.doc.sel.primIndex&&zi(this));else{var o=r.from(),s=r.to(),a=Math.max(i,o.line);i=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var l=a;i>l;++l)Fi(this,l,t);var c=this.doc.sel.ranges;0==o.ch&&e.length==c.length&&c[n].from().ch>0&&_t(this.doc,n,new ht(o,c[n].to()),zs)}}})),getTokenAt:function(t,e){return On(this,t,e)},getLineTokens:function(t,e){return On(this,jo(t),e,!0)},getTokenTypeAt:function(t){t=mt(this.doc,t);var e,i=$n(this,Qn(this.doc,t.line)),n=0,r=(i.length-1)/2,o=t.ch;if(0==o)e=i[2];else for(;;){var s=n+r>>1;if((s?i[2*s-1]:0)>=o)r=s;else{if(!(i[2*s+1]<o)){e=i[2*s+2];break}n=s+1}}var a=e?e.indexOf("cm-overlay "):-1;return 0>a?e:0==a?null:e.slice(0,a-1)},getModeAt:function(e){var i=this.doc.mode;return i.innerMode?t.innerMode(i,this.getTokenAt(e).state).mode:i},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var i=[];if(!as.hasOwnProperty(e))return i;var n=as[e],r=this.getModeAt(t);if("string"==typeof r[e])n[r[e]]&&i.push(n[r[e]]);else if(r[e])for(var o=0;o<r[e].length;o++){var s=n[r[e][o]];s&&i.push(s)}else r.helperType&&n[r.helperType]?i.push(n[r.helperType]):n[r.name]&&i.push(n[r.name]);for(o=0;o<n._global.length;o++){var a=n._global[o];a.pred(r,this)&&-1==Dr(i,a.val)&&i.push(a.val)}return i},getStateAfter:function(t,e){var i=this.doc;return Bt(this,(t=ft(i,null==t?i.first+i.size-1:t))+1,e)},cursorCoords:function(t,e){var i=this.doc.sel.primary();return pe(this,null==t?i.head:"object"==typeof t?mt(this.doc,t):t?i.from():i.to(),e||"page")},charCoords:function(t,e){return de(this,mt(this.doc,t),e||"page")},coordsChar:function(t,e){return ge(this,(t=he(this,t,e||"page")).left,t.top)},lineAtHeight:function(t,e){return t=he(this,{top:t,left:0},e||"page").top,ir(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e){var i,n=!1;if("number"==typeof t){var r=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>r&&(t=r,n=!0),i=Qn(this.doc,t)}else i=t;return ue(this,i,{top:0,left:0},e||"page").top+(n?this.doc.height-nr(i):0)},defaultTextHeight:function(){return ye(this.display)},defaultCharWidth:function(){return be(this.display)},setGutterMarker:Le((function(t,e,i){return qi(this.doc,t,"gutter",(function(t){var n=t.gutterMarkers||(t.gutterMarkers={});return n[e]=i,!i&&qr(n)&&(t.gutterMarkers=null),!0}))})),clearGutter:Le((function(t){var e=this,i=e.doc,n=i.first;i.iter((function(i){i.gutterMarkers&&i.gutterMarkers[t]&&(i.gutterMarkers[t]=null,Ne(e,n,"gutter"),qr(i.gutterMarkers)&&(i.gutterMarkers=null)),++n}))})),lineInfo:function(t){if("number"==typeof t){if(!vt(this.doc,t))return null;var e=t;if(!(t=Qn(this.doc,t)))return null}else{if(null==(e=er(t)))return null}return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,i,n,r){var o=this.display,s=(t=pe(this,mt(this.doc,t))).bottom,a=t.left;if(e.style.position="absolute",e.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(e),o.sizer.appendChild(e),"over"==n)s=t.top;else if("above"==n||"near"==n){var l=Math.max(o.wrapper.clientHeight,this.doc.height),c=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==n||t.bottom+e.offsetHeight>l)&&t.top>e.offsetHeight?s=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=l&&(s=t.bottom),a+e.offsetWidth>c&&(a=c-e.offsetWidth)}e.style.top=s+"px",e.style.left=e.style.right="","right"==r?(a=o.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==r?a=0:"middle"==r&&(a=(o.sizer.clientWidth-e.offsetWidth)/2),e.style.left=a+"px"),i&&Ii(this,a,s,a+e.offsetWidth,s+e.offsetHeight)},triggerOnKeyDown:Le(hi),triggerOnKeyPress:Le(fi),triggerOnKeyUp:pi,execCommand:function(t){return us.hasOwnProperty(t)?us[t].call(null,this):void 0},triggerElectric:Le((function(t){Z(this,t)})),findPosH:function(t,e,i,n){var r=1;0>e&&(r=-1,e=-e);for(var o=0,s=mt(this.doc,t);e>o&&!(s=Bi(this.doc,s,r,i,n)).hitSide;++o);return s},moveH:Le((function(t,e){var i=this;i.extendSelectionsBy((function(n){return i.display.shift||i.doc.extend||n.empty()?Bi(i.doc,n.head,t,e,i.options.rtlMoveVisually):0>t?n.from():n.to()}),Fs)})),deleteH:Le((function(t,e){var i=this.doc.sel,n=this.doc;i.somethingSelected()?n.replaceSelection("",null,"+delete"):Ri(this,(function(i){var r=Bi(n,i.head,t,e,!1);return 0>t?{from:r,to:i.head}:{from:i.head,to:r}}))})),findPosV:function(t,e,i,n){var r=1,o=n;0>e&&(r=-1,e=-e);for(var s=0,a=mt(this.doc,t);e>s;++s){var l=pe(this,a,"div");if(null==o?o=l.left:l.left=o,(a=Hi(this,l,r,i)).hitSide)break}return a},moveV:Le((function(t,e){var i=this,n=this.doc,r=[],o=!i.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy((function(s){if(o)return 0>t?s.from():s.to();var a=pe(i,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),r.push(a.left);var l=Hi(i,a,t,e);return"page"==e&&s==n.sel.primary()&&Ni(i,null,de(i,l,"div").top-a.top),l}),Fs),r.length)for(var s=0;s<n.sel.ranges.length;s++)n.sel.ranges[s].goalColumn=r[s]})),findWordAt:function(t){var e=Qn(this.doc,t.line).text,i=t.ch,n=t.ch;if(e){var r=this.getHelper(t,"wordChars");(t.xRel<0||n==e.length)&&i?--i:++n;for(var o=e.charAt(i),s=Fr(o,r)?function(t){return Fr(t,r)}:/\s/.test(o)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!Fr(t)};i>0&&s(e.charAt(i-1));)--i;for(;n<e.length&&s(e.charAt(n));)++n}return new ht(jo(t.line,i),jo(t.line,n))},toggleOverwrite:function(t){null!=t&&t==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Js(this.display.cursorDiv,"CodeMirror-overwrite"):Qs(this.display.cursorDiv,"CodeMirror-overwrite"),Ds(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Wr()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Le((function(t,e){null==t&&null==e||ji(this),null!=t&&(this.curOp.scrollLeft=t),null!=e&&(this.curOp.scrollTop=e)})),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-Xt(this)-this.display.barHeight,width:t.scrollWidth-Xt(this)-this.display.barWidth,clientHeight:Yt(this),clientWidth:Gt(this)}},scrollIntoView:Le((function(t,e){if(null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:jo(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line)ji(this),this.curOp.scrollToPos=t;else{var i=$i(this,Math.min(t.from.left,t.to.left),Math.min(t.from.top,t.to.top)-t.margin,Math.max(t.from.right,t.to.right),Math.max(t.from.bottom,t.to.bottom)+t.margin);this.scrollTo(i.scrollLeft,i.scrollTop)}})),setSize:Le((function(t,e){function i(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t}var n=this;null!=t&&(n.display.wrapper.style.width=i(t)),null!=e&&(n.display.wrapper.style.height=i(e)),n.options.lineWrapping&&se(this);var r=n.display.viewFrom;n.doc.iter(r,n.display.viewTo,(function(t){if(t.widgets)for(var e=0;e<t.widgets.length;e++)if(t.widgets[e].noHScroll){Ne(n,r,"widget");break}++r})),n.curOp.forceUpdate=!0,Ds(n,"refresh",this)})),operation:function(t){return Pe(this,t)},refresh:Le((function(){var t=this.display.cachedTextHeight;$e(this),this.curOp.forceUpdate=!0,ae(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),u(this),(null==t||Math.abs(t-ye(this.display))>.5)&&s(this),Ds(this,"refresh",this)})),swapDoc:Le((function(t){var e=this.doc;return e.cm=null,Kn(this,t),ae(this),this.display.input.reset(),this.scrollTo(t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,Cr(this,"swapDoc",this,e),e})),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Pr(t);var ts=t.defaults={},es=t.optionHandlers={},is=t.Init={toString:function(){return"CodeMirror.Init"}};Ui("value","",(function(t,e){t.setValue(e)}),!0),Ui("mode",null,(function(t,e){t.doc.modeOption=e,i(t)}),!0),Ui("indentUnit",2,i,!0),Ui("indentWithTabs",!1),Ui("smartIndent",!0),Ui("tabSize",4,(function(t){n(t),ae(t),$e(t)}),!0),Ui("lineSeparator",null,(function(t,e){if(t.doc.lineSep=e,e){var i=[],n=t.doc.first;t.doc.iter((function(t){for(var r=0;;){var o=t.text.indexOf(e,r);if(-1==o)break;r=o+e.length,i.push(jo(n,o))}n++}));for(var r=i.length-1;r>=0;r--)Li(t.doc,e,i[r],jo(i[r].line,i[r].ch+e.length))}})),Ui("specialChars",/[\u0000-\u001f\u007f\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,(function(e,i,n){e.state.specialChars=new RegExp(i.source+(i.test("\t")?"":"|\t"),"g"),n!=t.Init&&e.refresh()})),Ui("specialCharPlaceholder",Fn,(function(t){t.refresh()}),!0),Ui("electricChars",!0),Ui("inputStyle",Po?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),Ui("rtlMoveVisually",!Oo),Ui("wholeLineUpdateBefore",!0),Ui("theme","default",(function(t){a(t),l(t)}),!0),Ui("keyMap","default",(function(e,i,n){var r=Xi(i),o=n!=t.Init&&Xi(n);o&&o.detach&&o.detach(e,r),r.attach&&r.attach(e,o||null)})),Ui("extraKeys",null),Ui("lineWrapping",!1,r,!0),Ui("gutters",[],(function(t){p(t.options),l(t)}),!0),Ui("fixedGutter",!0,(function(t,e){t.display.gutters.style.left=e?C(t.display)+"px":"0",t.refresh()}),!0),Ui("coverGutterNextToScrollbar",!1,(function(t){y(t)}),!0),Ui("scrollbarStyle","native",(function(t){v(t),y(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)}),!0),Ui("lineNumbers",!1,(function(t){p(t.options),l(t)}),!0),Ui("firstLineNumber",1,l,!0),Ui("lineNumberFormatter",(function(t){return t}),l,!0),Ui("showCursorWhenSelecting",!1,It,!0),Ui("resetSelectionOnContextMenu",!0),Ui("lineWiseCopyCut",!0),Ui("readOnly",!1,(function(t,e){"nocursor"==e?(vi(t),t.display.input.blur(),t.display.disabled=!0):t.display.disabled=!1,t.display.input.readOnlyChanged(e)})),Ui("disableInput",!1,(function(t,e){e||t.display.input.reset()}),!0),Ui("dragDrop",!0,He),Ui("allowDropFileTypes",null),Ui("cursorBlinkRate",530),Ui("cursorScrollMargin",0),Ui("cursorHeight",1,It,!0),Ui("singleCursorHeightPerLine",!0,It,!0),Ui("workTime",100),Ui("workDelay",100),Ui("flattenSpans",!0,n,!0),Ui("addModeClass",!1,n,!0),Ui("pollInterval",100),Ui("undoDepth",200,(function(t,e){t.doc.history.undoDepth=e})),Ui("historyEventDelay",1250),Ui("viewportMargin",10,(function(t){t.refresh()}),!0),Ui("maxHighlightLength",1e4,n,!0),Ui("moveInputWithCursor",!0,(function(t,e){e||t.display.input.resetPosition()})),Ui("tabindex",null,(function(t,e){t.display.input.getField().tabIndex=e||""})),Ui("autofocus",null);var ns=t.modes={},rs=t.mimeModes={};t.defineMode=function(e,i){t.defaults.mode||"null"==e||(t.defaults.mode=e),arguments.length>2&&(i.dependencies=Array.prototype.slice.call(arguments,2)),ns[e]=i},t.defineMIME=function(t,e){rs[t]=e},t.resolveMode=function(e){if("string"==typeof e&&rs.hasOwnProperty(e))e=rs[e];else if(e&&"string"==typeof e.name&&rs.hasOwnProperty(e.name)){var i=rs[e.name];"string"==typeof i&&(i={name:i}),(e=Nr(i,e)).name=i.name}else if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return t.resolveMode("application/xml");return"string"==typeof e?{name:e}:e||{name:"null"}},t.getMode=function(e,i){i=t.resolveMode(i);var n=ns[i.name];if(!n)return t.getMode(e,"text/plain");var r=n(e,i);if(os.hasOwnProperty(i.name)){var o=os[i.name];for(var s in o)o.hasOwnProperty(s)&&(r.hasOwnProperty(s)&&(r["_"+s]=r[s]),r[s]=o[s])}if(r.name=i.name,i.helperType&&(r.helperType=i.helperType),i.modeProps)for(var s in i.modeProps)r[s]=i.modeProps[s];return r},t.defineMode("null",(function(){return{token:function(t){t.skipToEnd()}}})),t.defineMIME("text/plain","null");var os=t.modeExtensions={};t.extendMode=function(t,e){zr(e,os.hasOwnProperty(t)?os[t]:os[t]={})},t.defineExtension=function(e,i){t.prototype[e]=i},t.defineDocExtension=function(t,e){Cs.prototype[t]=e},t.defineOption=Ui;var ss=[];t.defineInitHook=function(t){ss.push(t)};var as=t.helpers={};t.registerHelper=function(e,i,n){as.hasOwnProperty(e)||(as[e]=t[e]={_global:[]}),as[e][i]=n},t.registerGlobalHelper=function(e,i,n,r){t.registerHelper(e,i,r),as[e]._global.push({pred:n,val:r})};var ls=t.copyState=function(t,e){if(!0===e)return e;if(t.copyState)return t.copyState(e);var i={};for(var n in e){var r=e[n];r instanceof Array&&(r=r.concat([])),i[n]=r}return i},cs=t.startState=function(t,e,i){return!t.startState||t.startState(e,i)};t.innerMode=function(t,e){for(;t.innerMode;){var i=t.innerMode(e);if(!i||i.mode==t)break;e=i.state,t=i.mode}return i||{mode:t,state:e}};var us=t.commands={selectAll:function(t){t.setSelection(jo(t.firstLine(),0),jo(t.lastLine()),zs)},singleSelection:function(t){t.setSelection(t.getCursor("anchor"),t.getCursor("head"),zs)},killLine:function(t){Ri(t,(function(e){if(e.empty()){var i=Qn(t.doc,e.head.line).text.length;return e.head.ch==i&&e.head.line<t.lastLine()?{from:e.head,to:jo(e.head.line+1,0)}:{from:e.head,to:jo(e.head.line,i)}}return{from:e.from(),to:e.to()}}))},deleteLine:function(t){Ri(t,(function(e){return{from:jo(e.from().line,0),to:mt(t.doc,jo(e.to().line+1,0))}}))},delLineLeft:function(t){Ri(t,(function(t){return{from:jo(t.from().line,0),to:t.from()}}))},delWrappedLineLeft:function(t){Ri(t,(function(e){var i=t.charCoords(e.head,"div").top+5;return{from:t.coordsChar({left:0,top:i},"div"),to:e.from()}}))},delWrappedLineRight:function(t){Ri(t,(function(e){var i=t.charCoords(e.head,"div").top+5,n=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:i},"div");return{from:e.from(),to:n}}))},undo:function(t){t.undo()},redo:function(t){t.redo()},undoSelection:function(t){t.undoSelection()},redoSelection:function(t){t.redoSelection()},goDocStart:function(t){t.extendSelection(jo(t.firstLine(),0))},goDocEnd:function(t){t.extendSelection(jo(t.lastLine()))},goLineStart:function(t){t.extendSelectionsBy((function(e){return oo(t,e.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(t){t.extendSelectionsBy((function(e){return ao(t,e.head)}),{origin:"+move",bias:1})},goLineEnd:function(t){t.extendSelectionsBy((function(e){return so(t,e.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(t){t.extendSelectionsBy((function(e){var i=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:i},"div")}),Fs)},goLineLeft:function(t){t.extendSelectionsBy((function(e){var i=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:i},"div")}),Fs)},goLineLeftSmart:function(t){t.extendSelectionsBy((function(e){var i=t.charCoords(e.head,"div").top+5,n=t.coordsChar({left:0,top:i},"div");return n.ch<t.getLine(n.line).search(/\S/)?ao(t,e.head):n}),Fs)},goLineUp:function(t){t.moveV(-1,"line")},goLineDown:function(t){t.moveV(1,"line")},goPageUp:function(t){t.moveV(-1,"page")},goPageDown:function(t){t.moveV(1,"page")},goCharLeft:function(t){t.moveH(-1,"char")},goCharRight:function(t){t.moveH(1,"char")},goColumnLeft:function(t){t.moveH(-1,"column")},goColumnRight:function(t){t.moveH(1,"column")},goWordLeft:function(t){t.moveH(-1,"word")},goGroupRight:function(t){t.moveH(1,"group")},goGroupLeft:function(t){t.moveH(-1,"group")},goWordRight:function(t){t.moveH(1,"word")},delCharBefore:function(t){t.deleteH(-1,"char")},delCharAfter:function(t){t.deleteH(1,"char")},delWordBefore:function(t){t.deleteH(-1,"word")},delWordAfter:function(t){t.deleteH(1,"word")},delGroupBefore:function(t){t.deleteH(-1,"group")},delGroupAfter:function(t){t.deleteH(1,"group")},indentAuto:function(t){t.indentSelection("smart")},indentMore:function(t){t.indentSelection("add")},indentLess:function(t){t.indentSelection("subtract")},insertTab:function(t){t.replaceSelection("\t")},insertSoftTab:function(t){for(var e=[],i=t.listSelections(),n=t.options.tabSize,r=0;r<i.length;r++){var o=i[r].from(),s=qs(t.getLine(o.line),o.ch,n);e.push(Lr(n-s%n))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){Pe(t,(function(){for(var e=t.listSelections(),i=[],n=0;n<e.length;n++){var r=e[n].head,o=Qn(t.doc,r.line).text;if(o)if(r.ch==o.length&&(r=new jo(r.line,r.ch-1)),r.ch>0)r=new jo(r.line,r.ch+1),t.replaceRange(o.charAt(r.ch-1)+o.charAt(r.ch-2),jo(r.line,r.ch-2),r,"+transpose");else if(r.line>t.doc.first){var s=Qn(t.doc,r.line-1).text;s&&t.replaceRange(o.charAt(0)+t.doc.lineSeparator()+s.charAt(s.length-1),jo(r.line-1,s.length-1),jo(r.line,1),"+transpose")}i.push(new ht(r,r))}t.setSelections(i)}))},newlineAndIndent:function(t){Pe(t,(function(){for(var e=t.listSelections().length,i=0;e>i;i++){var n=t.listSelections()[i];t.replaceRange(t.doc.lineSeparator(),n.anchor,n.head,"+input"),t.indentLine(n.from().line+1,null,!0)}zi(t)}))},openLine:function(t){t.replaceSelection("\n","start")},toggleOverwrite:function(t){t.toggleOverwrite()}},hs=t.keyMap={};hs.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},hs.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},hs.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},hs.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},hs.default=Mo?hs.macDefault:hs.pcDefault,t.normalizeKeyMap=function(t){var e={};for(var i in t)if(t.hasOwnProperty(i)){var n=t[i];if(/^(name|fallthrough|(de|at)tach)$/.test(i))continue;if("..."==n){delete t[i];continue}for(var r=Ir(i.split(" "),Wi),o=0;o<r.length;o++){var s,a;o==r.length-1?(a=r.join(" "),s=n):(a=r.slice(0,o+1).join(" "),s="...");var l=e[a];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+a)}else e[a]=s}delete t[i]}for(var c in e)t[c]=e[c];return t};var ds=t.lookupKey=function(t,e,i,n){var r=(e=Xi(e)).call?e.call(t,n):e[t];if(!1===r)return"nothing";if("..."===r)return"multi";if(null!=r&&i(r))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return ds(t,e.fallthrough,i,n);for(var o=0;o<e.fallthrough.length;o++){var s=ds(t,e.fallthrough[o],i,n);if(s)return s}}},ps=t.isModifierKey=function(t){var e="string"==typeof t?t:oa[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e},fs=t.keyName=function(t,e){if(Co&&34==t.keyCode&&t.char)return!1;var i=oa[t.keyCode],n=i;return null!=n&&!t.altGraphKey&&(t.altKey&&"Alt"!=i&&(n="Alt-"+n),(Io?t.metaKey:t.ctrlKey)&&"Ctrl"!=i&&(n="Ctrl-"+n),(Io?t.ctrlKey:t.metaKey)&&"Cmd"!=i&&(n="Cmd-"+n),!e&&t.shiftKey&&"Shift"!=i&&(n="Shift-"+n),n)};t.fromTextArea=function(e,i){function n(){e.value=l.getValue()}if((i=i?zr(i):{}).value=e.value,!i.tabindex&&e.tabIndex&&(i.tabindex=e.tabIndex),!i.placeholder&&e.placeholder&&(i.placeholder=e.placeholder),null==i.autofocus){var r=Wr();i.autofocus=r==e||null!=e.getAttribute("autofocus")&&r==document.body}if(e.form&&(Ms(e.form,"submit",n),!i.leaveSubmitMethodAlone)){var o=e.form,s=o.submit;try{var a=o.submit=function(){n(),o.submit=s,o.submit(),o.submit=a}}catch(t){}}i.finishInit=function(t){t.save=n,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,n(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(Os(e.form,"submit",n),"function"==typeof e.form.submit&&(e.form.submit=s))}},e.style.display="none";var l=t((function(t){e.parentNode.insertBefore(t,e.nextSibling)}),i);return l};var ms=t.StringStream=function(t,e){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};ms.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(t){var e=this.string.charAt(this.pos);if("string"==typeof t)var i=e==t;else i=e&&(t.test?t.test(e):t(e));return i?(++this.pos,e):void 0},eatWhile:function(t){for(var e=this.pos;this.eat(t););return this.pos>e},eatSpace:function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},skipToEnd:function(){this.pos=this.string.length},skipTo:function(t){var e=this.string.indexOf(t,this.pos);return e>-1?(this.pos=e,!0):void 0},backUp:function(t){this.pos-=t},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=qs(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?qs(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return qs(this.string,null,this.tabSize)-(this.lineStart?qs(this.string,this.lineStart,this.tabSize):0)},match:function(t,e,i){if("string"!=typeof t){var n=this.string.slice(this.pos).match(t);return n&&n.index>0?null:(n&&!1!==e&&(this.pos+=n[0].length),n)}var r=function(t){return i?t.toLowerCase():t};return r(this.string.substr(this.pos,t.length))==r(t)?(!1!==e&&(this.pos+=t.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}}};var gs=0,vs=t.TextMarker=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++gs};Pr(vs),vs.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&we(t),Er(this,"clear")){var i=this.find();i&&Cr(this,"clear",i.from,i.to)}for(var n=null,r=null,o=0;o<this.lines.length;++o){var s=this.lines[o],a=Zi(s.markedSpans,this);t&&!this.collapsed?Ne(t,er(s),"text"):t&&(null!=a.to&&(r=er(s)),null!=a.from&&(n=er(s))),s.markedSpans=tn(s.markedSpans,a),null==a.from&&this.collapsed&&!_n(this.doc,s)&&t&&tr(s,ye(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(o=0;o<this.lines.length;++o){var l=yn(this.lines[o]),c=h(l);c>t.display.maxLineLength&&(t.display.maxLine=l,t.display.maxLineLength=c,t.display.maxLineChanged=!0)}null!=n&&t&&this.collapsed&&$e(t,n,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Pt(t.doc)),t&&Cr(t,"markerCleared",t,this),e&&_e(t),this.parent&&this.parent.clear()}},vs.prototype.find=function(t,e){null==t&&"bookmark"==this.type&&(t=1);for(var i,n,r=0;r<this.lines.length;++r){var o=this.lines[r],s=Zi(o.markedSpans,this);if(null!=s.from&&(i=jo(e?o:er(o),s.from),-1==t))return i;if(null!=s.to&&(n=jo(e?o:er(o),s.to),1==t))return n}return i&&{from:i,to:n}},vs.prototype.changed=function(){var t=this.find(-1,!0),e=this,i=this.doc.cm;t&&i&&Pe(i,(function(){var n=t.line,r=er(t.line),o=Zt(i,r);if(o&&(oe(o),i.curOp.selectionChanged=i.curOp.forceUpdate=!0),i.curOp.updateMaxLine=!0,!_n(e.doc,n)&&null!=e.height){var s=e.height;e.height=null;var a=Sn(e)-s;a&&tr(n,n.height+a)}}))},vs.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=Dr(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},vs.prototype.detachLine=function(t){if(this.lines.splice(Dr(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}};gs=0;var ys=t.SharedTextMarker=function(t,e){this.markers=t,this.primary=e;for(var i=0;i<t.length;++i)t[i].parent=this};Pr(ys),ys.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();Cr(this,"clear")}},ys.prototype.find=function(t,e){return this.primary.find(t,e)};var bs=t.LineWidget=function(t,e,i){if(i)for(var n in i)i.hasOwnProperty(n)&&(this[n]=i[n]);this.doc=t,this.node=e};Pr(bs),bs.prototype.clear=function(){var t=this.doc.cm,e=this.line.widgets,i=this.line,n=er(i);if(null!=n&&e){for(var r=0;r<e.length;++r)e[r]==this&&e.splice(r--,1);e.length||(i.widgets=null);var o=Sn(this);tr(i,Math.max(0,i.height-o)),t&&Pe(t,(function(){Cn(t,i,-o),Ne(t,n,"widget")}))}},bs.prototype.changed=function(){var t=this.height,e=this.doc.cm,i=this.line;this.height=null;var n=Sn(this)-t;n&&(tr(i,i.height+n),e&&Pe(e,(function(){e.curOp.forceUpdate=!0,Cn(e,i,n)})))};var ws=t.Line=function(t,e,i){this.text=t,un(this,e),this.height=i?i(this):1};Pr(ws),ws.prototype.lineNo=function(){return er(this)};var xs={},_s={};Gn.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var i=t,n=t+e;n>i;++i){var r=this.lines[i];this.height-=r.height,En(r),Cr(r,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,i){this.height+=i,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var n=0;n<e.length;++n)e[n].parent=this},iterN:function(t,e,i){for(var n=t+e;n>t;++t)if(i(this.lines[t]))return!0}},Yn.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var i=0;i<this.children.length;++i){var n=this.children[i],r=n.chunkSize();if(r>t){var o=Math.min(e,r-t),s=n.height;if(n.removeInner(t,o),this.height-=s-n.height,r==o&&(this.children.splice(i--,1),n.parent=null),0==(e-=o))break;t=0}else t-=r}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof Gn))){var a=[];this.collapse(a),this.children=[new Gn(a)],this.children[0].parent=this}},collapse:function(t){
for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,i){this.size+=e.length,this.height+=i;for(var n=0;n<this.children.length;++n){var r=this.children[n],o=r.chunkSize();if(o>=t){if(r.insertInner(t,e,i),r.lines&&r.lines.length>50){for(var s=r.lines.length%25+25,a=s;a<r.lines.length;){var l=new Gn(r.lines.slice(a,a+=25));r.height-=l.height,this.children.splice(++n,0,l),l.parent=this}r.lines=r.lines.slice(0,s),this.maybeSpill()}break}t-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=new Yn(t.children.splice(t.children.length-5,5));if(t.parent){t.size-=e.size,t.height-=e.height;var i=Dr(t.parent.children,t);t.parent.children.splice(i+1,0,e)}else{var n=new Yn(t.children);n.parent=t,t.children=[n,e],t=n}e.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,i){for(var n=0;n<this.children.length;++n){var r=this.children[n],o=r.chunkSize();if(o>t){var s=Math.min(e,o-t);if(r.iterN(t,s,i))return!0;if(0==(e-=s))break;t=0}else t-=o}}};var ks=0,Cs=t.Doc=function(t,e,i,n){if(!(this instanceof Cs))return new Cs(t,e,i,n);null==i&&(i=0),Yn.call(this,[new Gn([new ws("",null)])]),this.first=i,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=i;var r=jo(i,0);this.sel=pt(r),this.history=new or(null),this.id=++ks,this.modeOption=e,this.lineSep=n,this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),Xn(this,{from:r,to:r,text:t}),Tt(this,pt(r),zs)};Cs.prototype=Nr(Yn.prototype,{constructor:Cs,iter:function(t,e,i){i?this.iterN(t-this.first,e-t,i):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var i=0,n=0;n<e.length;++n)i+=e[n].height;this.insertInner(t-this.first,e,i)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=Zn(this,this.first,this.first+this.size);return!1===t?e:e.join(t||this.lineSeparator())},setValue:Oe((function(t){var e=jo(this.first,0),i=this.first+this.size-1;Si(this,{from:e,to:jo(i,Qn(this,i).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),Tt(this,pt(e))})),replaceRange:function(t,e,i,n){Li(this,t,e=mt(this,e),i=i?mt(this,i):e,n)},getRange:function(t,e,i){var n=Jn(this,mt(this,t),mt(this,e));return!1===i?n:n.join(i||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){return vt(this,t)?Qn(this,t):void 0},getLineNumber:function(t){return er(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=Qn(this,t)),yn(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return mt(this,t)},getCursor:function(t){var e=this.sel.primary();return null==t||"head"==t?e.head:"anchor"==t?e.anchor:"end"==t||"to"==t||!1===t?e.to():e.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Oe((function(t,e,i){kt(this,mt(this,"number"==typeof t?jo(t,e||0):t),null,i)})),setSelection:Oe((function(t,e,i){kt(this,mt(this,t),mt(this,e||t),i)})),extendSelection:Oe((function(t,e,i){wt(this,mt(this,t),e&&mt(this,e),i)})),extendSelections:Oe((function(t,e){xt(this,yt(this,t),e)})),extendSelectionsBy:Oe((function(t,e){xt(this,yt(this,Ir(this.sel.ranges,t)),e)})),setSelections:Oe((function(t,e,i){if(t.length){for(var n=0,r=[];n<t.length;n++)r[n]=new ht(mt(this,t[n].anchor),mt(this,t[n].head));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),Tt(this,dt(r,e),i)}})),addSelection:Oe((function(t,e,i){var n=this.sel.ranges.slice(0);n.push(new ht(mt(this,t),mt(this,e||t))),Tt(this,dt(n,n.length-1),i)})),getSelection:function(t){for(var e,i=this.sel.ranges,n=0;n<i.length;n++){var r=Jn(this,i[n].from(),i[n].to());e=e?e.concat(r):r}return!1===t?e:e.join(t||this.lineSeparator())},getSelections:function(t){for(var e=[],i=this.sel.ranges,n=0;n<i.length;n++){var r=Jn(this,i[n].from(),i[n].to());!1!==t&&(r=r.join(t||this.lineSeparator())),e[n]=r}return e},replaceSelection:function(t,e,i){for(var n=[],r=0;r<this.sel.ranges.length;r++)n[r]=t;this.replaceSelections(n,e,i||"+input")},replaceSelections:Oe((function(t,e,i){for(var n=[],r=this.sel,o=0;o<r.ranges.length;o++){var s=r.ranges[o];n[o]={from:s.from(),to:s.to(),text:this.splitLines(t[o]),origin:i}}var a=e&&"end"!=e&&ki(this,n,e);for(o=n.length-1;o>=0;o--)Si(this,n[o]);a?St(this,a):this.cm&&zi(this.cm)})),undo:Oe((function(){Ai(this,"undo")})),redo:Oe((function(){Ai(this,"redo")})),undoSelection:Oe((function(){Ai(this,"undo",!0)})),redoSelection:Oe((function(){Ai(this,"redo",!0)})),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,i=0,n=0;n<t.done.length;n++)t.done[n].ranges||++e;for(n=0;n<t.undone.length;n++)t.undone[n].ranges||++i;return{undo:e,redo:i}},clearHistory:function(){this.history=new or(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:gr(this.history.done),undone:gr(this.history.undone)}},setHistory:function(t){var e=this.history=new or(this.history.maxGeneration);e.done=gr(t.done.slice(0),null,!0),e.undone=gr(t.undone.slice(0),null,!0)},addLineClass:Oe((function(t,e,i){return qi(this,t,"gutter"==e?"gutter":"class",(function(t){var n="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass";if(t[n]){if(Xr(i).test(t[n]))return!1;t[n]+=" "+i}else t[n]=i;return!0}))})),removeLineClass:Oe((function(t,e,i){return qi(this,t,"gutter"==e?"gutter":"class",(function(t){var n="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass",r=t[n];if(!r)return!1;if(null==i)t[n]=null;else{var o=r.match(Xr(i));if(!o)return!1;var s=o.index+o[0].length;t[n]=r.slice(0,o.index)+(o.index&&s!=r.length?" ":"")+r.slice(s)||null}return!0}))})),addLineWidget:Oe((function(t,e,i){return Tn(this,t,e,i)})),removeLineWidget:function(t){t.clear()},markText:function(t,e,i){return Gi(this,mt(this,t),mt(this,e),i,i&&i.type||"range")},setBookmark:function(t,e){var i={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return Gi(this,t=mt(this,t),t,i,"bookmark")},findMarksAt:function(t){var e=[],i=Qn(this,(t=mt(this,t)).line).markedSpans;if(i)for(var n=0;n<i.length;++n){var r=i[n];(null==r.from||r.from<=t.ch)&&(null==r.to||r.to>=t.ch)&&e.push(r.marker.parent||r.marker)}return e},findMarks:function(t,e,i){t=mt(this,t),e=mt(this,e);var n=[],r=t.line;return this.iter(t.line,e.line+1,(function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];null!=l.to&&r==t.line&&t.ch>=l.to||null==l.from&&r!=t.line||null!=l.from&&r==e.line&&l.from>=e.ch||i&&!i(l.marker)||n.push(l.marker.parent||l.marker)}++r})),n},getAllMarks:function(){var t=[];return this.iter((function(e){var i=e.markedSpans;if(i)for(var n=0;n<i.length;++n)null!=i[n].from&&t.push(i[n].marker)})),t},posFromIndex:function(t){var e,i=this.first,n=this.lineSeparator().length;return this.iter((function(r){var o=r.text.length+n;return o>t?(e=t,!0):(t-=o,void++i)})),mt(this,jo(i,e))},indexFromPos:function(t){var e=(t=mt(this,t)).ch;if(t.line<this.first||t.ch<0)return 0;var i=this.lineSeparator().length;return this.iter(this.first,t.line,(function(t){e+=t.text.length+i})),e},copy:function(t){var e=new Cs(Zn(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,i=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<i&&(i=t.to);var n=new Cs(Zn(this,e,i),t.mode||this.modeOption,e,this.lineSep);return t.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:t.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],Ki(n,Vi(this)),n},unlinkDoc:function(e){if(e instanceof t&&(e=e.doc),this.linked)for(var i=0;i<this.linked.length;++i){if(this.linked[i].doc==e){this.linked.splice(i,1),e.unlinkDoc(this),Qi(Vi(this));break}}if(e.history==this.history){var n=[e.id];Vn(e,(function(t){n.push(t.id)}),!0),e.history=new or(null),e.history.done=gr(this.history.done,n),e.history.undone=gr(this.history.undone,n)}},iterLinkedDocs:function(t){Vn(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):ea(t)},lineSeparator:function(){return this.lineSep||"\n"}}),Cs.prototype.eachLine=Cs.prototype.iter;var Ss="iter insert remove copy getEditor constructor".split(" ");for(var Ts in Cs.prototype)Cs.prototype.hasOwnProperty(Ts)&&Dr(Ss,Ts)<0&&(t.prototype[Ts]=function(t){return function(){return t.apply(this.doc,arguments)}}(Cs.prototype[Ts]));Pr(Cs);var As=t.e_preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},Es=t.e_stopPropagation=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},Ps=t.e_stop=function(t){As(t),Es(t)},Ms=t.on=function(t,e,i){if(t.addEventListener)t.addEventListener(e,i,!1);else if(t.attachEvent)t.attachEvent("on"+e,i);else{var n=t._handlers||(t._handlers={});(n[e]||(n[e]=[])).push(i)}},Ls=[],Os=t.off=function(t,e,i){if(t.removeEventListener)t.removeEventListener(e,i,!1);else if(t.detachEvent)t.detachEvent("on"+e,i);else for(var n=kr(t,e,!1),r=0;r<n.length;++r)if(n[r]==i){n.splice(r,1);break}},Ds=t.signal=function(t,e){var i=kr(t,e,!0);if(i.length)for(var n=Array.prototype.slice.call(arguments,2),r=0;r<i.length;++r)i[r].apply(null,n)},Is=null,$s=30,Ns=t.Pass={toString:function(){return"CodeMirror.Pass"}},zs={scroll:!1},js={origin:"*mouse"},Fs={origin:"+move"};Mr.prototype.set=function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)};var qs=t.countColumn=function(t,e,i,n,r){null==e&&(-1==(e=t.search(/[^\s\u00a0]/))&&(e=t.length));for(var o=n||0,s=r||0;;){var a=t.indexOf("\t",o);if(0>a||a>=e)return s+(e-o);s+=a-o,s+=i-s%i,o=a+1}},Rs=t.findColumn=function(t,e,i){for(var n=0,r=0;;){var o=t.indexOf("\t",n);-1==o&&(o=t.length);var s=o-n;if(o==t.length||r+s>=e)return n+Math.min(s,e-r);if(r+=o-n,n=o+1,(r+=i-r%i)>=e)return n}},Bs=[""],Hs=function(t){t.select()};Eo?Hs=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:bo&&(Hs=function(t){try{t.select()}catch(t){}});var Us,Ws=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Xs=t.isWordChar=function(t){return/\w/.test(t)||t>"\x80"&&(t.toUpperCase()!=t.toLowerCase()||Ws.test(t))},Gs=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;Us=document.createRange?function(t,e,i,n){var r=document.createRange();return r.setEnd(n||t,i),r.setStart(t,e),r}:function(t,e,i){var n=document.body.createTextRange();try{n.moveToElementText(t.parentNode)}catch(t){return n}return n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",e),n};var Ys=t.contains=function(t,e){if(3==e.nodeType&&(e=e.parentNode),t.contains)return t.contains(e);do{if(11==e.nodeType&&(e=e.host),e==t)return!0}while(e=e.parentNode)};bo&&11>wo&&(Wr=function(){try{return document.activeElement}catch(t){return document.body}});var Vs,Ks,Qs=t.rmClass=function(t,e){var i=t.className,n=Xr(e).exec(i);if(n){var r=i.slice(n.index+n[0].length);t.className=i.slice(0,n.index)+(r?n[1]+r:"")}},Js=t.addClass=function(t,e){var i=t.className;Xr(e).test(i)||(t.className+=(i?" ":"")+e)},Zs=!1,ta=function(){if(bo&&9>wo)return!1;var t=Br("div");return"draggable"in t||"dragDrop"in t}(),ea=t.splitLines=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,i=[],n=t.length;n>=e;){var r=t.indexOf("\n",e);-1==r&&(r=t.length);var o=t.slice(e,"\r"==t.charAt(r-1)?r-1:r),s=o.indexOf("\r");-1!=s?(i.push(o.slice(0,s)),e+=s+1):(i.push(o),e=r+1)}return i}:function(t){return t.split(/\r\n?|\n/)},ia=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(t){return!1}}:function(t){try{var e=t.ownerDocument.selection.createRange()}catch(t){}return!(!e||e.parentElement()!=t)&&0!=e.compareEndPoints("StartToEnd",e)},na=function(){var t=Br("div");return"oncopy"in t||(t.setAttribute("oncopy","return;"),"function"==typeof t.oncopy)}(),ra=null,oa=t.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};!function(){for(var t=0;10>t;t++)oa[t+48]=oa[t+96]=String(t);for(t=65;90>=t;t++)oa[t]=String.fromCharCode(t);for(t=1;12>=t;t++)oa[t+111]=oa[t+63235]="F"+t}();var sa,aa=function(){function t(t){return 247>=t?i.charAt(t):t>=1424&&1524>=t?"R":t>=1536&&1773>=t?n.charAt(t-1536):t>=1774&&2220>=t?"r":t>=8192&&8203>=t?"w":8204==t?"b":"L"}function e(t,e,i){this.level=t,this.from=e,this.to=i}var i="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",n="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,s=/[LRr]/,a=/[Lb1n]/,l=/[1n]/,c="L";return function(i){if(!r.test(i))return!1;for(var n=i.length,u=[],h=0;n>h;++h)u.push(v=t(i.charCodeAt(h)));h=0;for(var d=c;n>h;++h){"m"==(v=u[h])?u[h]=d:d=v}h=0;for(var p=c;n>h;++h){"1"==(v=u[h])&&"r"==p?u[h]="n":s.test(v)&&(p=v,"r"==v&&(u[h]="R"))}for(h=1,d=u[0];n-1>h;++h){"+"==(v=u[h])&&"1"==d&&"1"==u[h+1]?u[h]="1":","!=v||d!=u[h+1]||"1"!=d&&"n"!=d||(u[h]=d),d=v}for(h=0;n>h;++h){if(","==(v=u[h]))u[h]="N";else if("%"==v){for(var f=h+1;n>f&&"%"==u[f];++f);for(var m=h&&"!"==u[h-1]||n>f&&"1"==u[f]?"1":"N",g=h;f>g;++g)u[g]=m;h=f-1}}for(h=0,p=c;n>h;++h){var v=u[h];"L"==p&&"1"==v?u[h]="L":s.test(v)&&(p=v)}for(h=0;n>h;++h)if(o.test(u[h])){for(f=h+1;n>f&&o.test(u[f]);++f);var y="L"==(h?u[h-1]:c),b="L"==(n>f?u[f]:c);for(m=y||b?"L":"R",g=h;f>g;++g)u[g]=m;h=f-1}var w,x=[];for(h=0;n>h;)if(a.test(u[h])){var _=h;for(++h;n>h&&a.test(u[h]);++h);x.push(new e(0,_,h))}else{var k=h,C=x.length;for(++h;n>h&&"L"!=u[h];++h);for(g=k;h>g;)if(l.test(u[g])){g>k&&x.splice(C,0,new e(1,k,g));var S=g;for(++g;h>g&&l.test(u[g]);++g);x.splice(C,0,new e(2,S,g)),k=g}else++g;h>k&&x.splice(C,0,new e(1,k,h))}return 1==x[0].level&&(w=i.match(/^\s+/))&&(x[0].from=w[0].length,x.unshift(new e(0,0,w[0].length))),1==Or(x).level&&(w=i.match(/\s+$/))&&(Or(x).to-=w[0].length,x.push(new e(0,n-w[0].length,n))),2==x[0].level&&x.unshift(new e(1,x[0].to,x[0].to)),x[0].level!=Or(x).level&&x.push(new e(x[0].level,n,n)),x}}();return t.version="5.15.2",t}))},{}],11:[function(e,i,n){var r;r=function(t){"use strict";var e=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?\xab\xbb\u201c\u201d\u2018\u2019]))/i;t.defineMode("gfm",(function(i,n){function r(t){return t.code=!1,null}var o=0,s={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(t){return{code:t.code,codeBlock:t.codeBlock,ateSpace:t.ateSpace}},token:function(t,i){if(i.combineTokens=null,i.codeBlock)return t.match(/^```+/)?(i.codeBlock=!1,null):(t.skipToEnd(),null);if(t.sol()&&(i.code=!1),t.sol()&&t.match(/^```+/))return t.skipToEnd(),i.codeBlock=!0,null;if("`"===t.peek()){t.next();var r=t.pos;t.eatWhile("`");var s=1+t.pos-r;return i.code?s===o&&(i.code=!1):(o=s,i.code=!0),null}if(i.code)return t.next(),null;if(t.eatSpace())return i.ateSpace=!0,null;if((t.sol()||i.ateSpace)&&(i.ateSpace=!1,!1!==n.gitHubSpice)){if(t.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?:[a-f0-9]{7,40}\b)/))return i.combineTokens=!0,"link";if(t.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return i.combineTokens=!0,"link"}return t.match(e)&&"]("!=t.string.slice(t.start-2,t.start)&&(0==t.start||/\W/.test(t.string.charAt(t.start-1)))?(i.combineTokens=!0,"link"):(t.next(),null)},blankLine:r},a={underscoresBreakWords:!1,taskLists:!0,fencedCodeBlocks:"```",strikethrough:!0};for(var l in n)a[l]=n[l];return a.name="markdown",t.overlayMode(t.getMode(i,a),s)}),"markdown"),t.defineMIME("text/x-gfm","gfm")},"object"==typeof n&&"object"==typeof i?r(e("../../lib/codemirror"),e("../markdown/markdown"),e("../../addon/mode/overlay")):"function"==typeof t&&t.amd?t(["../../lib/codemirror","../markdown/markdown","../../addon/mode/overlay"],r):r(CodeMirror)},{"../../addon/mode/overlay":8,"../../lib/codemirror":10,"../markdown/markdown":12}],12:[function(e,i,n){var r;r=function(t){"use strict";t.defineMode("markdown",(function(e,i){function n(i){if(t.findModeByName){var n=t.findModeByName(i);n&&(i=n.mime||n.mimes[0])}var r=t.getMode(e,i);return"null"==r.name?null:r}function r(t,e,i){return e.f=e.inline=i,i(t,e)}function o(t,e,i){return e.f=e.block=i,i(t,e)}function s(t){return!t||!/\S/.test(t.string)}function a(t){return t.linkTitle=!1,t.em=!1,t.strong=!1,t.strikethrough=!1,t.quote=0,t.indentedCode=!1,_&&t.f==c&&(t.f=f,t.block=l),t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.prevLine=t.thisLine,t.thisLine=null,null}function l(e,o){var a=e.sol(),l=!1!==o.list,c=o.indentedCode;o.indentedCode=!1,l&&(o.indentationDiff>=0?(o.indentationDiff<4&&(o.indentation-=o.indentationDiff),o.list=null):o.indentation>0?o.list=null:o.list=!1);var h=null;if(o.indentationDiff>=4)return e.skipToEnd(),c||s(o.prevLine)?(o.indentation-=4,o.indentedCode=!0,k.code):null;if(e.eatSpace())return null;if((h=e.match(P))&&h[1].length<=6)return o.header=h[1].length,i.highlightFormatting&&(o.formatting="header"),o.f=o.inline,d(o);if(!(s(o.prevLine)||o.quote||l||c)&&(h=e.match(M)))return o.header="="==h[0].charAt(0)?1:2,i.highlightFormatting&&(o.formatting="header"),o.f=o.inline,d(o);if(e.eat(">"))return o.quote=a?1:o.quote+1,i.highlightFormatting&&(o.formatting="quote"),e.eatSpace(),d(o);if("["===e.peek())return r(e,o,y);if(e.match(S,!0))return o.hr=!0,k.hr;if((s(o.prevLine)||l)&&(e.match(T,!1)||e.match(A,!1))){var p=null;for(e.match(T,!0)?p="ul":(e.match(A,!0),p="ol"),o.indentation=e.column()+e.current().length,o.list=!0;o.listStack&&e.column()<o.listStack[o.listStack.length-1];)o.listStack.pop();return o.listStack.push(o.indentation),i.taskLists&&e.match(E,!1)&&(o.taskList=!0),o.f=o.inline,i.highlightFormatting&&(o.formatting=["list","list-"+p]),d(o)}return i.fencedCodeBlocks&&(h=e.match(O,!0))?(o.fencedChars=h[1],o.localMode=n(h[2]),o.localMode&&(o.localState=t.startState(o.localMode)),o.f=o.block=u,i.highlightFormatting&&(o.formatting="code-block"),o.code=-1,d(o)):r(e,o,o.inline)}function c(e,i){var n=x.token(e,i.htmlState);if(!_){var r=t.innerMode(x,i.htmlState);("xml"==r.mode.name&&null===r.state.tagStart&&!r.state.context&&r.state.tokenize.isInText||i.md_inside&&e.current().indexOf(">")>-1)&&(i.f=f,i.block=l,i.htmlState=null)}return n}function u(t,e){return e.fencedChars&&t.match(e.fencedChars,!1)?(e.localMode=e.localState=null,e.f=e.block=h,null):e.localMode?e.localMode.token(t,e.localState):(t.skipToEnd(),k.code)}function h(t,e){t.match(e.fencedChars),e.block=l,e.f=f,e.fencedChars=null,i.highlightFormatting&&(e.formatting="code-block"),e.code=1;var n=d(e);return e.code=0,n}function d(t){var e=[];if(t.formatting){e.push(k.formatting),"string"==typeof t.formatting&&(t.formatting=[t.formatting]);for(var n=0;n<t.formatting.length;n++)e.push(k.formatting+"-"+t.formatting[n]),"header"===t.formatting[n]&&e.push(k.formatting+"-"+t.formatting[n]+"-"+t.header),"quote"===t.formatting[n]&&(!i.maxBlockquoteDepth||i.maxBlockquoteDepth>=t.quote?e.push(k.formatting+"-"+t.formatting[n]+"-"+t.quote):e.push("error"))}if(t.taskOpen)return e.push("meta"),e.length?e.join(" "):null;if(t.taskClosed)return e.push("property"),e.length?e.join(" "):null;if(t.linkHref?e.push(k.linkHref,"url"):(t.strong&&e.push(k.strong),t.em&&e.push(k.em),t.strikethrough&&e.push(k.strikethrough),t.linkText&&e.push(k.linkText),t.code&&e.push(k.code)),t.header&&e.push(k.header,k.header+"-"+t.header),t.quote&&(e.push(k.quote),!i.maxBlockquoteDepth||i.maxBlockquoteDepth>=t.quote?e.push(k.quote+"-"+t.quote):e.push(k.quote+"-"+i.maxBlockquoteDepth)),!1!==t.list){var r=(t.listStack.length-1)%3;r?1===r?e.push(k.list2):e.push(k.list3):e.push(k.list1)}return t.trailingSpaceNewLine?e.push("trailing-space-new-line"):t.trailingSpace&&e.push("trailing-space-"+(t.trailingSpace%2?"a":"b")),e.length?e.join(" "):null}function p(t,e){return t.match(L,!0)?d(e):void 0}function f(e,n){var r=n.text(e,n);if(void 0!==r)return r;if(n.list)return n.list=null,d(n);if(n.taskList)return"x"!==e.match(E,!0)[1]?n.taskOpen=!0:n.taskClosed=!0,i.highlightFormatting&&(n.formatting="task"),n.taskList=!1,d(n);if(n.taskOpen=!1,n.taskClosed=!1,n.header&&e.match(/^#+$/,!0))return i.highlightFormatting&&(n.formatting="header"),d(n);var s=e.sol(),a=e.next();if(n.linkTitle){n.linkTitle=!1;var l=a;"("===a&&(l=")");var u="^\\s*(?:[^"+(l=(l+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"))+"\\\\]+|\\\\\\\\|\\\\.)"+l;if(e.match(new RegExp(u),!0))return k.linkHref}if("`"===a){var h=n.formatting;i.highlightFormatting&&(n.formatting="code"),e.eatWhile("`");var p=e.current().length;if(0==n.code)return n.code=p,d(n);if(p==n.code){var f=d(n);return n.code=0,f}return n.formatting=h,d(n)}if(n.code)return d(n);if("\\"===a&&(e.next(),i.highlightFormatting)){var v=d(n),y=k.formatting+"-escape";return v?v+" "+y:y}if("!"===a&&e.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return e.match(/\[[^\]]*\]/),n.inline=n.f=g,k.image;if("["===a&&e.match(/[^\]]*\](\(.*\)| ?\[.*?\])/,!1))return n.linkText=!0,i.highlightFormatting&&(n.formatting="link"),d(n);if("]"===a&&n.linkText&&e.match(/\(.*?\)| ?\[.*?\]/,!1)){i.highlightFormatting&&(n.formatting="link");var v=d(n);return n.linkText=!1,n.inline=n.f=g,v}if("<"===a&&e.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return n.f=n.inline=m,i.highlightFormatting&&(n.formatting="link"),(v=d(n))?v+=" ":v="",v+k.linkInline;if("<"===a&&e.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return n.f=n.inline=m,i.highlightFormatting&&(n.formatting="link"),(v=d(n))?v+=" ":v="",v+k.linkEmail;if("<"===a&&e.match(/^(!--|\w)/,!1)){var b=e.string.indexOf(">",e.pos);if(-1!=b){var w=e.string.substring(e.start,b);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(w)&&(n.md_inside=!0)}return e.backUp(1),n.htmlState=t.startState(x),o(e,n,c)}if("<"===a&&e.match(/^\/\w*?>/))return n.md_inside=!1,"tag";var _=!1;if(!i.underscoresBreakWords&&"_"===a&&"_"!==e.peek()&&e.match(/(\w)/,!1)){var C=e.pos-2;if(C>=0){var S=e.string.charAt(C);"_"!==S&&S.match(/(\w)/,!1)&&(_=!0)}}if("*"===a||"_"===a&&!_)if(s&&" "===e.peek());else{if(n.strong===a&&e.eat(a))return i.highlightFormatting&&(n.formatting="strong"),f=d(n),n.strong=!1,f;if(!n.strong&&e.eat(a))return n.strong=a,i.highlightFormatting&&(n.formatting="strong"),d(n);if(n.em===a)return i.highlightFormatting&&(n.formatting="em"),f=d(n),n.em=!1,f;if(!n.em)return n.em=a,i.highlightFormatting&&(n.formatting="em"),d(n)}else if(" "===a&&(e.eat("*")||e.eat("_"))){if(" "===e.peek())return d(n);e.backUp(1)}if(i.strikethrough)if("~"===a&&e.eatWhile(a)){if(n.strikethrough)return i.highlightFormatting&&(n.formatting="strikethrough"),f=d(n),n.strikethrough=!1,f;if(e.match(/^[^\s]/,!1))return n.strikethrough=!0,i.highlightFormatting&&(n.formatting="strikethrough"),d(n)}else if(" "===a&&e.match(/^~~/,!0)){if(" "===e.peek())return d(n);e.backUp(2)}return" "===a&&(e.match(/ +$/,!1)?n.trailingSpace++:n.trailingSpace&&(n.trailingSpaceNewLine=!0)),d(n)}function m(t,e){if(">"===t.next()){e.f=e.inline=f,i.highlightFormatting&&(e.formatting="link");var n=d(e);return n?n+=" ":n="",n+k.linkInline}return t.match(/^[^>]+/,!0),k.linkInline}function g(t,e){if(t.eatSpace())return null;var n=t.next();return"("===n||"["===n?(e.f=e.inline=v("("===n?")":"]",0),i.highlightFormatting&&(e.formatting="link-string"),e.linkHref=!0,d(e)):"error"}function v(t){return function(e,n){if(e.next()===t){n.f=n.inline=f,i.highlightFormatting&&(n.formatting="link-string");var r=d(n);return n.linkHref=!1,r}return e.match(D[t]),n.linkHref=!0,d(n)}}function y(t,e){return t.match(/^([^\]\\]|\\.)*\]:/,!1)?(e.f=b,t.next(),i.highlightFormatting&&(e.formatting="link"),e.linkText=!0,d(e)):r(t,e,f)}function b(t,e){if(t.match(/^\]:/,!0)){e.f=e.inline=w,i.highlightFormatting&&(e.formatting="link");var n=d(e);return e.linkText=!1,n}return t.match(/^([^\]\\]|\\.)+/,!0),k.linkText}function w(t,e){return t.eatSpace()?null:(t.match(/^[^\s]+/,!0),void 0===t.peek()?e.linkTitle=!0:t.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),e.f=e.inline=f,k.linkHref+" url")}var x=t.getMode(e,"text/html"),_="null"==x.name;void 0===i.highlightFormatting&&(i.highlightFormatting=!1),void 0===i.maxBlockquoteDepth&&(i.maxBlockquoteDepth=0),void 0===i.underscoresBreakWords&&(i.underscoresBreakWords=!0),void 0===i.taskLists&&(i.taskLists=!1),void 0===i.strikethrough&&(i.strikethrough=!1),void 0===i.tokenTypeOverrides&&(i.tokenTypeOverrides={});var k={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"tag",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough"};for(var C in k)k.hasOwnProperty(C)&&i.tokenTypeOverrides[C]&&(k[C]=i.tokenTypeOverrides[C]);var S=/^([*\-_])(?:\s*\1){2,}\s*$/,T=/^[*\-+]\s+/,A=/^[0-9]+([.)])\s+/,E=/^\[(x| )\](?=\s)/,P=i.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,M=/^ *(?:\={1,}|-{1,})\s*$/,L=/^[^#!\[\]*_\\<>` "'(~]+/,O=new RegExp("^("+(!0===i.fencedCodeBlocks?"~~~+|```+":i.fencedCodeBlocks)+")[ \\t]*([\\w+#-]*)"),D={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\\]]|\\.)*\])*?(?=\])/},I={startState:function(){return{f:l,prevLine:null,thisLine:null,block:l,htmlState:null,indentation:0,inline:f,text:p,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,fencedChars:null}},copyState:function(e){return{f:e.f,prevLine:e.prevLine,thisLine:e.thisLine,block:e.block,htmlState:e.htmlState&&t.copyState(x,e.htmlState),indentation:e.indentation,localMode:e.localMode,localState:e.localMode?t.copyState(e.localMode,e.localState):null,inline:e.inline,text:e.text,formatting:!1,linkTitle:e.linkTitle,code:e.code,em:e.em,strong:e.strong,strikethrough:e.strikethrough,header:e.header,hr:e.hr,taskList:e.taskList,list:e.list,listStack:e.listStack.slice(0),quote:e.quote,indentedCode:e.indentedCode,trailingSpace:e.trailingSpace,trailingSpaceNewLine:e.trailingSpaceNewLine,md_inside:e.md_inside,fencedChars:e.fencedChars}},token:function(t,e){if(e.formatting=!1,t!=e.thisLine){var i=e.header||e.hr;if(e.header=0,e.hr=!1,t.match(/^\s*$/,!0)||i){if(a(e),!i)return null;e.prevLine=null}e.prevLine=e.thisLine,e.thisLine=t,e.taskList=!1,e.trailingSpace=0,e.trailingSpaceNewLine=!1,e.f=e.block;var n=t.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;if(e.indentationDiff=Math.min(n-e.indentation,4),e.indentation=e.indentation+e.indentationDiff,n>0)return null}return e.f(t,e)},innerMode:function(t){return t.block==c?{state:t.htmlState,mode:x}:t.localState?{state:t.localState,mode:t.localMode}:{state:t,mode:I}},blankLine:a,getType:d,fold:"markdown"};return I}),"xml"),t.defineMIME("text/x-markdown","markdown")},"object"==typeof n&&"object"==typeof i?r(e("../../lib/codemirror"),e("../xml/xml"),e("../meta")):"function"==typeof t&&t.amd?t(["../../lib/codemirror","../xml/xml","../meta"],r):r(CodeMirror)},{"../../lib/codemirror":10,"../meta":13,"../xml/xml":14}],13:[function(e,i,n){var r;r=function(t){"use strict";t.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["pgp"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists.txt$/},{name:"CoffeeScript",mime:"text/x-coffeescript",mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]
},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"]},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Jade",mime:"text/x-jade",mode:"jade",ext:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"null",mode:"jinja2"},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mime:"text/n-triples",mode:"ntriples",ext:["nt"]},{name:"Objective C",mime:"text/x-objectivec",mode:"clike",ext:["m","mm"],alias:["objective-c","objc"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mime:"application/x-httpd-php",mode:"php",ext:["php","php3","php4","php5","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mime:"text/x-sh",mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki ",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mime:"text/x-yaml",mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]}];for(var e=0;e<t.modeInfo.length;e++){var i=t.modeInfo[e];i.mimes&&(i.mime=i.mimes[0])}t.findModeByMIME=function(e){e=e.toLowerCase();for(var i=0;i<t.modeInfo.length;i++){var n=t.modeInfo[i];if(n.mime==e)return n;if(n.mimes)for(var r=0;r<n.mimes.length;r++)if(n.mimes[r]==e)return n}},t.findModeByExtension=function(e){for(var i=0;i<t.modeInfo.length;i++){var n=t.modeInfo[i];if(n.ext)for(var r=0;r<n.ext.length;r++)if(n.ext[r]==e)return n}},t.findModeByFileName=function(e){for(var i=0;i<t.modeInfo.length;i++){var n=t.modeInfo[i];if(n.file&&n.file.test(e))return n}var r=e.lastIndexOf("."),o=r>-1&&e.substring(r+1,e.length);return o?t.findModeByExtension(o):void 0},t.findModeByName=function(e){e=e.toLowerCase();for(var i=0;i<t.modeInfo.length;i++){var n=t.modeInfo[i];if(n.name.toLowerCase()==e)return n;if(n.alias)for(var r=0;r<n.alias.length;r++)if(n.alias[r].toLowerCase()==e)return n}}},"object"==typeof n&&"object"==typeof i?r(e("../lib/codemirror")):"function"==typeof t&&t.amd?t(["../lib/codemirror"],r):r(CodeMirror)},{"../lib/codemirror":10}],14:[function(e,i,n){var r;r=function(t){"use strict";var e={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},i={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1};t.defineMode("xml",(function(n,r){function o(t,e){function i(i){return e.tokenize=i,i(t,e)}var n=t.next();return"<"==n?t.eat("!")?t.eat("[")?t.match("CDATA[")?i(l("atom","]]>")):null:t.match("--")?i(l("comment","-->")):t.match("DOCTYPE",!0,!0)?(t.eatWhile(/[\w\._\-]/),i(c(1))):null:t.eat("?")?(t.eatWhile(/[\w\._\-]/),e.tokenize=l("meta","?>"),"meta"):(_=t.eat("/")?"closeTag":"openTag",e.tokenize=s,"tag bracket"):"&"==n?(t.eat("#")?t.eat("x")?t.eatWhile(/[a-fA-F\d]/)&&t.eat(";"):t.eatWhile(/[\d]/)&&t.eat(";"):t.eatWhile(/[\w\.\-:]/)&&t.eat(";"))?"atom":"error":(t.eatWhile(/[^&<]/),null)}function s(t,e){var i=t.next();if(">"==i||"/"==i&&t.eat(">"))return e.tokenize=o,_=">"==i?"endTag":"selfcloseTag","tag bracket";if("="==i)return _="equals",null;if("<"==i){e.tokenize=o,e.state=p,e.tagName=e.tagStart=null;var n=e.tokenize(t,e);return n?n+" tag error":"tag error"}return/[\'\"]/.test(i)?(e.tokenize=a(i),e.stringStartCol=t.column(),e.tokenize(t,e)):(t.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function a(t){var e=function(e,i){for(;!e.eol();)if(e.next()==t){i.tokenize=s;break}return"string"};return e.isInAttribute=!0,e}function l(t,e){return function(i,n){for(;!i.eol();){if(i.match(e)){n.tokenize=o;break}i.next()}return t}}function c(t){return function(e,i){for(var n;null!=(n=e.next());){if("<"==n)return i.tokenize=c(t+1),i.tokenize(e,i);if(">"==n){if(1==t){i.tokenize=o;break}return i.tokenize=c(t-1),i.tokenize(e,i)}}return"meta"}}function u(t,e,i){this.prev=t.context,this.tagName=e,this.indent=t.indented,this.startOfLine=i,(S.doNotIndent.hasOwnProperty(e)||t.context&&t.context.noIndent)&&(this.noIndent=!0)}function h(t){t.context&&(t.context=t.context.prev)}function d(t,e){for(var i;;){if(!t.context)return;if(i=t.context.tagName,!S.contextGrabbers.hasOwnProperty(i)||!S.contextGrabbers[i].hasOwnProperty(e))return;h(t)}}function p(t,e,i){return"openTag"==t?(i.tagStart=e.column(),f):"closeTag"==t?m:p}function f(t,e,i){return"word"==t?(i.tagName=e.current(),k="tag",y):(k="error",f)}function m(t,e,i){if("word"==t){var n=e.current();return i.context&&i.context.tagName!=n&&S.implicitlyClosed.hasOwnProperty(i.context.tagName)&&h(i),i.context&&i.context.tagName==n||!1===S.matchClosing?(k="tag",g):(k="tag error",v)}return k="error",v}function g(t,e,i){return"endTag"!=t?(k="error",g):(h(i),p)}function v(t,e,i){return k="error",g(t,e,i)}function y(t,e,i){if("word"==t)return k="attribute",b;if("endTag"==t||"selfcloseTag"==t){var n=i.tagName,r=i.tagStart;return i.tagName=i.tagStart=null,"selfcloseTag"==t||S.autoSelfClosers.hasOwnProperty(n)?d(i,n):(d(i,n),i.context=new u(i,n,r==i.indented)),p}return k="error",y}function b(t,e,i){return"equals"==t?w:(S.allowMissing||(k="error"),y(t,e,i))}function w(t,e,i){return"string"==t?x:"word"==t&&S.allowUnquoted?(k="string",y):(k="error",y(t,e,i))}function x(t,e,i){return"string"==t?x:y(t,e,i)}var _,k,C=n.indentUnit,S={},T=r.htmlMode?e:i;for(var A in T)S[A]=T[A];for(var A in r)S[A]=r[A];return o.isInText=!0,{startState:function(t){var e={tokenize:o,state:p,indented:t||0,tagName:null,tagStart:null,context:null};return null!=t&&(e.baseIndent=t),e},token:function(t,e){if(!e.tagName&&t.sol()&&(e.indented=t.indentation()),t.eatSpace())return null;_=null;var i=e.tokenize(t,e);return(i||_)&&"comment"!=i&&(k=null,e.state=e.state(_||i,t,e),k&&(i="error"==k?i+" error":k)),i},indent:function(e,i,n){var r=e.context;if(e.tokenize.isInAttribute)return e.tagStart==e.indented?e.stringStartCol+1:e.indented+C;if(r&&r.noIndent)return t.Pass;if(e.tokenize!=s&&e.tokenize!=o)return n?n.match(/^(\s*)/)[0].length:0;if(e.tagName)return!1!==S.multilineTagIndentPastTag?e.tagStart+e.tagName.length+2:e.tagStart+C*(S.multilineTagIndentFactor||1);if(S.alignCDATA&&/<!\[CDATA\[/.test(i))return 0;var a=i&&/^<(\/)?([\w_:\.-]*)/.exec(i);if(a&&a[1])for(;r;){if(r.tagName==a[2]){r=r.prev;break}if(!S.implicitlyClosed.hasOwnProperty(r.tagName))break;r=r.prev}else if(a)for(;r;){var l=S.contextGrabbers[r.tagName];if(!l||!l.hasOwnProperty(a[2]))break;r=r.prev}for(;r&&r.prev&&!r.startOfLine;)r=r.prev;return r?r.indent+C:e.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:S.htmlMode?"html":"xml",helperType:S.htmlMode?"html":"xml",skipAttribute:function(t){t.state==w&&(t.state=y)}}})),t.defineMIME("text/xml","xml"),t.defineMIME("application/xml","xml"),t.mimeModes.hasOwnProperty("text/html")||t.defineMIME("text/html",{name:"xml",htmlMode:!0})},"object"==typeof n&&"object"==typeof i?r(e("../../lib/codemirror")):"function"==typeof t&&t.amd?t(["../../lib/codemirror"],r):r(CodeMirror)},{"../../lib/codemirror":10}],15:[function(t,e,i){i.read=function(t,e,i,n,r){var o,s,a=8*r-n-1,l=(1<<a)-1,c=l>>1,u=-7,h=i?r-1:0,d=i?-1:1,p=t[e+h];for(h+=d,o=p&(1<<-u)-1,p>>=-u,u+=a;u>0;o=256*o+t[e+h],h+=d,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=n;u>0;s=256*s+t[e+h],h+=d,u-=8);if(0===o)o=1-c;else{if(o===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),o-=c}return(p?-1:1)*s*Math.pow(2,o-n)},i.write=function(t,e,i,n,r,o){var s,a,l,c=8*o-r-1,u=(1<<c)-1,h=u>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,f=n?1:-1,m=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),(e+=s+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(s++,l/=2),s+h>=u?(a=0,s=u):s+h>=1?(a=(e*l-1)*Math.pow(2,r),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,r),s=0));r>=8;t[i+p]=255&a,p+=f,a/=256,r-=8);for(s=s<<r|a,c+=r;c>0;t[i+p]=255&s,p+=f,s/=256,c-=8);t[i+p-f]|=128*m}},{}],16:[function(t,e){var i={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},{}],17:[function(e,i,n){(function(e){(function(){function e(t){this.tokens=[],this.tokens.links={},this.options=t||d.defaults,this.rules=p.normal,this.options.gfm&&(this.options.tables?this.rules=p.tables:this.rules=p.gfm)}function r(t,e){if(this.options=e||d.defaults,this.links=t,this.rules=f.normal,this.renderer=this.options.renderer||new o,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=f.breaks:this.rules=f.gfm:this.options.pedantic&&(this.rules=f.pedantic)}function o(t){this.options=t||{}}function s(t){this.tokens=[],this.token=null,this.options=t||d.defaults,this.options.renderer=this.options.renderer||new o,this.renderer=this.options.renderer,this.renderer.options=this.options}function a(t,e){return t.replace(e?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function l(t){return t.replace(/&([#\w]+);/g,(function(t,e){return"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""}))}function c(t,e){return t=t.source,e=e||"",function i(n,r){return n?(r=(r=r.source||r).replace(/(^|[^\[])\^/g,"$1"),t=t.replace(n,r),i):new RegExp(t,e)}}function u(){}function h(t){for(var e,i,n=1;n<arguments.length;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}function d(t,i,n){if(n||"function"==typeof i){n||(n=i,i=null);var r,o,l=(i=h({},d.defaults,i||{})).highlight,c=0;try{r=e.lex(t,i)}catch(t){return n(t)}o=r.length;var u=function(t){if(t)return i.highlight=l,n(t);var e;try{e=s.parse(r,i)}catch(e){t=e}return i.highlight=l,t?n(t):n(null,e)};if(!l||l.length<3)return u();if(delete i.highlight,!o)return u();for(;c<r.length;c++)!function(t){"code"!==t.type?--o||u():l(t.text,t.lang,(function(e,i){return e?u(e):null==i||i===t.text?--o||u():(t.text=i,t.escaped=!0,void(--o||u()))}))}(r[c])}else try{return i&&(i=h({},d.defaults,i)),s.parse(e.lex(t,i),i)}catch(t){if(t.message+="\nPlease report this to https://github.com/chjj/marked.",(i||d.defaults).silent)return"<p>An error occured:</p><pre>"+a(t.message+"",!0)+"</pre>";throw t}}var p={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:u,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:u,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:u,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/,bullet:/(?:[*+-]|\d+\.)/,item:/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/};p.item=c(p.item,"gm")(/bull/g,p.bullet)(),p.list=c(p.list)(/bull/g,p.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+p.def.source+")")(),p.blockquote=c(p.blockquote)("def",p.def)(),p._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",p.html=c(p.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,p._tag)(),p.paragraph=c(p.paragraph)("hr",p.hr)("heading",p.heading)("lheading",p.lheading)("blockquote",p.blockquote)("tag","<"+p._tag)("def",p.def)(),p.normal=h({},p),p.gfm=h({},p.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),p.gfm.paragraph=c(p.paragraph)("(?!","(?!"+p.gfm.fences.source.replace("\\1","\\2")+"|"+p.list.source.replace("\\1","\\3")+"|")(),p.tables=h({},p.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),e.rules=p,e.lex=function(t,i){return new e(i).lex(t)},e.prototype.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(t,!0)},e.prototype.token=function(t,e,i){var n,r,o,s,a,l,c,u,h;for(t=t.replace(/^ +$/gm,"");t;)if((o=this.rules.newline.exec(t))&&(t=t.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(t))t=t.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:o.replace(/\n+$/,"")});else if(o=this.rules.fences.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]||""});else if(o=this.rules.heading.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(e&&(o=this.rules.nptable.exec(t))){for(t=t.substring(o[0].length),l={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/\n$/,"").split("\n")},u=0;u<l.align.length;u++)/^ *-+: *$/.test(l.align[u])?l.align[u]="right":/^ *:-+: *$/.test(l.align[u])?l.align[u]="center":/^ *:-+ *$/.test(l.align[u])?l.align[u]="left":l.align[u]=null;for(u=0;u<l.cells.length;u++)l.cells[u]=l.cells[u].split(/ *\| */);this.tokens.push(l)}else if(o=this.rules.lheading.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(o=this.rules.hr.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,e,!0),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(t)){for(t=t.substring(o[0].length),s=o[2],this.tokens.push({type:"list_start",ordered:s.length>1}),n=!1,h=(o=o[0].match(this.rules.item)).length,u=0;h>u;u++)c=(l=o[u]).length,~(l=l.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(c-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+c+"}","gm"),"")),this.options.smartLists&&u!==h-1&&(s===(a=p.bullet.exec(o[u+1])[0])||s.length>1&&a.length>1||(t=o.slice(u+1).join("\n")+t,u=h-1)),r=n||/\n\n(?!\s*$)/.test(l),u!==h-1&&(n="\n"===l.charAt(l.length-1),r||(r=n)),this.tokens.push({type:r?"loose_item_start":"list_item_start"}),this.token(l,!1,i),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(t))t=t.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:o[0]});else if(!i&&e&&(o=this.rules.def.exec(t)))t=t.substring(o[0].length),this.tokens.links[o[1].toLowerCase()]={href:o[2],title:o[3]};else if(e&&(o=this.rules.table.exec(t))){for(t=t.substring(o[0].length),l={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/(?: *\| *)?\n$/,"").split("\n")},u=0;u<l.align.length;u++)/^ *-+: *$/.test(l.align[u])?l.align[u]="right":/^ *:-+: *$/.test(l.align[u])?l.align[u]="center":/^ *:-+ *$/.test(l.align[u])?l.align[u]="left":l.align[u]=null;for(u=0;u<l.cells.length;u++)l.cells[u]=l.cells[u].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(l)}else if(e&&(o=this.rules.paragraph.exec(t)))t=t.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return this.tokens};var f={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:u,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:u,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/,_inside:/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,_href:/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/};f.link=c(f.link)("inside",f._inside)("href",f._href)(),f.reflink=c(f.reflink)("inside",f._inside)(),f.normal=h({},f),f.pedantic=h({},f.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),f.gfm=h({},f.normal,{escape:c(f.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:c(f.text)("]|","~]|")("|","|https?://|")()}),f.breaks=h({},f.gfm,{br:c(f.br)("{2,}","*")(),text:c(f.gfm.text)("{2,}","*")()}),r.rules=f,r.output=function(t,e,i){return new r(e,i).output(t)},r.prototype.output=function(t){for(var e,i,n,r,o="";t;)if(r=this.rules.escape.exec(t))t=t.substring(r[0].length),o+=r[1];else if(r=this.rules.autolink.exec(t))t=t.substring(r[0].length),"@"===r[2]?(i=":"===r[1].charAt(6)?this.mangle(r[1].substring(7)):this.mangle(r[1]),n=this.mangle("mailto:")+i):n=i=a(r[1]),o+=this.renderer.link(n,null,i);else if(this.inLink||!(r=this.rules.url.exec(t))){if(r=this.rules.tag.exec(t))!this.inLink&&/^<a /i.test(r[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(r[0])&&(this.inLink=!1),t=t.substring(r[0].length),o+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):a(r[0]):r[0];else if(r=this.rules.link.exec(t))t=t.substring(r[0].length),this.inLink=!0,o+=this.outputLink(r,{href:r[2],title:r[3]}),this.inLink=!1;else if((r=this.rules.reflink.exec(t))||(r=this.rules.nolink.exec(t))){if(t=t.substring(r[0].length),e=(r[2]||r[1]).replace(/\s+/g," "),!(e=this.links[e.toLowerCase()])||!e.href){o+=r[0].charAt(0),t=r[0].substring(1)+t;continue}this.inLink=!0,o+=this.outputLink(r,e),this.inLink=!1}else if(r=this.rules.strong.exec(t))t=t.substring(r[0].length),o+=this.renderer.strong(this.output(r[2]||r[1]));else if(r=this.rules.em.exec(t))t=t.substring(r[0].length),o+=this.renderer.em(this.output(r[2]||r[1]));else if(r=this.rules.code.exec(t))t=t.substring(r[0].length),o+=this.renderer.codespan(a(r[2],!0));else if(r=this.rules.br.exec(t))t=t.substring(r[0].length),o+=this.renderer.br();else if(r=this.rules.del.exec(t))t=t.substring(r[0].length),o+=this.renderer.del(this.output(r[1]));else if(r=this.rules.text.exec(t))t=t.substring(r[0].length),o+=this.renderer.text(a(this.smartypants(r[0])));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}else t=t.substring(r[0].length),n=i=a(r[1]),o+=this.renderer.link(n,null,i);return o},r.prototype.outputLink=function(t,e){var i=a(e.href),n=e.title?a(e.title):null;return"!"!==t[0].charAt(0)?this.renderer.link(i,n,this.output(t[1])):this.renderer.image(i,n,a(t[1]))},r.prototype.smartypants=function(t){return this.options.smartypants?t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026"):t},r.prototype.mangle=function(t){if(!this.options.mangle)return t;for(var e,i="",n=t.length,r=0;n>r;r++)e=t.charCodeAt(r),Math.random()>.5&&(e="x"+e.toString(16)),i+="&#"+e+";";return i},o.prototype.code=function(t,e,i){if(this.options.highlight){var n=this.options.highlight(t,e);null!=n&&n!==t&&(i=!0,t=n)}return e?'<pre><code class="'+this.options.langPrefix+a(e,!0)+'">'+(i?t:a(t,!0))+"\n</code></pre>\n":"<pre><code>"+(i?t:a(t,!0))+"\n</code></pre>"},o.prototype.blockquote=function(t){return"<blockquote>\n"+t+"</blockquote>\n"},o.prototype.html=function(t){return t},o.prototype.heading=function(t,e,i){return"<h"+e+' id="'+this.options.headerPrefix+i.toLowerCase().replace(/[^\w]+/g,"-")+'">'+t+"</h"+e+">\n"},o.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},o.prototype.list=function(t,e){var i=e?"ol":"ul";return"<"+i+">\n"+t+"</"+i+">\n"},o.prototype.listitem=function(t){return"<li>"+t+"</li>\n"},o.prototype.paragraph=function(t){return"<p>"+t+"</p>\n"},o.prototype.table=function(t,e){return"<table>\n<thead>\n"+t+"</thead>\n<tbody>\n"+e+"</tbody>\n</table>\n"},o.prototype.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},o.prototype.tablecell=function(t,e){var i=e.header?"th":"td";return(e.align?"<"+i+' style="text-align:'+e.align+'">':"<"+i+">")+t+"</"+i+">\n"},o.prototype.strong=function(t){return"<strong>"+t+"</strong>"},o.prototype.em=function(t){return"<em>"+t+"</em>"},o.prototype.codespan=function(t){return"<code>"+t+"</code>"},o.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},o.prototype.del=function(t){return"<del>"+t+"</del>"},o.prototype.link=function(t,e,i){if(this.options.sanitize){try{var n=decodeURIComponent(l(t)).replace(/[^\w:]/g,"").toLowerCase()}catch(t){return""}if(0===n.indexOf("javascript:")||0===n.indexOf("vbscript:"))return""}var r='<a href="'+t+'"';return e&&(r+=' title="'+e+'"'),r+">"+i+"</a>"},o.prototype.image=function(t,e,i){var n='<img src="'+t+'" alt="'+i+'"';return e&&(n+=' title="'+e+'"'),n+(this.options.xhtml?"/>":">")},o.prototype.text=function(t){return t},s.parse=function(t,e,i){return new s(e,i).parse(t)},s.prototype.parse=function(t){this.inline=new r(t.links,this.options,this.renderer),this.tokens=t.reverse();for(var e="";this.next();)e+=this.tok();return e},s.prototype.next=function(){return this.token=this.tokens.pop()},s.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},s.prototype.parseText=function(){for(var t=this.token.text;"text"===this.peek().type;)t+="\n"+this.next().text;return this.inline.output(t)},s.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var t,e,i,n,r="",o="";for(i="",t=0;t<this.token.header.length;t++)({header:!0,align:this.token.align[t]}),i+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]});for(r+=this.renderer.tablerow(i),t=0;t<this.token.cells.length;t++){for(e=this.token.cells[t],i="",n=0;n<e.length;n++)i+=this.renderer.tablecell(this.inline.output(e[n]),{header:!1,align:this.token.align[n]});o+=this.renderer.tablerow(i)}return this.renderer.table(r,o);case"blockquote_start":for(o="";"blockquote_end"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o);case"list_start":o="";for(var s=this.token.ordered;"list_end"!==this.next().type;)o+=this.tok();return this.renderer.list(o,s);case"list_item_start":for(o="";"list_item_end"!==this.next().type;)o+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(o);case"loose_item_start":for(o="";"list_item_end"!==this.next().type;)o+=this.tok();return this.renderer.listitem(o);case"html":var a=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(a);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},u.exec=u,d.options=d.setOptions=function(t){return h(d.defaults,t),d},d.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new o,xhtml:!1},d.Parser=s,d.parser=s.parse,d.Renderer=o,d.Lexer=e,d.lexer=e.lex,d.InlineLexer=r,d.inlineLexer=r.output,d.parse=d,
void 0!==i&&"object"==typeof n?i.exports=d:"function"==typeof t&&t.amd?t((function(){return d})):this.marked=d}).call(function(){return this||("undefined"!=typeof window?window:e)}())}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],18:[function(t,e){(function(i,n){"use strict";var r=function(t,e,i,r){if(r=r||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=r.flags||{},t){if(this.dictionary=t,"undefined"!=typeof window&&"chrome"in window&&"extension"in window.chrome&&"getURL"in window.chrome.extension)e||(e=this._readFile(chrome.extension.getURL("lib/typo/dictionaries/"+t+"/"+t+".aff"))),i||(i=this._readFile(chrome.extension.getURL("lib/typo/dictionaries/"+t+"/"+t+".dic")));else{if(r.dictionaryPath)var o=r.dictionaryPath;else if(void 0!==n)o=n+"/dictionaries";else o="./dictionaries";e||(e=this._readFile(o+"/"+t+"/"+t+".aff")),i||(i=this._readFile(o+"/"+t+"/"+t+".dic"))}this.rules=this._parseAFF(e),this.compoundRuleCodes={};for(var s=0,a=this.compoundRules.length;a>s;s++)for(var l=this.compoundRules[s],c=0,u=l.length;u>c;c++)this.compoundRuleCodes[l[c]]=[];for(var s in"ONLYINCOMPOUND"in this.flags&&(this.compoundRuleCodes[this.flags.ONLYINCOMPOUND]=[]),this.dictionaryTable=this._parseDIC(i),this.compoundRuleCodes)0==this.compoundRuleCodes[s].length&&delete this.compoundRuleCodes[s];for(s=0,a=this.compoundRules.length;a>s;s++){var h=this.compoundRules[s],d="";for(c=0,u=h.length;u>c;c++){var p=h[c];d+=p in this.compoundRuleCodes?"("+this.compoundRuleCodes[p].join("|")+")":p}this.compoundRules[s]=new RegExp(d,"i")}}return this};r.prototype={load:function(t){for(var e in t)this[e]=t[e];return this},_readFile:function(e,n){if(n||(n="utf8"),"undefined"!=typeof XMLHttpRequest){var r=new XMLHttpRequest;return r.open("GET",e,!1),r.overrideMimeType&&r.overrideMimeType("text/plain; charset="+n),r.send(null),r.responseText}if(void 0!==t){var o=t("fs");try{if(o.existsSync(e)){var s=o.statSync(e),a=o.openSync(e,"r"),l=new i(s.size);return o.readSync(a,l,0,l.length,null),l.toString(n,0,l.length)}console.log("Path "+e+" does not exist.")}catch(t){return console.log(t),""}}},_parseAFF:function(t){for(var e={},i=(t=this._removeAffixComments(t)).split("\n"),n=0,r=i.length;r>n;n++){var o=(b=i[n]).split(/\s+/),s=o[0];if("PFX"==s||"SFX"==s){for(var a=o[1],l=o[2],c=[],u=n+1,h=n+1+(y=parseInt(o[3],10));h>u;u++){var d=(w=(b=i[u]).split(/\s+/))[2],p=w[3].split("/"),f=p[0];"0"===f&&(f="");var m=this.parseRuleCodes(p[1]),g=w[4],v={};v.add=f,m.length>0&&(v.continuationClasses=m),"."!==g&&(v.match="SFX"===s?new RegExp(g+"$"):new RegExp("^"+g)),"0"!=d&&(v.remove="SFX"===s?new RegExp(d+"$"):d),c.push(v)}e[a]={type:s,combineable:"Y"==l,entries:c},n+=y}else if("COMPOUNDRULE"===s){var y;for(u=n+1,h=n+1+(y=parseInt(o[1],10));h>u;u++){var b,w=(b=i[u]).split(/\s+/);this.compoundRules.push(w[1])}n+=y}else if("REP"===s){3===(w=b.split(/\s+/)).length&&this.replacementTable.push([w[1],w[2]])}else this.flags[s]=o[1]}return e},_removeAffixComments:function(t){return(t=(t=(t=t.replace(/#.*$/gm,"")).replace(/^\s\s*/m,"").replace(/\s\s*$/m,"")).replace(/\n{2,}/g,"\n")).replace(/^\s\s*/,"").replace(/\s\s*$/,"")},_parseDIC:function(t){function e(t,e){t in n&&"object"==typeof n[t]||(n[t]=[]),n[t].push(e)}for(var i=(t=this._removeDicComments(t)).split("\n"),n={},r=1,o=i.length;o>r;r++){var s=i[r].split("/",2),a=s[0];if(s.length>1){var l=this.parseRuleCodes(s[1]);"NEEDAFFIX"in this.flags&&-1!=l.indexOf(this.flags.NEEDAFFIX)||e(a,l);for(var c=0,u=l.length;u>c;c++){var h=l[c],d=this.rules[h];if(d)for(var p=this._applyRule(a,d),f=0,m=p.length;m>f;f++){var g=p[f];if(e(g,[]),d.combineable)for(var v=c+1;u>v;v++){var y=l[v],b=this.rules[y];if(b&&b.combineable&&d.type!=b.type)for(var w=this._applyRule(g,b),x=0,_=w.length;_>x;x++){e(w[x],[])}}}h in this.compoundRuleCodes&&this.compoundRuleCodes[h].push(a)}}else e(a.trim(),[])}return n},_removeDicComments:function(t){return t.replace(/^\t.*$/gm,"")},parseRuleCodes:function(t){if(!t)return[];if(!("FLAG"in this.flags))return t.split("");if("long"===this.flags.FLAG){for(var e=[],i=0,n=t.length;n>i;i+=2)e.push(t.substr(i,2));return e}return"num"===this.flags.FLAG?textCode.split(","):void 0},_applyRule:function(t,e){for(var i=e.entries,n=[],r=0,o=i.length;o>r;r++){var s=i[r];if(!s.match||t.match(s.match)){var a=t;if(s.remove&&(a=a.replace(s.remove,"")),"SFX"===e.type?a+=s.add:a=s.add+a,n.push(a),"continuationClasses"in s)for(var l=0,c=s.continuationClasses.length;c>l;l++){var u=this.rules[s.continuationClasses[l]];u&&(n=n.concat(this._applyRule(a,u)))}}}return n},check:function(t){var e=t.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(e))return!0;if(e.toUpperCase()===e){var i=e[0]+e.substring(1).toLowerCase();if(this.hasFlag(i,"KEEPCASE"))return!1;if(this.checkExact(i))return!0}var n=e.toLowerCase();if(n!==e){if(this.hasFlag(n,"KEEPCASE"))return!1;if(this.checkExact(n))return!0}return!1},checkExact:function(t){var e=this.dictionaryTable[t];if(void 0===e){if("COMPOUNDMIN"in this.flags&&t.length>=this.flags.COMPOUNDMIN)for(var i=0,n=this.compoundRules.length;n>i;i++)if(t.match(this.compoundRules[i]))return!0;return!1}if("object"==typeof e){for(i=0,n=e.length;n>i;i++)if(!this.hasFlag(t,"ONLYINCOMPOUND",e[i]))return!0;return!1}},hasFlag:function(t,e,i){if(e in this.flags){if(void 0===i)i=Array.prototype.concat.apply([],this.dictionaryTable[t]);if(i&&-1!==i.indexOf(this.flags[e]))return!0}return!1},alphabet:"",suggest:function(t,e){function i(t){for(var e=[],i=0,n=t.length;n>i;i++){for(var r=t[i],o=[],s=0,a=r.length+1;a>s;s++)o.push([r.substring(0,s),r.substring(s,r.length)]);var l=[];for(s=0,a=o.length;a>s;s++){(m=o[s])[1]&&l.push(m[0]+m[1].substring(1))}var u=[];for(s=0,a=o.length;a>s;s++){(m=o[s])[1].length>1&&u.push(m[0]+m[1][1]+m[1][0]+m[1].substring(2))}var h=[];for(s=0,a=o.length;a>s;s++){if((m=o[s])[1])for(var d=0,p=c.alphabet.length;p>d;d++)h.push(m[0]+c.alphabet[d]+m[1].substring(1))}var f=[];for(s=0,a=o.length;a>s;s++){var m;if((m=o[s])[1])for(d=0,p=c.alphabet.length;p>d;d++)h.push(m[0]+c.alphabet[d]+m[1])}e=(e=(e=(e=e.concat(l)).concat(u)).concat(h)).concat(f)}return e}function n(t){for(var e=[],i=0;i<t.length;i++)c.check(t[i])&&e.push(t[i]);return e}function r(t){function r(t,e){return t[1]<e[1]?-1:1}for(var o=i([t]),s=i(o),a=n(o).concat(n(s)),l={},u=0,h=a.length;h>u;u++)a[u]in l?l[a[u]]+=1:l[a[u]]=1;var d=[];for(var u in l)d.push([u,l[u]]);d.sort(r).reverse();var p=[];for(u=0,h=Math.min(e,d.length);h>u;u++)c.hasFlag(d[u][0],"NOSUGGEST")||p.push(d[u][0]);return p}if(e||(e=5),this.check(t))return[];for(var o=0,s=this.replacementTable.length;s>o;o++){var a=this.replacementTable[o];if(-1!==t.indexOf(a[0])){var l=t.replace(a[0],a[1]);if(this.check(l))return[l]}}var c=this;return c.alphabet="abcdefghijklmnopqrstuvwxyz",r(t)}},void 0!==e&&(e.exports=r)}).call(this,t("buffer").Buffer,"/node_modules/typo-js")},{buffer:3,fs:2}],19:[function(t){var e=t("codemirror");e.commands.tabAndIndentMarkdownList=function(t){var e=t.listSelections()[0].head;if(!1!==t.getStateAfter(e.line).list)t.execCommand("indentMore");else if(t.options.indentWithTabs)t.execCommand("insertTab");else{var i=Array(t.options.tabSize+1).join(" ");t.replaceSelection(i)}},e.commands.shiftTabAndUnindentMarkdownList=function(t){var e=t.listSelections()[0].head;if(!1!==t.getStateAfter(e.line).list)t.execCommand("indentLess");else if(t.options.indentWithTabs)t.execCommand("insertTab");else{var i=Array(t.options.tabSize+1).join(" ");t.replaceSelection(i)}}},{codemirror:10}],20:[function(t,e){"use strict";function i(t){return B?t.replace("Ctrl","Cmd"):t.replace("Cmd","Ctrl")}function n(t,e,i){t=t||{};var n=document.createElement("a");return e=null==e||e,t.title&&e&&(n.title=o(t.title,t.action,i),B&&(n.title=n.title.replace("Ctrl","\u2318"),n.title=n.title.replace("Alt","\u2325"))),n.tabIndex=-1,n.className=t.className,n}function r(){var t=document.createElement("i");return t.className="separator",t.innerHTML="|",t}function o(t,e,n){var r,o=t;return e&&(n[r=W(e)]&&(o+=" ("+i(n[r])+")")),o}function s(t,e){e=e||t.getCursor("start");var i=t.getTokenAt(e);if(!i.type)return{};for(var n,r,o=i.type.split(" "),s={},a=0;a<o.length;a++)"strong"===(n=o[a])?s.bold=!0:"variable-2"===n?(r=t.getLine(e.line),/^\s*\d+\.\s/.test(r)?s["ordered-list"]=!0:s["unordered-list"]=!0):"atom"===n?s.quote=!0:"em"===n?s.italic=!0:"quote"===n?s.quote=!0:"strikethrough"===n?s.strikethrough=!0:"comment"===n?s.code=!0:"link"===n?s.link=!0:"tag"===n?s.image=!0:n.match(/^header(\-[1-6])?$/)&&(s[n.replace("header","heading")]=!0);return s}function a(t){var e=t.codemirror;e.setOption("fullScreen",!e.getOption("fullScreen")),e.getOption("fullScreen")?(G=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=G;var i=e.getWrapperElement();/fullscreen/.test(i.previousSibling.className)?i.previousSibling.className=i.previousSibling.className.replace(/\s*fullscreen\b/,""):i.previousSibling.className+=" fullscreen";var n=t.toolbarElements.fullscreen;/active/.test(n.className)?n.className=n.className.replace(/\s*active\s*/g,""):n.className+=" active";var r=e.getWrapperElement().nextSibling;/editor-preview-active-side/.test(r.className)&&A(t)}function l(t){O(t,"bold",t.options.blockStyles.bold)}function c(t){O(t,"italic",t.options.blockStyles.italic)}function u(t){O(t,"strikethrough","~~")}function h(t){function e(t){if("object"!=typeof t)throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof t+": "+t;return t.styles&&t.styles[2]&&-1!==t.styles[2].indexOf("formatting-code-block")}function i(t){return t.state.base.base||t.state.base}function n(t,n,r,o,s){r=r||t.getLineHandle(n),o=o||t.getTokenAt({line:n,ch:1}),s=s||!!r.text&&t.getTokenAt({line:n,ch:r.text.length-1});var a=o.type?o.type.split(" "):[];return s&&i(s).indentedCode?"indented":-1!==a.indexOf("comment")&&(i(o).fencedChars||i(s).fencedChars||e(r)?"fenced":"single")}function r(t,e,i,n){var r=e.line+1,o=i.line+1,s=e.line!==i.line,a=n+"\n",l="\n"+n;s&&o++,s&&0===i.ch&&(l=n+"\n",o--),P(t,!1,[a,l]),t.setSelection({line:r,ch:0},{line:o,ch:0})}var o,s,a,l=t.options.blockStyles.code,c=t.codemirror,u=c.getCursor("start"),h=c.getCursor("end"),d=c.getTokenAt({line:u.line,ch:u.ch||1}),p=c.getLineHandle(u.line),f=n(c,u.line,p,d);if("single"===f){var m=p.text.slice(0,u.ch).replace("`",""),g=p.text.slice(u.ch).replace("`","");c.replaceRange(m+g,{line:u.line,ch:0},{line:u.line,ch:99999999999999}),u.ch--,u!==h&&h.ch--,c.setSelection(u,h),c.focus()}else if("fenced"===f)if(u.line!==h.line||u.ch!==h.ch){for(o=u.line;o>=0&&!e(p=c.getLineHandle(o));o--);var v,y,b,w,x=i(c.getTokenAt({line:o,ch:1})).fencedChars;e(c.getLineHandle(u.line))?(v="",y=u.line):e(c.getLineHandle(u.line-1))?(v="",y=u.line-1):(v=x+"\n",y=u.line),e(c.getLineHandle(h.line))?(b="",w=h.line,0===h.ch&&(w+=1)):0!==h.ch&&e(c.getLineHandle(h.line+1))?(b="",w=h.line+1):(b=x+"\n",w=h.line+1),0===h.ch&&(w-=1),c.operation((function(){c.replaceRange(b,{line:w,ch:0},{line:w+(b?0:1),ch:0}),c.replaceRange(v,{line:y,ch:0},{line:y+(v?0:1),ch:0})})),c.setSelection({line:y+(v?1:0),ch:0},{line:w+(v?1:-1),ch:0}),c.focus()}else{var _=u.line;if(e(c.getLineHandle(u.line))&&("fenced"===n(c,u.line+1)?(o=u.line,_=u.line+1):(s=u.line,_=u.line-1)),void 0===o)for(o=_;o>=0&&!e(p=c.getLineHandle(o));o--);if(void 0===s)for(a=c.lineCount(),s=_;a>s&&!e(p=c.getLineHandle(s));s++);c.operation((function(){c.replaceRange("",{line:o,ch:0},{line:o+1,ch:0}),c.replaceRange("",{line:s-1,ch:0},{line:s,ch:0})})),c.focus()}else if("indented"===f){if(u.line!==h.line||u.ch!==h.ch)o=u.line,s=h.line,0===h.ch&&s--;else{for(o=u.line;o>=0;o--)if(!(p=c.getLineHandle(o)).text.match(/^\s*$/)&&"indented"!==n(c,o,p)){o+=1;break}for(a=c.lineCount(),s=u.line;a>s;s++)if(!(p=c.getLineHandle(s)).text.match(/^\s*$/)&&"indented"!==n(c,s,p)){s-=1;break}}var k=c.getLineHandle(s+1),C=k&&c.getTokenAt({line:s+1,ch:k.text.length-1});C&&i(C).indentedCode&&c.replaceRange("\n",{line:s+1,ch:0});for(var S=o;s>=S;S++)c.indentLine(S,"subtract");c.focus()}else{var T=u.line===h.line&&u.ch===h.ch&&0===u.ch,A=u.line!==h.line;T||A?r(c,u,h,l):P(c,!1,["`","`"])}}function d(t){L(t.codemirror,"quote")}function p(t){M(t.codemirror,"smaller")}function f(t){M(t.codemirror,"bigger")}function m(t){M(t.codemirror,void 0,1)}function g(t){M(t.codemirror,void 0,2)}function v(t){M(t.codemirror,void 0,3)}function y(t){L(t.codemirror,"unordered-list")}function b(t){L(t.codemirror,"ordered-list")}function w(t){D(t.codemirror)}function x(t){var e=t.codemirror,i=s(e),n=t.options,r="http://";return!(n.promptURLs&&(r=prompt(n.promptTexts.link),!r))&&void P(e,i.link,n.insertTexts.link,r)}function _(t){var e=t.codemirror,i=s(e),n=t.options,r="http://";return!(n.promptURLs&&(r=prompt(n.promptTexts.image),!r))&&void P(e,i.image,n.insertTexts.image,r)}function k(t){var e=t.codemirror,i=s(e),n=t.options;P(e,i.table,n.insertTexts.table)}function C(t){var e=t.codemirror,i=s(e),n=t.options;P(e,i.image,n.insertTexts.horizontalRule)}function S(t){var e=t.codemirror;e.undo(),e.focus()}function T(t){var e=t.codemirror;e.redo(),e.focus()}function A(t){var e=t.codemirror,i=e.getWrapperElement(),n=i.nextSibling,r=t.toolbarElements["side-by-side"],o=!1;/editor-preview-active-side/.test(n.className)?(n.className=n.className.replace(/\s*editor-preview-active-side\s*/g,""),r.className=r.className.replace(/\s*active\s*/g,""),i.className=i.className.replace(/\s*CodeMirror-sided\s*/g," ")):(setTimeout((function(){e.getOption("fullScreen")||a(t),n.className+=" editor-preview-active-side"}),1),r.className+=" active",i.className+=" CodeMirror-sided",o=!0);var s=i.lastChild;if(/editor-preview-active/.test(s.className)){s.className=s.className.replace(/\s*editor-preview-active\s*/g,"");var l=t.toolbarElements.preview,c=i.previousSibling;l.className=l.className.replace(/\s*active\s*/g,""),c.className=c.className.replace(/\s*disabled-for-preview*/g,"")}var u=function(){n.innerHTML=t.options.previewRender(t.value(),n)};e.sideBySideRenderingFunction||(e.sideBySideRenderingFunction=u),o?(n.innerHTML=t.options.previewRender(t.value(),n),e.on("update",e.sideBySideRenderingFunction)):e.off("update",e.sideBySideRenderingFunction),e.refresh()}function E(t){var e=t.codemirror,i=e.getWrapperElement(),n=i.previousSibling,r=!!t.options.toolbar&&t.toolbarElements.preview,o=i.lastChild;o&&/editor-preview/.test(o.className)||((o=document.createElement("div")).className="editor-preview",i.appendChild(o)),/editor-preview-active/.test(o.className)?(o.className=o.className.replace(/\s*editor-preview-active\s*/g,""),r&&(r.className=r.className.replace(/\s*active\s*/g,""),n.className=n.className.replace(/\s*disabled-for-preview*/g,""))):(setTimeout((function(){o.className+=" editor-preview-active"}),1),r&&(r.className+=" active",n.className+=" disabled-for-preview")),o.innerHTML=t.options.previewRender(t.value(),o);var s=e.getWrapperElement().nextSibling;/editor-preview-active-side/.test(s.className)&&A(t)}function P(t,e,i,n){if(!/editor-preview-active/.test(t.getWrapperElement().lastChild.className)){var r,o=i[0],s=i[1],a=t.getCursor("start"),l=t.getCursor("end");n&&(s=s.replace("#url#",n)),e?(o=(r=t.getLine(a.line)).slice(0,a.ch),s=r.slice(a.ch),t.replaceRange(o+s,{line:a.line,ch:0})):(r=t.getSelection(),t.replaceSelection(o+r+s),a.ch+=o.length,a!==l&&(l.ch+=o.length)),t.setSelection(a,l),t.focus()}}function M(t,e,i){if(!/editor-preview-active/.test(t.getWrapperElement().lastChild.className)){for(var n=t.getCursor("start"),r=t.getCursor("end"),o=n.line;o<=r.line;o++)!function(n){var r=t.getLine(n),o=r.search(/[^#]/);r=void 0!==e?0>=o?"bigger"==e?"###### "+r:"# "+r:6==o&&"smaller"==e?r.substr(7):1==o&&"bigger"==e?r.substr(2):"bigger"==e?r.substr(1):"#"+r:1==i?0>=o?"# "+r:o==i?r.substr(o+1):"# "+r.substr(o+1):2==i?0>=o?"## "+r:o==i?r.substr(o+1):"## "+r.substr(o+1):0>=o?"### "+r:o==i?r.substr(o+1):"### "+r.substr(o+1),t.replaceRange(r,{line:n,ch:0},{line:n,ch:99999999999999})}(o);t.focus()}}function L(t,e){if(!/editor-preview-active/.test(t.getWrapperElement().lastChild.className)){for(var i=s(t),n=t.getCursor("start"),r=t.getCursor("end"),o={quote:/^(\s*)\>\s+/,"unordered-list":/^(\s*)(\*|\-|\+)\s+/,"ordered-list":/^(\s*)\d+\.\s+/},a={quote:"> ","unordered-list":"* ","ordered-list":"1. "},l=n.line;l<=r.line;l++)!function(n){var r=t.getLine(n);r=i[e]?r.replace(o[e],"$1"):a[e]+r,t.replaceRange(r,{line:n,ch:0},{line:n,ch:99999999999999})}(l);t.focus()}}function O(t,e,i,n){if(!/editor-preview-active/.test(t.codemirror.getWrapperElement().lastChild.className)){n=void 0===n?i:n;var r,o=t.codemirror,a=s(o),l=i,c=n,u=o.getCursor("start"),h=o.getCursor("end");a[e]?(l=(r=o.getLine(u.line)).slice(0,u.ch),c=r.slice(u.ch),"bold"==e?(l=l.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),c=c.replace(/(\*\*|__)/,"")):"italic"==e?(l=l.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),c=c.replace(/(\*|_)/,"")):"strikethrough"==e&&(l=l.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),c=c.replace(/(\*\*|~~)/,"")),o.replaceRange(l+c,{line:u.line,ch:0},{line:u.line,ch:99999999999999}),"bold"==e||"strikethrough"==e?(u.ch-=2,u!==h&&(h.ch-=2)):"italic"==e&&(u.ch-=1,u!==h&&(h.ch-=1))):(r=o.getSelection(),"bold"==e?r=(r=r.split("**").join("")).split("__").join(""):"italic"==e?r=(r=r.split("*").join("")).split("_").join(""):"strikethrough"==e&&(r=r.split("~~").join("")),o.replaceSelection(l+r+c),u.ch+=i.length,h.ch=u.ch+r.length),o.setSelection(u,h),o.focus()}}function D(t){if(!/editor-preview-active/.test(t.getWrapperElement().lastChild.className))for(var e,i=t.getCursor("start"),n=t.getCursor("end"),r=i.line;r<=n.line;r++)e=(e=t.getLine(r)).replace(/^[ ]*([# ]+|\*|\-|[> ]+|[0-9]+(.|\)))[ ]*/,""),t.replaceRange(e,{line:r,ch:0},{line:r,ch:99999999999999})}function I(t,e){for(var i in e)e.hasOwnProperty(i)&&(e[i]instanceof Array?t[i]=e[i].concat(t[i]instanceof Array?t[i]:[]):null!==e[i]&&"object"==typeof e[i]&&e[i].constructor===Object?t[i]=I(t[i]||{},e[i]):t[i]=e[i]);return t}function $(t){for(var e=1;e<arguments.length;e++)t=I(t,arguments[e]);return t}function N(t){var e=/[a-zA-Z0-9_\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g,i=t.match(e),n=0;if(null===i)return n;for(var r=0;r<i.length;r++)n+=i[r].charCodeAt(0)>=19968?i[r].length:1;return n}function z(t){(t=t||{}).parent=this;var e=!0;if(!1===t.autoDownloadFontAwesome&&(e=!1),!0!==t.autoDownloadFontAwesome)for(var i=document.styleSheets,n=0;n<i.length;n++)i[n].href&&i[n].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(e=!1);if(e){var r=document.createElement("link");r.rel="stylesheet",r.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(r)}if(t.element)this.element=t.element;else if(null===t.element)return void console.log("SimpleMDE: Error. No element was found.");if(void 0===t.toolbar)for(var o in t.toolbar=[],Y)Y.hasOwnProperty(o)&&(-1!=o.indexOf("separator-")&&t.toolbar.push("|"),(!0===Y[o].default||t.showIcons&&t.showIcons.constructor===Array&&-1!=t.showIcons.indexOf(o))&&t.toolbar.push(o));t.hasOwnProperty("status")||(t.status=["autosave","lines","words","cursor"]),t.previewRender||(t.previewRender=function(t){return this.parent.markdown(t)}),t.parsingConfig=$({highlightFormatting:!0},t.parsingConfig||{}),t.insertTexts=$({},V,t.insertTexts||{}),t.promptTexts=K,t.blockStyles=$({},Q,t.blockStyles||{}),t.shortcuts=$({},U,t.shortcuts||{}),null!=t.autosave&&null!=t.autosave.unique_id&&""!=t.autosave.unique_id&&(t.autosave.uniqueId=t.autosave.unique_id),this.options=t,this.render(),!t.initialValue||this.options.autosave&&!0===this.options.autosave.foundSavedValue||this.value(t.initialValue)}function j(){if("object"!=typeof localStorage)return!1;try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch(t){return!1}return!0}var F=t("codemirror");t("codemirror/addon/edit/continuelist.js"),t("./codemirror/tablist"),t("codemirror/addon/display/fullscreen.js"),t("codemirror/mode/markdown/markdown.js"),t("codemirror/addon/mode/overlay.js"),t("codemirror/addon/display/placeholder.js"),t("codemirror/addon/selection/mark-selection.js"),t("codemirror/mode/gfm/gfm.js"),t("codemirror/mode/xml/xml.js");var q=t("codemirror-spell-checker"),R=t("marked"),B=/Mac/.test(navigator.platform),H={toggleBold:l,toggleItalic:c,drawLink:x,toggleHeadingSmaller:p,toggleHeadingBigger:f,drawImage:_,toggleBlockquote:d,toggleOrderedList:b,toggleUnorderedList:y,toggleCodeBlock:h,togglePreview:E,toggleStrikethrough:u,toggleHeading1:m,toggleHeading2:g,toggleHeading3:v,cleanBlock:w,drawTable:k,drawHorizontalRule:C,undo:S,redo:T,toggleSideBySide:A,toggleFullScreen:a},U={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},W=function(t){for(var e in H)if(H[e]===t)return e;return null},X=function(){var t=!1;return function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor||window.opera),t},G="",Y={bold:{name:"bold",action:l,className:"fa fa-bold",title:"Bold",default:!0},italic:{name:"italic",action:c,className:"fa fa-italic",title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:u,className:"fa fa-strikethrough",title:"Strikethrough"},heading:{name:"heading",action:p,className:"fa fa-header",title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:p,className:"fa fa-header fa-header-x fa-header-smaller",title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:f,className:"fa fa-header fa-header-x fa-header-bigger",title:"Bigger Heading"},"heading-1":{name:"heading-1",action:m,className:"fa fa-header fa-header-x fa-header-1",title:"Big Heading"},"heading-2":{name:"heading-2",action:g,className:"fa fa-header fa-header-x fa-header-2",title:"Medium Heading"},"heading-3":{name:"heading-3",action:v,className:"fa fa-header fa-header-x fa-header-3",title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:h,className:"fa fa-code",title:"Code"},quote:{name:"quote",action:d,className:"fa fa-quote-left",title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:y,className:"fa fa-list-ul",title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:b,className:"fa fa-list-ol",title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:w,className:"fa fa-eraser fa-clean-block",title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:x,className:"fa fa-link",title:"Create Link",default:!0},image:{name:"image",action:_,className:"fa fa-picture-o",title:"Insert Image",default:!0},table:{name:"table",action:k,className:"fa fa-table",title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:C,className:"fa fa-minus",title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:E,className:"fa fa-eye no-disable",title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:A,className:"fa fa-columns no-disable no-mobile",title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:a,className:"fa fa-arrows-alt no-disable no-mobile",title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://simplemde.com/markdown-guide",className:"fa fa-question-circle",title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:S,className:"fa fa-undo no-disable",title:"Undo"},redo:{name:"redo",action:T,className:"fa fa-repeat no-disable",title:"Redo"}},V={link:["[","](#url#)"],image:["![](","#url#)"],table:["","\n\n| Column 1 | Column 2 | Column 3 |\n| -------- | -------- | -------- |\n| Text     | Text     | Text     |\n\n"],horizontalRule:["","\n\n-----\n\n"]},K={link:"URL for the link:",image:"URL of the image:"},Q={bold:"**",code:"```",italic:"*"};z.prototype.markdown=function(t){if(R){var e={};return this.options&&this.options.renderingConfig&&!1===this.options.renderingConfig.singleLineBreaks?e.breaks=!1:e.breaks=!0,this.options&&this.options.renderingConfig&&!0===this.options.renderingConfig.codeSyntaxHighlighting&&window.hljs&&(e.highlight=function(t){return window.hljs.highlightAuto(t).value}),R.setOptions(e),R(t)}},z.prototype.render=function(t){if(t||(t=this.element||document.getElementsByTagName("textarea")[0]),!this._rendered||this._rendered!==t){this.element=t;var e,n,r=this.options,o=this,s={};for(var l in r.shortcuts)null!==r.shortcuts[l]&&null!==H[l]&&function(t){s[i(r.shortcuts[t])]=function(){H[t](o)}}(l);if(s.Enter="newlineAndIndentContinueMarkdownList",s.Tab="tabAndIndentMarkdownList",s["Shift-Tab"]="shiftTabAndUnindentMarkdownList",s.Esc=function(t){t.getOption("fullScreen")&&a(o)},document.addEventListener("keydown",(function(t){27==(t=t||window.event).keyCode&&o.codemirror.getOption("fullScreen")&&a(o)}),!1),!1!==r.spellChecker?(e="spell-checker",(n=r.parsingConfig).name="gfm",n.gitHubSpice=!1,q({codeMirrorInstance:F})):((e=r.parsingConfig).name="gfm",e.gitHubSpice=!1),this.codemirror=F.fromTextArea(t,{mode:e,backdrop:n,theme:"paper",tabSize:null!=r.tabSize?r.tabSize:2,indentUnit:null!=r.tabSize?r.tabSize:2,indentWithTabs:!1!==r.indentWithTabs,lineNumbers:!1,autofocus:!0===r.autofocus,extraKeys:s,lineWrapping:!1!==r.lineWrapping,allowDropFileTypes:["text/plain"],placeholder:r.placeholder||t.getAttribute("placeholder")||"",styleSelectedText:null==r.styleSelectedText||r.styleSelectedText}),!0===r.forceSync){var c=this.codemirror;c.on("change",(function(){c.save()}))}this.gui={},!1!==r.toolbar&&(this.gui.toolbar=this.createToolbar()),!1!==r.status&&(this.gui.statusbar=this.createStatusbar()),null!=r.autosave&&!0===r.autosave.enabled&&this.autosave(),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element;var u=this.codemirror;setTimeout(function(){u.refresh()}.bind(u),0)}},z.prototype.autosave=function(){if(j()){var t=this;if(null==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId)return void console.log("SimpleMDE: You must set a uniqueId to use the autosave feature");null!=t.element.form&&null!=t.element.form&&t.element.form.addEventListener("submit",(function(){localStorage.removeItem("smde_"+t.options.autosave.uniqueId)})),!0!==this.options.autosave.loaded&&("string"==typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&""!=localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0),localStorage.setItem("smde_"+this.options.autosave.uniqueId,t.value());var e=document.getElementById("autosaved");if(null!=e&&null!=e&&""!=e){var i=new Date,n=i.getHours(),r=i.getMinutes(),o="am",s=n;s>=12&&(s=n-12,o="pm"),0==s&&(s=12),r=10>r?"0"+r:r,e.innerHTML="Autosaved: "+s+":"+r+" "+o}this.autosaveTimeoutId=setTimeout((function(){t.autosave()}),this.options.autosave.delay||1e4)}else console.log("SimpleMDE: localStorage not available, cannot autosave")},z.prototype.clearAutosavedValue=function(){if(j()){if(null==this.options.autosave||null==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId)return void console.log("SimpleMDE: You must set a uniqueId to clear the autosave value");localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("SimpleMDE: localStorage not available, cannot autosave")},z.prototype.createSideBySide=function(){var t=this.codemirror,e=t.getWrapperElement(),i=e.nextSibling;i&&/editor-preview-side/.test(i.className)||((i=document.createElement("div")).className="editor-preview-side",e.parentNode.insertBefore(i,e.nextSibling));var n=!1,r=!1;return t.on("scroll",(function(t){if(n)n=!1;else{r=!0;var e=t.getScrollInfo().height-t.getScrollInfo().clientHeight,o=parseFloat(t.getScrollInfo().top)/e,s=(i.scrollHeight-i.clientHeight)*o;i.scrollTop=s}})),i.onscroll=function(){if(r)r=!1;else{n=!0;var e=i.scrollHeight-i.clientHeight,o=parseFloat(i.scrollTop)/e,s=(t.getScrollInfo().height-t.getScrollInfo().clientHeight)*o;t.scrollTo(0,s)}},i},z.prototype.createToolbar=function(t){if((t=t||this.options.toolbar)&&0!==t.length){var e;for(e=0;e<t.length;e++)null!=Y[t[e]]&&(t[e]=Y[t[e]]);var i=document.createElement("div");i.className="editor-toolbar";var o=this,a={};for(o.toolbar=t,e=0;e<t.length;e++)if(("guide"!=t[e].name||!1!==o.options.toolbarGuideIcon)&&!(o.options.hideIcons&&-1!=o.options.hideIcons.indexOf(t[e].name)||("fullscreen"==t[e].name||"side-by-side"==t[e].name)&&X())){if("|"===t[e]){for(var l=!1,c=e+1;c<t.length;c++)"|"===t[c]||o.options.hideIcons&&-1!=o.options.hideIcons.indexOf(t[c].name)||(l=!0);if(!l)continue}!function(t){var e;e="|"===t?r():n(t,o.options.toolbarTips,o.options.shortcuts),t.action&&("function"==typeof t.action?e.onclick=function(e){e.preventDefault(),t.action(o)}:"string"==typeof t.action&&(e.href=t.action,e.target="_blank")),a[t.name||t]=e,i.appendChild(e)}(t[e])}o.toolbarElements=a;var u=this.codemirror;u.on("cursorActivity",(function(){var t=s(u);for(var e in a)!function(e){var i=a[e];t[e]?i.className+=" active":"fullscreen"!=e&&"side-by-side"!=e&&(i.className=i.className.replace(/\s*active\s*/g,""))}(e)}));var h=u.getWrapperElement();return h.parentNode.insertBefore(i,h),i}},z.prototype.createStatusbar=function(t){t=t||this.options.status;var e=this.options,i=this.codemirror;if(t&&0!==t.length){var n,r,o,s=[];for(n=0;n<t.length;n++)if(r=void 0,o=void 0,"object"==typeof t[n])s.push({className:t[n].className,defaultValue:t[n].defaultValue,onUpdate:t[n].onUpdate});else{var a=t[n];"words"===a?(o=function(t){t.innerHTML=N(i.getValue())},r=function(t){t.innerHTML=N(i.getValue())}):"lines"===a?(o=function(t){t.innerHTML=i.lineCount()},r=function(t){t.innerHTML=i.lineCount()}):"cursor"===a?(o=function(t){t.innerHTML="0:0"},r=function(t){var e=i.getCursor();t.innerHTML=e.line+":"+e.ch}):"autosave"===a&&(o=function(t){null!=e.autosave&&!0===e.autosave.enabled&&t.setAttribute("id","autosaved")}),s.push({className:a,defaultValue:o,onUpdate:r})}var l=document.createElement("div");for(l.className="editor-statusbar",n=0;n<s.length;n++){var c=s[n],u=document.createElement("span");u.className=c.className,"function"==typeof c.defaultValue&&c.defaultValue(u),"function"==typeof c.onUpdate&&this.codemirror.on("update",function(t,e){return function(){e.onUpdate(t)}}(u,c)),l.appendChild(u)}
var h=this.codemirror.getWrapperElement();return h.parentNode.insertBefore(l,h.nextSibling),l}},z.prototype.value=function(t){return void 0===t?this.codemirror.getValue():(this.codemirror.getDoc().setValue(t),this)},z.toggleBold=l,z.toggleItalic=c,z.toggleStrikethrough=u,z.toggleBlockquote=d,z.toggleHeadingSmaller=p,z.toggleHeadingBigger=f,z.toggleHeading1=m,z.toggleHeading2=g,z.toggleHeading3=v,z.toggleCodeBlock=h,z.toggleUnorderedList=y,z.toggleOrderedList=b,z.cleanBlock=w,z.drawLink=x,z.drawImage=_,z.drawTable=k,z.drawHorizontalRule=C,z.undo=S,z.redo=T,z.togglePreview=E,z.toggleSideBySide=A,z.toggleFullScreen=a,z.prototype.toggleBold=function(){l(this)},z.prototype.toggleItalic=function(){c(this)},z.prototype.toggleStrikethrough=function(){u(this)},z.prototype.toggleBlockquote=function(){d(this)},z.prototype.toggleHeadingSmaller=function(){p(this)},z.prototype.toggleHeadingBigger=function(){f(this)},z.prototype.toggleHeading1=function(){m(this)},z.prototype.toggleHeading2=function(){g(this)},z.prototype.toggleHeading3=function(){v(this)},z.prototype.toggleCodeBlock=function(){h(this)},z.prototype.toggleUnorderedList=function(){y(this)},z.prototype.toggleOrderedList=function(){b(this)},z.prototype.cleanBlock=function(){w(this)},z.prototype.drawLink=function(){x(this)},z.prototype.drawImage=function(){_(this)},z.prototype.drawTable=function(){k(this)},z.prototype.drawHorizontalRule=function(){C(this)},z.prototype.undo=function(){S(this)},z.prototype.redo=function(){T(this)},z.prototype.togglePreview=function(){E(this)},z.prototype.toggleSideBySide=function(){A(this)},z.prototype.toggleFullScreen=function(){a(this)},z.prototype.isPreviewActive=function(){var t=this.codemirror.getWrapperElement().lastChild;return/editor-preview-active/.test(t.className)},z.prototype.isSideBySideActive=function(){var t=this.codemirror.getWrapperElement().nextSibling;return/editor-preview-active-side/.test(t.className)},z.prototype.isFullscreenActive=function(){return this.codemirror.getOption("fullScreen")},z.prototype.getState=function(){return s(this.codemirror)},z.prototype.toTextArea=function(){var t=this.codemirror,e=t.getWrapperElement();e.parentNode&&(this.gui.toolbar&&e.parentNode.removeChild(this.gui.toolbar),this.gui.statusbar&&e.parentNode.removeChild(this.gui.statusbar),this.gui.sideBySide&&e.parentNode.removeChild(this.gui.sideBySide)),t.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())},e.exports=z},{"./codemirror/tablist":19,codemirror:10,"codemirror-spell-checker":4,"codemirror/addon/display/fullscreen.js":5,"codemirror/addon/display/placeholder.js":6,"codemirror/addon/edit/continuelist.js":7,"codemirror/addon/mode/overlay.js":8,"codemirror/addon/selection/mark-selection.js":9,"codemirror/mode/gfm/gfm.js":11,"codemirror/mode/markdown/markdown.js":12,"codemirror/mode/xml/xml.js":14,marked:17}]},{},[20])(20)})),function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Uppy=t()}((function(){function t(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function i(e){if(et===setTimeout)return setTimeout(e,0);if((et===t||!et)&&setTimeout)return et=setTimeout,setTimeout(e,0);try{return et(e,0)}catch(t){try{return et.call(null,e,0)}catch(t){return et.call(this,e,0)}}}function n(){st&&rt&&(st=!1,rt.length?ot=rt.concat(ot):at=-1,ot.length&&r())}function r(){if(!st){var t=i(n);st=!0;for(var r=ot.length;r;){for(rt=ot,ot=[];++at<r;)rt&&rt[at].run();at=-1,r=ot.length}rt=null,st=!1,function(t){if(it===clearTimeout)return clearTimeout(t);if((it===e||!it)&&clearTimeout)return it=clearTimeout,clearTimeout(t);try{it(t)}catch(e){try{return it.call(null,t)}catch(e){return it.call(this,t)}}}(t)}}function o(t,e){this.fun=t,this.array=e}function s(){}function a(t){return 2!==t.length?0+t:t}function l(t){var e=/(?:\.([^.]+))?$/.exec(t)[1];return{name:t.replace("."+e,""),extension:e}}function c(t,e,i){var n=t.split(",")[1],r=e.mimeType||t.split(",")[0].split(":")[1].split(";")[0];null==r&&(r="plain/text");for(var o=atob(n),s=[],a=0;a<o.length;a++)s.push(o.charCodeAt(a));return i?new File([new Uint8Array(s)],e.name||"",{type:r}):new Blob([new Uint8Array(s)],{type:r})}function u(t){return t&&"object"===(void 0===t?"undefined":ut(t))&&t.nodeType===Node.ELEMENT_NODE}function h(){return yt((Math.random()*At|0).toString(Tt),St)}function d(){return Ct=Ct<At?Ct:0,++Ct-1}function p(){return"c"+(new Date).getTime().toString(Tt)+yt(d().toString(Tt),St)+_t()+(h()+h())}function f(t,e){this.text=t=t||"",this.hasWild=~t.indexOf("*"),this.separator=e,this.parts=t.split(e)}function m(t,e){return e||(e=new Error("Upload error")),"string"==typeof e&&(e=new Error(e)),e instanceof Error||(e=Gt(new Error("Upload error"),{data:e})),e.request=t,e}function g(t){var e=t.headers?t.headers["content-type"]:t.getResponseHeader("Content-Type");return"string"==typeof e&&"application/xml"===e.toLowerCase()}function v(t,e){function i(){o.readEntries((function(t){t.length>0?(r=r.concat(y(t)),i()):n()}))}function n(){se(r.map((function(t){return function(e){v(t,e)}})),e)}var r=[];if(t.isFile)t.file((function(i){i.fullPath=t.fullPath,e(null,i)}),(function(t){e(t)}));else if(t.isDirectory){var o=t.createReader();i()}}function y(t){return Array.prototype.slice.call(t||[],0)}function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{trim:!1};if(!t)throw new Error("A form is required by getFormData, was given form="+t);for(var i={},n=void 0,r=[],o={},s=0,a=t.elements.length;s<a;s++){var l=t.elements[s];an[l.type]||l.disabled||(n=l.name||l.id)&&!o[n]&&(r.push(n),o[n]=!0)}for(var c=0,u=r.length;c<u;c++){var h=w(t,n=r[c],e);null!=h&&(i[n]=h)}return i}function w(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{trim:!1};if(!t)throw new Error("A form is required by getFieldData, was given form="+t);if(!e&&"[object String]"!==hn.call(e))throw new Error("A field name is required by getFieldData, was given fieldName="+e);var n=t.elements[e];if(!n||n.disabled)return null;if(!sn[hn.call(n)])return x(n,i.trim);for(var r=[],o=!0,s=0,a=n.length;s<a;s++)if(!n[s].disabled){o&&"radio"!==n[s].type&&(o=!1);var l=x(n[s],i.trim);null!=l&&(r=r.concat(l))}return o&&1===r.length?r[0]:r.length>0?r:null}function x(t,e){var i=null,n=t.type;if("select-one"===n)return t.options.length&&(i=t.options[t.selectedIndex].value),i;if("select-multiple"===n){i=[];for(var r=0,o=t.options.length;r<o;r++)t.options[r].selected&&i.push(t.options[r].value);return 0===i.length&&(i=null),i}return"file"===n&&"files"in t?(t.multiple?0===(i=un.call(t.files)).length&&(i=null):i=t.files[0],i):(ln[n]?t.checked&&(i=t.value):i=e?t.value.replace(cn,""):t.value,i)}function _(t){var e=bn.open(t,Cn);return new yn((function(t,i){e.onupgradeneeded=function(e){var i=e.target.result,n=e.currentTarget.transaction;if(e.oldVersion<2&&i.createObjectStore(_n,{keyPath:"id"}).createIndex("store","store",{unique:!1}),e.oldVersion<3){var r=n.objectStore(_n);r.createIndex("expires","expires",{unique:!1}),r.openCursor().onsuccess=function(t){var e=t.target.result;if(e){var i=e.value;i.expires=Date.now()+kn,e.update(i)}}}n.oncomplete=function(){t(i)}},e.onsuccess=function(e){t(e.target.result)},e.onerror=i}))}function k(t){return new yn((function(e,i){t.onsuccess=function(t){e(t.target.result)},t.onerror=i}))}function C(t){try{return JSON.parse(t)}catch(t){return null}}function S(t,e,i){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+i:Math.ceil(t/e)+" "+i+"s"}function T(t){function e(){if(e.enabled){var t=e,i=+new Date,n=i-(In||i);t.diff=n,t.prev=In,t.curr=i,In=i;for(var r=new Array(arguments.length),o=0;o<r.length;o++)r[o]=arguments[o];r[0]=or.coerce(r[0]),"string"!=typeof r[0]&&r.unshift("%O");var s=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,(function(e,i){if("%%"===e)return e;s++;var n=or.formatters[i];if("function"==typeof n){var o=r[s];e=n.call(t,o),r.splice(s,1),s--}return e})),or.formatArgs.call(t,r),(e.log||or.log||console.log.bind(console)).apply(t,r)}}return e.namespace=t,e.enabled=or.enabled(t),e.useColors=or.useColors(),e.color=function(t){var e,i=0;for(e in t)i=(i<<5)-i+t.charCodeAt(e),i|=0;return or.colors[Math.abs(i)%or.colors.length]}(t),"function"==typeof or.init&&or.init(e),e}function A(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}function E(t){if(t)return function(t){for(var e in E.prototype)t[e]=E.prototype[e];return t}(t)}function P(){}function M(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}function L(t){function e(){if(e.enabled){var t=e,n=+new Date,r=n-(i||n);t.diff=r,t.prev=i,t.curr=n,i=n;for(var o=new Array(arguments.length),s=0;s<o.length;s++)o[s]=arguments[s];o[0]=Sr.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var a=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,(function(e,i){if("%%"===e)return e;a++;var n=Sr.formatters[i];if("function"==typeof n){var r=o[a];e=n.call(t,r),o.splice(a,1),a--}return e})),Sr.formatArgs.call(t,o),(e.log||Sr.log||console.log.bind(console)).apply(t,o)}}var i;return e.namespace=t,e.enabled=Sr.enabled(t),e.useColors=Sr.useColors(),e.color=function(t){var e,i=0;for(e in t)i=(i<<5)-i+t.charCodeAt(e),i|=0;return Sr.colors[Math.abs(i)%Sr.colors.length]}(t),e.destroy=O,"function"==typeof Sr.init&&Sr.init(e),Sr.instances.push(e),e}function O(){var t=Sr.instances.indexOf(this);return-1!==t&&(Sr.instances.splice(t,1),!0)}function D(t){var e="";do{e=Mr[t%Lr]+e,t=Math.floor(t/Lr)}while(t>0);return e}function I(){var t=D(+new Date);return t!==Ar?(Dr=0,Ar=t):t+"."+D(Dr++)}function $(t){var e=t&&t.forceBase64;zr&&!e||(this.supportsBinary=!1),xr.call(this,t)}function N(t){function e(){if(e.enabled){var t=e,n=+new Date,r=n-(i||n);t.diff=r,t.prev=i,t.curr=n,i=n;for(var o=new Array(arguments.length),s=0;s<o.length;s++)o[s]=arguments[s];o[0]=Zr.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var a=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,(function(e,i){if("%%"===e)return e;a++;var n=Zr.formatters[i];if("function"==typeof n){var r=o[a];e=n.call(t,r),o.splice(a,1),a--}return e})),Zr.formatArgs.call(t,o),(e.log||Zr.log||console.log.bind(console)).apply(t,o)}}var i;return e.namespace=t,e.enabled=Zr.enabled(t),e.useColors=Zr.useColors(),e.color=function(t){var e,i=0;for(e in t)i=(i<<5)-i+t.charCodeAt(e),i|=0;return Zr.colors[Math.abs(i)%Zr.colors.length]}(t),e.destroy=z,"function"==typeof Zr.init&&Zr.init(e),Zr.instances.push(e),e}function z(){var t=Zr.instances.indexOf(this);return-1!==t&&(Zr.instances.splice(t,1),!0)}function j(){}function F(t){var e=""+t.type;return eo.BINARY_EVENT!==t.type&&eo.BINARY_ACK!==t.type||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data)),io("encoded %j as %s",t,e),e}function q(){this.reconstructor=null}function R(t){this.reconPack=t,this.buffers=[]}function B(t){return{type:eo.ERROR,data:"parser error: "+t}}function H(t,e,i){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,i&&i.query&&(this.query=i.query),this.io.autoConnect&&this.open()}function U(t,e){if(!(this instanceof U))return new U(t,e);t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new ar({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var i=e.parser||eo;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}function W(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,n=ho(t),r=n.source,o=n.id,s=n.path,a=mo[o]&&s in mo[o].nsps;return e.forceNew||e["force new connection"]||!1===e.multiplex||a?(fo("ignoring socket cache for %s",r),i=lo(r,e)):(mo[o]||(fo("new io instance for %s",r),mo[o]=lo(r,e)),i=mo[o]),n.query&&!e.query&&(e.query=n.query),i.socket(n.path,e)}function X(t){return decodeURIComponent(t.replace(/\+/g," "))}function G(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function Y(t){return t&&t.__esModule?t:{default:t}}function V(t,e){return t>=e&&t<e+100}function K(t){var e=[];return{on:function(i,n){return e.push([i,n]),t.on(i,n)},remove:function(){e.forEach((function(e){var i=e[0],n=e[1];t.off(i,n)}))}}}function Q(t,e){return{params:e.params,signature:e.signature,fields:e.fields}}function J(t,e){return-1!==t.indexOf(e)}var Z={exports:{}};!function(){"use strict";function t(t,e){var i,n,r,o,s=x;for(o=arguments.length;o-- >2;)w.push(arguments[o]);for(e&&null!=e.children&&(w.length||w.push(e.children),delete e.children);w.length;)if((n=w.pop())&&void 0!==n.pop)for(o=n.length;o--;)w.push(n[o]);else"boolean"==typeof n&&(n=null),(r="function"!=typeof t)&&(null==n?n="":"number"==typeof n?n=String(n):"string"!=typeof n&&(r=!1)),r&&i?s[s.length-1]+=n:s===x?s=[n]:s.push(n),i=r;var a=new function(){};return a.nodeName=t,a.children=s,a.attributes=null==e?void 0:e,a.key=null==e?void 0:e.key,void 0!==b.vnode&&b.vnode(a),a}function e(t,e){for(var i in e)t[i]=e[i];return t}function i(t){!t.__d&&(t.__d=!0)&&1==C.push(t)&&(b.debounceRendering||_)(n)}function n(){var t,e=C;for(C=[];t=e.pop();)t.__d&&g(t)}function r(t,e){return t.__n===e||t.nodeName.toLowerCase()===e.toLowerCase()}function o(t){var i=e({},t.attributes);i.children=t.children;var n=t.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===i[r]&&(i[r]=n[r]);return i}function s(t){var e=t.parentNode;e&&e.removeChild(t)}function a(t,e,i,n,r){if("className"===e&&(e="class"),"key"===e);else if("ref"===e)i&&i(null),n&&n(t);else if("class"!==e||r)if("style"===e){if(n&&"string"!=typeof n&&"string"!=typeof i||(t.style.cssText=n||""),n&&"object"==typeof n){if("string"!=typeof i)for(var o in i)o in n||(t.style[o]="");for(var o in n)t.style[o]="number"==typeof n[o]&&!1===k.test(o)?n[o]+"px":n[o]}}else if("dangerouslySetInnerHTML"===e)n&&(t.innerHTML=n.__html||"");else if("o"==e[0]&&"n"==e[1]){var s=e!==(e=e.replace(/Capture$/,""));e=e.toLowerCase().substring(2),n?i||t.addEventListener(e,l,s):t.removeEventListener(e,l,s),(t.__l||(t.__l={}))[e]=n}else if("list"!==e&&"type"!==e&&!r&&e in t)!function(t,e,i){try{t[e]=i}catch(t){}}(t,e,null==n?"":n),null!=n&&!1!==n||t.removeAttribute(e);else{var a=r&&e!==(e=e.replace(/^xlink\:?/,""));null==n||!1===n?a?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.removeAttribute(e):"function"!=typeof n&&(a?t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),n):t.setAttribute(e,n))}else t.className=n||""}function l(t){return this.__l[t.type](b.event&&b.event(t)||t)}function c(){for(var t;t=S.pop();)b.afterMount&&b.afterMount(t),t.componentDidMount&&t.componentDidMount()}function u(t,e,i,n,l,u){T++||(A=null!=l&&void 0!==l.ownerSVGElement,E=null!=t&&!("__preactattr_"in t));var d=function t(e,i,n,l,c){var u=e,d=A;if(null!=i&&"boolean"!=typeof i||(i=""),"string"==typeof i||"number"==typeof i)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||c)?e.nodeValue!=i&&(e.nodeValue=i):(u=document.createTextNode(i),e&&(e.parentNode&&e.parentNode.replaceChild(u,e),h(e,!0))),u.__preactattr_=!0,u;var f,g,y=i.nodeName;if("function"==typeof y)return function(t,e,i,n){for(var r=t&&t._component,s=r,a=t,l=r&&t._componentConstructor===e.nodeName,c=l,u=o(e);r&&!c&&(r=r.__u);)c=r.constructor===e.nodeName;return r&&c&&(!n||r._component)?(m(r,u,3,i,n),t=r.base):(s&&!l&&(v(s),t=a=null),r=p(e.nodeName,u,i),t&&!r.__b&&(r.__b=t,a=null),m(r,u,1,i,n),t=r.base,a&&t!==a&&(a._component=null,h(a,!1))),t}(e,i,n,l);if(A="svg"===y||"foreignObject"!==y&&A,y=String(y),(!e||!r(e,y))&&(f=y,(g=A?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f)).__n=f,u=g,e)){for(;e.firstChild;)u.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(u,e),h(e,!0)}var b=u.firstChild,w=u.__preactattr_,x=i.children;if(null==w){w=u.__preactattr_={};for(var _=u.attributes,k=_.length;k--;)w[_[k].name]=_[k].value}return!E&&x&&1===x.length&&"string"==typeof x[0]&&null!=b&&void 0!==b.splitText&&null==b.nextSibling?b.nodeValue!=x[0]&&(b.nodeValue=x[0]):(x&&x.length||null!=b)&&function(e,i,n,o,a){var l,c,u,d,p,f,m,g,v=e.childNodes,y=[],b={},w=0,x=0,_=v.length,k=0,C=i?i.length:0;if(0!==_)for(var S=0;S<_;S++){var T=v[S],A=T.__preactattr_;null!=(E=C&&A?T._component?T._component.__k:A.key:null)?(w++,b[E]=T):(A||(void 0!==T.splitText?!a||T.nodeValue.trim():a))&&(y[k++]=T)}if(0!==C)for(S=0;S<C;S++){var E;if(p=null,null!=(E=(d=i[S]).key))w&&void 0!==b[E]&&(p=b[E],b[E]=void 0,w--);else if(!p&&x<k)for(l=x;l<k;l++)if(void 0!==y[l]&&(f=c=y[l],g=a,"string"==typeof(m=d)||"number"==typeof m?void 0!==f.splitText:"string"==typeof m.nodeName?!f._componentConstructor&&r(f,m.nodeName):g||f._componentConstructor===m.nodeName)){p=c,y[l]=void 0,l===k-1&&k--,l===x&&x++;break}p=t(p,d,n,o),u=v[S],p&&p!==e&&p!==u&&(null==u?e.appendChild(p):p===u.nextSibling?s(u):e.insertBefore(p,u))}if(w)for(var S in b)void 0!==b[S]&&h(b[S],!1);for(;x<=k;)void 0!==(p=y[k--])&&h(p,!1)}(u,x,n,l,E||null!=w.dangerouslySetInnerHTML),function(t,e,i){var n;for(n in i)e&&null!=e[n]||null==i[n]||a(t,n,i[n],i[n]=void 0,A);for(n in e)"children"===n||"innerHTML"===n||n in i&&e[n]===("value"===n||"checked"===n?t[n]:i[n])||a(t,n,i[n],i[n]=e[n],A)}(u,i.attributes,w),A=d,u}(t,e,i,n,u);return l&&d.parentNode!==l&&l.appendChild(d),--T||(E=!1,u||c()),d}function h(t,e){var i=t._component;i?v(i):(null!=t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),!1!==e&&null!=t.__preactattr_||s(t),d(t))}function d(t){for(t=t.lastChild;t;){var e=t.previousSibling;h(t,!0),t=e}}function p(t,e,i){var n,r=P[t.name];if(t.prototype&&t.prototype.render?(n=new t(e,i),y.call(n,e,i)):((n=new y(e,i)).constructor=t,n.render=f),r)for(var o=r.length;o--;)if(r[o].constructor===t){n.__b=r[o].__b,r.splice(o,1);break}return n}function f(t,e,i){return this.constructor(t,i)}function m(t,e,n,r,o){t.__x||(t.__x=!0,(t.__r=e.ref)&&delete e.ref,(t.__k=e.key)&&delete e.key,!t.base||o?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(e,r),r&&r!==t.context&&(t.__c||(t.__c=t.context),t.context=r),t.__p||(t.__p=t.props),t.props=e,t.__x=!1,0!==n&&(1!==n&&!1===b.syncComponentUpdates&&t.base?i(t):g(t,1,o)),t.__r&&t.__r(t))}function g(t,i,n,r){if(!t.__x){var s,a,l,d=t.props,f=t.state,y=t.context,w=t.__p||d,x=t.__s||f,_=t.__c||y,k=t.base,C=t.__b,A=k||C,E=t._component,P=!1;if(k&&(t.props=w,t.state=x,t.context=_,2!==i&&t.shouldComponentUpdate&&!1===t.shouldComponentUpdate(d,f,y)?P=!0:t.componentWillUpdate&&t.componentWillUpdate(d,f,y),t.props=d,t.state=f,t.context=y),t.__p=t.__s=t.__c=t.__b=null,t.__d=!1,!P){s=t.render(d,f,y),t.getChildContext&&(y=e(e({},y),t.getChildContext()));var M,L,O=s&&s.nodeName;if("function"==typeof O){var D=o(s);(a=E)&&a.constructor===O&&D.key==a.__k?m(a,D,1,y,!1):(M=a,t._component=a=p(O,D,y),a.__b=a.__b||C,a.__u=t,m(a,D,0,y,!1),g(a,1,n,!0)),L=a.base}else l=A,(M=E)&&(l=t._component=null),(A||1===i)&&(l&&(l._component=null),L=u(l,s,y,n||!k,A&&A.parentNode,!0));if(A&&L!==A&&a!==E){var I=A.parentNode;I&&L!==I&&(I.replaceChild(L,A),M||(A._component=null,h(A,!1)))}if(M&&v(M),t.base=L,L&&!r){for(var $=t,N=t;N=N.__u;)($=N).base=L;L._component=$,L._componentConstructor=$.constructor}}if(!k||n?S.unshift(t):P||(t.componentDidUpdate&&t.componentDidUpdate(w,x,_),b.afterUpdate&&b.afterUpdate(t)),null!=t.__h)for(;t.__h.length;)t.__h.pop().call(t);T||r||c()}}function v(t){b.beforeUnmount&&b.beforeUnmount(t);var e=t.base;t.__x=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var i=t._component;i?v(i):e&&(e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),t.__b=e,s(e),function(t){var e=t.constructor.name;(P[e]||(P[e]=[])).push(t)}(t),d(e)),t.__r&&t.__r(null)}function y(t,e){this.__d=!0,this.context=e,this.props=t,this.state=this.state||{}}var b={},w=[],x=[],_="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,k=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,C=[],S=[],T=0,A=!1,E=!1,P={};e(y.prototype,{setState:function(t,n){var r=this.state;this.__s||(this.__s=e({},r)),e(r,"function"==typeof t?t(r,this.props):t),n&&(this.__h=this.__h||[]).push(n),i(this)},forceUpdate:function(t){t&&(this.__h=this.__h||[]).push(t),g(this,2)},render:function(){}});var M={h:t,createElement:t,cloneElement:function(i,n){return t(i.nodeName,e(e({},i.attributes),n),arguments.length>2?[].slice.call(arguments,2):i.children)},Component:y,render:function(t,e,i){return u(i,t,{},!1,e,!1)},rerender:n,options:b};Z.exports=M}(),Z=Z.exports;var tt,et,it,nt=tt={};!function(){try{et="function"==typeof setTimeout?setTimeout:t}catch(e){et=t}try{it="function"==typeof clearTimeout?clearTimeout:e}catch(t){it=e}}();var rt,ot=[],st=!1,at=-1;nt.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];ot.push(new o(t,e)),1!==ot.length||st||i(r)},o.prototype.run=function(){this.fun.apply(null,this.array)},nt.title="browser",nt.browser=!0,nt.env={},nt.argv=[],nt.version="",nt.versions={},nt.on=s,nt.addListener=s,nt.once=s,nt.off=s,nt.removeListener=s,nt.removeAllListeners=s,nt.emit=s,nt.prependListener=s,nt.prependOnceListener=s,nt.listeners=function(){return[]},nt.binding=function(){throw new Error("process.binding is not supported")},nt.cwd=function(){return"/"},nt.chdir=function(){throw new Error("process.chdir is not supported")},nt.umask=function(){return 0};var lt={exports:{}};(function(t,e){!function(t,e){"object"==typeof lt.exports?lt.exports=e():t.ES6Promise=e()}(this,(function(){"use strict";function i(t){return"function"==typeof t}function n(){var t=setTimeout;return function(){return t(r,1)}}function r(){for(var t=0;t<k;t+=2)(0,O[t])(O[t+1]),O[t]=void 0,O[t+1]=void 0;k=0}function o(t,e){var i=this,n=new this.constructor(a);void 0===n[I]&&v(n);var r=i._state;if(r){var o=arguments[r-1];T((function(){return g(r,n,o,i._result)}))}else f(i,n,t,e);return n}function s(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(a);return u(e,t),e}function a(){}function l(t){try{return t.then}catch(t){return j.error=t,j}}function c(t,e,n){e.constructor===t.constructor&&n===o&&e.constructor.resolve===s?function(t,e){e._state===N?d(t,e._result):e._state===z?p(t,e._result):f(e,void 0,(function(e){return u(t,e)}),(function(e){return p(t,e)}))}(t,e):n===j?(p(t,j.error),j.error=null):void 0===n?d(t,e):i(n)?function(t,e,i){T((function(t){var n=!1,r=function(i,r){try{i.call(r,(function(i){n||(n=!0,e!==i?u(t,i):d(t,i))}),(function(e){n||(n=!0,p(t,e))}))}catch(t){return t}}(i,e,t._label);!n&&r&&(n=!0,p(t,r))}),t)}(t,e,n):d(t,e)}function u(t,e){var i,n;t===e?p(t,new TypeError("You cannot resolve a promise with itself")):(n=typeof(i=e),null===i||"object"!==n&&"function"!==n?d(t,e):c(t,e,l(e)))}function h(t){t._onerror&&t._onerror(t._result),m(t)}function d(t,e){t._state===$&&(t._result=e,t._state=N,0!==t._subscribers.length&&T(m,t))}function p(t,e){t._state===$&&(t._state=z,t._result=e,T(h,t))}function f(t,e,i,n){var r=t._subscribers,o=r.length;t._onerror=null,r[o]=e,r[o+N]=i,r[o+z]=n,0===o&&t._state&&T(m,t)}function m(t){var e=t._subscribers,i=t._state;if(0!==e.length){for(var n=void 0,r=void 0,o=t._result,s=0;s<e.length;s+=3)n=e[s],r=e[s+i],n?g(i,n,r,o):r(o);t._subscribers.length=0}}function g(t,e,n,r){var o=i(n),s=void 0,a=void 0,l=void 0,c=void 0;if(o){if((s=function(t,e){try{return t(e)}catch(t){return j.error=t,j}}(n,r))===j?(c=!0,a=s.error,s.error=null):l=!0,e===s)return void p(e,new TypeError("A promises callback cannot return that same promise."))}else s=r,l=!0;e._state!==$||(o&&l?u(e,s):c?p(e,a):t===N?d(e,s):t===z&&p(e,s))}function v(t){t[I]=F++,t._state=void 0,t._result=void 0,t._subscribers=[]}var y,b,w,x,_=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},k=0,C=void 0,S=void 0,T=function(t,e){O[k]=t,O[k+1]=e,2===(k+=2)&&(S?S(r):D())},A="undefined"!=typeof window?window:void 0,E=A||{},P=E.MutationObserver||E.WebKitMutationObserver,M="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),L="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,O=new Array(1e3),D=void 0;M?D=function(){return t.nextTick(r)}:P?(b=0,w=new P(r),x=document.createTextNode(""),w.observe(x,{characterData:!0}),D=function(){x.data=b=++b%2}):L?((y=new MessageChannel).port1.onmessage=r,D=function(){return y.port2.postMessage(0)}):D=void 0===A&&"function"==typeof require?function(){try{var t=Function("return this")().require("vertx");return void 0!==(C=t.runOnLoop||t.runOnContext)?function(){C(r)}:n()}catch(t){return n()}}():n();var I=Math.random().toString(36).substring(2),$=void 0,N=1,z=2,j={error:null},F=0,q=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(a),this.promise[I]||v(this.promise),_(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?d(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&d(this.promise,this._result))):p(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===$&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var i=this._instanceConstructor,n=i.resolve;if(n===s){var r=l(t);if(r===o&&t._state!==$)this._settledAt(t._state,e,t._result);else if("function"!=typeof r)this._remaining--,this._result[e]=t;else if(i===R){var u=new i(a);c(u,t,r),this._willSettleAt(u,e)}else this._willSettleAt(new i((function(e){return e(t)})),e)}else this._willSettleAt(n(t),e)},t.prototype._settledAt=function(t,e,i){var n=this.promise;n._state===$&&(this._remaining--,t===z?p(n,i):this._result[e]=i),0===this._remaining&&d(n,this._result)},t.prototype._willSettleAt=function(t,e){var i=this;f(t,void 0,(function(t){return i._settledAt(N,e,t)}),(function(t){return i._settledAt(z,e,t)}))},t}(),R=function(){function t(e){this[I]=F++,this._result=this._state=void 0,this._subscribers=[],a!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(t,e){try{e((function(e){u(t,e)}),(function(e){p(t,e)}))}catch(e){p(t,e)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var e=this.constructor;return this.then((function(i){return e.resolve(t()).then((function(){return i}))}),(function(i){return e.resolve(t()).then((function(){throw i}))}))},t}();return R.prototype.then=o,R.all=function(t){return new q(this,t).promise},R.race=function(t){var e=this;return _(t)?new e((function(i,n){for(var r=t.length,o=0;o<r;o++)e.resolve(t[o]).then(i,n)})):new e((function(t,e){return e(new TypeError("You must pass an array to race."))}))},R.resolve=s,R.reject=function(t){var e=new this(a);return p(e,t),e},R._setScheduler=function(t){S=t},R._setAsap=function(t){T=t},R._asap=T,R.polyfill=function(){var t=void 0;if(void 0!==e)t=e;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var i=t.Promise;if(i){var n=null;try{n=Object.prototype.toString.call(i.resolve())}catch(t){}if("[object Promise]"===n&&!i.cast)return}t.Promise=R},R.Promise=R,R}))}).call(this,tt,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),lt=lt.exports;var ct={};(function(t){function e(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function i(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&f.call(t)==o}(t))return r;if(e(t)){var i="function"==typeof t.valueOf?t.valueOf():t;t=e(i)?i+"":i}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var n=l.test(t);return n||c.test(t)?u(t.slice(2),n?2:8):a.test(t)?r:+t}var n="Expected a function",r=NaN,o="[object Symbol]",s=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt,h="object"==typeof t&&t&&t.Object===Object&&t,d="object"==typeof self&&self&&self.Object===Object&&self,p=h||d||Function("return this")(),f=Object.prototype.toString,m=Math.max,g=Math.min,v=function(){return p.Date.now()};ct=function(t,r,o){var s=!0,a=!0;if("function"!=typeof t)throw new TypeError(n);return e(o)&&(s="leading"in o?!!o.leading:s,a="trailing"in o?!!o.trailing:a),function(t,r,o){function s(e){var i=h,n=d;return h=d=void 0,w=e,f=t.apply(n,i)}function a(t){var e=t-b;return void 0===b||e>=r||e<0||_&&t-w>=p}function l(){var t=v();if(a(t))return c(t);y=setTimeout(l,function(t){var e=r-(t-b);return _?g(e,p-(t-w)):e}(t))}function c(t){return y=void 0,k&&h?s(t):(h=d=void 0,f)}function u(){var t=v(),e=a(t);if(h=arguments,d=this,b=t,e){if(void 0===y)return function(t){return w=t,y=setTimeout(l,r),x?s(t):f}(b);if(_)return y=setTimeout(l,r),s(b)}return void 0===y&&(y=setTimeout(l,r)),f}var h,d,p,f,y,b,w=0,x=!1,_=!1,k=!0;if("function"!=typeof t)throw new TypeError(n);return r=i(r)||0,e(o)&&(x=!!o.leading,p=(_="maxWait"in o)?m(i(o.maxWait)||0,r):p,k="trailing"in o?!!o.trailing:k),u.cancel=function(){void 0!==y&&clearTimeout(y),w=0,h=b=d=y=void 0},u.flush=function(){return void 0===y?f:c(v())},u}(t,r,{leading:s,maxWait:r,trailing:a})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ht="undefined"==typeof Promise?lt.Promise:Promise,dt={"video/ogg":"ogv","audio/ogg":"ogg","video/webm":"webm","audio/webm":"webm","video/mp4":"mp4","audio/mp3":"mp3"},pt={generateFileID:function(t){return["uppy",t.name?t.name.toLowerCase().replace(/[^A-Z0-9]/gi,""):"",t.type,t.data.size,t.data.lastModified].filter((function(t){return t})).join("-")},toArray:function(t){return Array.prototype.slice.call(t||[],0)},getTimeStamp:function(){var t=new Date;return a(t.getHours().toString())+":"+a(t.getMinutes().toString())+":"+a(t.getSeconds().toString())},isTouchDevice:function(){return"ontouchstart"in window||navigator.maxTouchPoints},getFileNameAndExtension:l,truncateString:function(t,e){return t.length>e?t.substr(0,e/2)+"..."+t.substr(t.length-e/4,t.length):t},getFileTypeExtension:function(t){return dt[t]||null},getFileType:function(t){var e={md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",gif:"image/gif",yaml:"text/yaml",yml:"text/yaml"},i=t.name?l(t.name).extension:null;return t.isRemote?t.type?t.type:e[i]:t.type?t.type:i&&e[i]?e[i]:null},isPreviewSupported:function(t){if(!t)return!1;var e=t.split("/")[1];return!!/^(jpeg|gif|png|svg|svg\+xml|bmp)$/.test(e)},isObjectURL:function(t){return 0===t.indexOf("blob:")},dataURItoBlob:c,canvasToBlob:function(t,e,i){return t.toBlob?new ht((function(n){t.toBlob(n,e,i)})):ht.resolve().then((function(){return c(t.toDataURL(e,i),{})}))},getSpeed:function(t){if(!t.bytesUploaded)return 0;var e=new Date-t.uploadStarted;return t.bytesUploaded/(e/1e3)},getBytesRemaining:function(t){
return t.bytesTotal-t.bytesUploaded},copyToClipboard:function(t,e){return e=e||"Copy the URL below",new ht((function(i){var n=document.createElement("textarea");n.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),n.value=t,document.body.appendChild(n),n.select();var r=function(){document.body.removeChild(n),window.prompt(e,t),i()};try{return document.execCommand("copy")?(document.body.removeChild(n),i()):r()}catch(t){return document.body.removeChild(n),r()}}))},prettyETA:function(t){var e,i=(e=t,{hours:Math.floor(e/3600)%24,minutes:Math.floor(e/60)%60,seconds:Math.floor(e%60)}),n=i.hours?i.hours+"h ":"",r=i.hours?("0"+i.minutes).substr(-2):i.minutes;return n+(r?r+"m ":"")+(r?("0"+i.seconds).substr(-2):i.seconds)+"s"},findDOMElement:function(t){return"string"==typeof t?document.querySelector(t):"object"===(void 0===t?"undefined":ut(t))&&u(t)?t:void 0},findAllDOMElements:function(t){if("string"==typeof t){var e=[].slice.call(document.querySelectorAll(t));return e.length>0?e:null}if("object"===(void 0===t?"undefined":ut(t))&&u(t))return[t]},getSocketHost:function(t){var e=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?(?:www\.)?([^\n]+)/.exec(t)[1];return("https:"===location.protocol?"wss":"ws")+"://"+e},emitSocketProgress:ct((function(t,e,i){var n=e.progress,r=e.bytesUploaded,o=e.bytesTotal;n&&(t.uppy.log("Upload progress: "+n),t.uppy.emit("upload-progress",i,{uploader:t,bytesUploaded:r,bytesTotal:o}))}),300,{leading:!0,trailing:!0}),settle:function(t){function e(t){n.push(t)}function i(t){r.push(t)}var n=[],r=[];return ht.all(t.map((function(t){return t.then(e,i)}))).then((function(){return{successful:n,failed:r}}))},limitPromises:function(t){function e(){i--;var t=n.shift();t&&t()}var i=0,n=[];return function(r){return function(){for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];var l=function(){i++;var t=r.apply(void 0,s);return t.then(e,e),t};return i>=t?new ht((function(t,e){n.push((function(){l().then(t,e)}))})):l()}}}},ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},gt=pt.findDOMElement,vt=function(){function t(e,i){!function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.uppy=e,this.opts=i||{},this.update=this.update.bind(this),this.mount=this.mount.bind(this),this.install=this.install.bind(this),this.uninstall=this.uninstall.bind(this)}return t.prototype.getPluginState=function(){return this.uppy.state.plugins[this.id]},t.prototype.setPluginState=function(t){var e=mt({},this.uppy.state.plugins);e[this.id]=mt({},e[this.id],t),this.uppy.setState({plugins:e})},t.prototype.update=function(t){void 0!==this.el&&this.updateUI&&this.updateUI(t)},t.prototype.mount=function(e,i){var n=this,r=i.id,o=gt(e);if(o)return this.isTargetDOMEl=!0,this.updateUI=function(t){n.el=Z.render(n.render(t),o,n.el)},this.uppy.log("Installing "+r+" to a DOM element"),this.opts.replaceTargetContent&&(o.innerHTML=""),this.el=Z.render(this.render(this.uppy.state),o),this.el;var s=void 0;if("object"===(void 0===e?"undefined":ft(e))&&e instanceof t)s=e;else if("function"==typeof e){var a=e;this.uppy.iteratePlugins((function(t){if(t instanceof a)return s=t,!1}))}if(s){var l=s.id;return this.uppy.log("Installing "+r+" to "+l),this.el=s.addTarget(i),this.el}throw this.uppy.log("Not installing "+r),new Error("Invalid target option given to "+r)},t.prototype.render=function(){throw new Error("Extend the render method to add your plugin to a DOM element")},t.prototype.addTarget=function(){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")},t.prototype.unmount=function(){this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},t.prototype.install=function(){},t.prototype.uninstall=function(){this.unmount()},t}(),yt=function(t,e){var i="000000000"+t;return i.substr(i.length-e)},bt="object"==typeof window?window:self,wt=Object.keys(bt),xt=yt(((navigator.mimeTypes?navigator.mimeTypes.length:0)+navigator.userAgent.length).toString(36)+wt.toString(36),4),_t=function(){return xt},kt={},Ct=0,St=4,Tt=36,At=Math.pow(Tt,St);p.slug=function(){var t=(new Date).getTime().toString(36),e=d().toString(36).slice(-4),i=_t().slice(0,1)+_t().slice(-1),n=h().slice(-2);return t.slice(-2)+e+i+n},p.fingerprint=_t,kt=p;var Et={};f.prototype.match=function(t){var e,i,n=!0,r=this.parts,o=r.length;if("string"==typeof t||t instanceof String)if(this.hasWild||this.text==t){for(i=(t||"").split(this.separator),e=0;n&&e<o;e++)"*"!==r[e]&&(n=e<i.length&&r[e]===i[e]);n=n&&i}else n=!1;else if("function"==typeof t.splice)for(n=[],e=t.length;e--;)this.match(t[e])&&(n[n.length]=t[e]);else if("object"==typeof t)for(var s in n={},t)this.match(s)&&(n[s]=t[s]);return n},Et=function(t,e,i){var n=new f(t,i||/[\/\.]/);return void 0!==e?n.match(e):n};var Pt,Mt=/[\/\+\.]/,Lt=function(){var t={},e=t._fns={};return t.emit=function(t,i,n,r,o,s,a){var l=function(t){for(var i=e[t]?e[t]:[],n=t.indexOf(":"),r=-1===n?[t]:[t.substring(0,n),t.substring(n+1)],o=Object.keys(e),s=0,a=o.length;s<a;s++){var l=o[s];if("*"===l&&(i=i.concat(e[l])),2===r.length&&r[0]===l){i=i.concat(e[l]);break}}return i}(t);l.length&&function(t,e,i){for(var n=0,r=e.length;n<r&&e[n];n++)e[n].event=t,e[n].apply(e[n],i)}(t,l,[i,n,r,o,s,a])},t.on=function(t,i){e[t]||(e[t]=[]),e[t].push(i)},t.once=function(e,i){this.on(e,(function n(){i.apply(this,arguments),t.off(e,n)}))},t.off=function(t,e){var i=[];if(t&&e)for(var n=this._fns[t],r=0,o=n?n.length:0;r<o;r++)n[r]!==e&&i.push(n[r]);i.length?this._fns[t]=i:delete this._fns[t]},t},Ot=function(t){if("number"!=typeof t||isNaN(t))throw new TypeError("Expected a number, got "+typeof t);var e=t<0,i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(e&&(t=-t),t<1)return(e?"-":"")+t+" B";var n=Math.min(Math.floor(Math.log(t)/Math.log(1e3)),i.length-1);t=Number(t/Math.pow(1e3,n));var r=i[n];return t>=10||t%1==0?(e?"-":"")+t.toFixed(0)+" "+r:(e?"-":"")+t.toFixed(1)+" "+r},Dt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},It=function(){function t(e){!function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var i={locale:{strings:{},pluralize:function(t){return 1===t?0:1}}};this.opts=Dt({},i,e),this.locale=Dt({},i.locale,e.locale)}return t.prototype.interpolate=function(t,e){var i=String.prototype.replace,n=/\$/g;for(var r in e)if("_"!==r&&e.hasOwnProperty(r)){var o=e[r];"string"==typeof o&&(o=i.call(e[r],n,"$$$$")),t=i.call(t,new RegExp("%\\{"+r+"\\}","g"),o)}return t},t.prototype.translate=function(t,e){if(e&&e.smart_count){var i=this.locale.pluralize(e.smart_count);return this.interpolate(this.opts.locale.strings[t][i],e)}return this.interpolate(this.opts.locale.strings[t],e)},t}(),$t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Nt=function(){function t(){!function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.state={},this.callbacks=[]}return t.prototype.getState=function(){return this.state},t.prototype.setState=function(t){var e=$t({},this.state),i=$t({},this.state,t);this.state=i,this._publish(e,i,t)},t.prototype.subscribe=function(t){var e=this;return this.callbacks.push(t),function(){e.callbacks.splice(e.callbacks.indexOf(t),1)}},t.prototype._publish=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];this.callbacks.forEach((function(t){t.apply(void 0,e)}))},t}(),zt=function(){return new Nt},jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ft=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},qt=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Rt="undefined"==typeof Promise?lt.Promise:Promise,Bt=function(){function t(e){var i=this;!function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var n={strings:{youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize:"This file exceeds maximum allowed size of",youCanOnlyUploadFileTypes:"You can only upload:",uppyServerError:"Connection with Uppy Server failed",failedToUpload:"Failed to upload",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Intenet!"}},r={id:"uppy",autoProceed:!0,debug:!1,restrictions:{maxFileSize:!1,maxNumberOfFiles:!1,minNumberOfFiles:!1,allowedFileTypes:!1},meta:{},onBeforeFileAdded:function(t){return t},onBeforeUpload:function(t){return t},locale:n,store:zt()};this.opts=Ft({},r,e),this.opts.restrictions=Ft({},r.restrictions,this.opts.restrictions),this.locale=Ft({},n,this.opts.locale),this.locale.strings=Ft({},n.strings,this.opts.locale.strings),this.translator=new It({locale:this.locale}),this.i18n=this.translator.translate.bind(this.translator),this.plugins={},this.getState=this.getState.bind(this),this.getPlugin=this.getPlugin.bind(this),this.setFileMeta=this.setFileMeta.bind(this),this.setFileState=this.setFileState.bind(this),this.log=this.log.bind(this),this.info=this.info.bind(this),this.hideInfo=this.hideInfo.bind(this),this.addFile=this.addFile.bind(this),this.removeFile=this.removeFile.bind(this),this.pauseResume=this.pauseResume.bind(this),this._calculateProgress=this._calculateProgress.bind(this),this.updateOnlineStatus=this.updateOnlineStatus.bind(this),this.resetProgress=this.resetProgress.bind(this),this.pauseAll=this.pauseAll.bind(this),this.resumeAll=this.resumeAll.bind(this),this.retryAll=this.retryAll.bind(this),this.cancelAll=this.cancelAll.bind(this),this.retryUpload=this.retryUpload.bind(this),this.upload=this.upload.bind(this),this.emitter=Lt(),this.on=this.on.bind(this),this.off=this.off.bind(this),this.once=this.emitter.once.bind(this.emitter),this.emit=this.emitter.emit.bind(this.emitter),this.preProcessors=[],this.uploaders=[],this.postProcessors=[],this.store=this.opts.store,this.setState({plugins:{},files:{},currentUploads:{},capabilities:{resumableUploads:!1},totalProgress:0,meta:Ft({},this.opts.meta),info:{isHidden:!0,type:"info",message:""}}),this._storeUnsubscribe=this.store.subscribe((function(t,e,n){i.emit("state-update",t,e,n),i.updateAll(e)})),this.opts.debug&&"undefined"!=typeof window&&(window.uppyLog="",window[this.opts.id]=this)}return t.prototype.on=function(t,e){return this.emitter.on(t,e),this},t.prototype.off=function(t,e){return this.emitter.off(t,e),this},t.prototype.updateAll=function(t){this.iteratePlugins((function(e){e.update(t)}))},t.prototype.setState=function(t){this.store.setState(t)},t.prototype.getState=function(){return this.store.getState()},t.prototype.setFileState=function(t,e){var i;this.setState({files:Ft({},this.getState().files,(i={},i[t]=Ft({},this.getState().files[t],e),i))})},t.prototype.resetProgress=function(){var t={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:!1},e=Ft({},this.getState().files),i={};Object.keys(e).forEach((function(n){var r=Ft({},e[n]);r.progress=Ft({},r.progress,t),i[n]=r})),this.setState({files:i,totalProgress:0}),this.emit("reset-progress")},t.prototype.addPreProcessor=function(t){this.preProcessors.push(t)},t.prototype.removePreProcessor=function(t){var e=this.preProcessors.indexOf(t);-1!==e&&this.preProcessors.splice(e,1)},t.prototype.addPostProcessor=function(t){this.postProcessors.push(t)},t.prototype.removePostProcessor=function(t){var e=this.postProcessors.indexOf(t);-1!==e&&this.postProcessors.splice(e,1)},t.prototype.addUploader=function(t){this.uploaders.push(t)},t.prototype.removeUploader=function(t){var e=this.uploaders.indexOf(t);-1!==e&&this.uploaders.splice(e,1)},t.prototype.setMeta=function(t){var e=Ft({},this.getState().meta,t),i=Ft({},this.getState().files);Object.keys(i).forEach((function(e){i[e]=Ft({},i[e],{meta:Ft({},i[e].meta,t)})})),this.log("Adding metadata:"),this.log(t),this.setState({meta:e,files:i})},t.prototype.setFileMeta=function(t,e){var i=Ft({},this.getState().files);if(i[t]){var n=Ft({},i[t].meta,e);i[t]=Ft({},i[t],{meta:n}),this.setState({files:i})}else this.log("Was trying to set metadata for a file that\u2019s not with us anymore: ",t)},t.prototype.getFile=function(t){return this.getState().files[t]},t.prototype._checkMinNumberOfFiles=function(t){var e=this.opts.restrictions.minNumberOfFiles;if(Object.keys(t).length<e)throw new Error(""+this.i18n("youHaveToAtLeastSelectX",{smart_count:e}))},t.prototype._checkRestrictions=function(t){var e=this.opts.restrictions,i=e.maxFileSize,n=e.maxNumberOfFiles,r=e.allowedFileTypes;if(n&&Object.keys(this.getState().files).length+1>n)throw new Error(""+this.i18n("youCanOnlyUploadX",{smart_count:n}));if(r&&!(r.filter((function(e){return!!t.type&&function(t,e){function i(e){var i=Et(e,t,Mt);return i&&i.length>=2}return e?i(e.split(";")[0]):i}(t.type,e)})).length>0)){var o=r.join(", ");throw new Error(this.i18n("youCanOnlyUploadFileTypes")+" "+o)}if(i&&t.data.size>i)throw new Error(this.i18n("exceedsSize")+" "+Ot(i))},t.prototype.addFile=function(t){var e,i=this,n=this.getState().files,r=this.opts.onBeforeFileAdded(t,n);if(!1!==r){if("object"===(void 0===r?"undefined":jt(r))&&r){if(r.then)throw new TypeError("onBeforeFileAdded() returned a Promise, but this is no longer supported. It must be synchronous.");t=r}var o,s=pt.getFileType(t);o=t.name?t.name:"image"===s.split("/")[0]?s.split("/")[0]+"."+s.split("/")[1]:"noname";var a=pt.getFileNameAndExtension(o).extension,l=t.isRemote||!1,c=pt.generateFileID(t),u={source:t.source||"",id:c,name:o,extension:a||"",meta:Ft({},this.getState().meta,{name:o,type:s}),type:s,data:t.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:t.data.size||0,uploadComplete:!1,uploadStarted:!1},size:t.data.size||0,isRemote:l,remote:t.remote||"",preview:t.preview};try{this._checkRestrictions(u)}catch(t){!function(t){var e="object"===(void 0===t?"undefined":jt(t))?t:new Error(t);throw i.log(e.message),i.info(e.message,"error",5e3),e}(t)}this.setState({files:Ft({},n,(e={},e[c]=u,e))}),this.emit("file-added",u),this.log("Added file: "+o+", "+c+", mime type: "+s),this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout((function(){i.scheduledAutoProceed=null,i.upload().catch((function(t){console.error(t.stack||t.message||t)}))}),4))}else this.log("Not adding file because onBeforeFileAdded returned false")},t.prototype.removeFile=function(t){var e=this,i=this.state,n=i.files,r=i.currentUploads,o=Ft({},n),s=o[t];delete o[t];var a=Ft({},r),l=[];Object.keys(a).forEach((function(e){var i=r[e].fileIDs.filter((function(e){return e!==t}));0!==i.length?a[e]=Ft({},r[e],{fileIDs:i}):l.push(e)})),this.setState({currentUploads:a,files:o}),l.forEach((function(t){e._removeUpload(t)})),this._calculateTotalProgress(),this.emit("file-removed",s),this.log("File removed: "+s.id),s.preview&&pt.isObjectURL(s.preview)&&URL.revokeObjectURL(s.preview),this.log("Removed file: "+t)},t.prototype.pauseResume=function(t){if(!this.getFile(t).uploadComplete){var e=!this.getFile(t).isPaused;return this.setFileState(t,{isPaused:e}),this.emit("upload-pause",t,e),e}},t.prototype.pauseAll=function(){var t=Ft({},this.getState().files);Object.keys(t).filter((function(e){return!t[e].progress.uploadComplete&&t[e].progress.uploadStarted})).forEach((function(e){var i=Ft({},t[e],{isPaused:!0});t[e]=i})),this.setState({files:t}),this.emit("pause-all")},t.prototype.resumeAll=function(){var t=Ft({},this.getState().files);Object.keys(t).filter((function(e){return!t[e].progress.uploadComplete&&t[e].progress.uploadStarted})).forEach((function(e){var i=Ft({},t[e],{isPaused:!1,error:null});t[e]=i})),this.setState({files:t}),this.emit("resume-all")},t.prototype.retryAll=function(){var t=Ft({},this.getState().files),e=Object.keys(t).filter((function(e){return t[e].error}));e.forEach((function(e){var i=Ft({},t[e],{isPaused:!1,error:null});t[e]=i})),this.setState({files:t,error:null}),this.emit("retry-all",e);var i=this._createUpload(e);return this._runUpload(i)},t.prototype.cancelAll=function(){var t=this;this.emit("cancel-all");var e=this.getState().currentUploads;Object.keys(e).forEach((function(e){t._removeUpload(e)})),this.setState({files:{},totalProgress:0})},t.prototype.retryUpload=function(t){var e=Ft({},this.getState().files),i=Ft({},e[t],{error:null,isPaused:!1});e[t]=i,this.setState({files:e}),this.emit("upload-retry",t);var n=this._createUpload([t]);return this._runUpload(n)},t.prototype.reset=function(){this.cancelAll()},t.prototype._calculateProgress=function(t,e){this.getFile(t.id)?(this.setFileState(t.id,{progress:Ft({},this.getFile(t.id).progress,{bytesUploaded:e.bytesUploaded,bytesTotal:e.bytesTotal,percentage:Math.floor((e.bytesUploaded/e.bytesTotal*100).toFixed(2))})}),this._calculateTotalProgress()):this.log("Not setting progress for a file that has been removed: "+t.id)},t.prototype._calculateTotalProgress=function(){var t=Ft({},this.getState().files),e=Object.keys(t).filter((function(e){return t[e].progress.uploadStarted})),i=100*e.length,n=0;e.forEach((function(e){n+=t[e].progress.percentage}));var r=0===i?0:Math.floor((100*n/i).toFixed(2));this.setState({totalProgress:r})},t.prototype.actions=function(){var t=this;this.on("error",(function(e){t.setState({error:e.message})})),this.on("upload-error",(function(e,i){t.setFileState(e.id,{error:i.message}),t.setState({error:i.message});var n=void 0;n=t.i18n("failedToUpload")+" "+e.name,"object"===(void 0===i?"undefined":jt(i))&&i.message&&(n={message:n,details:i.message}),t.info(n,"error",5e3)})),this.on("upload",(function(){t.setState({error:null})})),this.on("upload-started",(function(e){t.getFile(e.id)?t.setFileState(e.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:e.size}}):t.log("Not setting progress for a file that has been removed: "+e.id)}));var e=ct(this._calculateProgress,100,{leading:!0,trailing:!0});this.on("upload-progress",e),this.on("upload-success",(function(e,i,n){t.setFileState(e.id,{progress:Ft({},t.getFile(e.id).progress,{uploadComplete:!0,percentage:100}),uploadURL:n,isPaused:!1}),t._calculateTotalProgress()})),this.on("preprocess-progress",(function(e,i){t.getFile(e.id)?t.setFileState(e.id,{progress:Ft({},t.getFile(e.id).progress,{preprocess:i})}):t.log("Not setting progress for a file that has been removed: "+e.id)})),this.on("preprocess-complete",(function(e){if(t.getFile(e.id)){var i=Ft({},t.getState().files);i[e.id]=Ft({},i[e.id],{progress:Ft({},i[e.id].progress)}),delete i[e.id].progress.preprocess,t.setState({files:i})}else t.log("Not setting progress for a file that has been removed: "+e.id)})),this.on("postprocess-progress",(function(e,i){t.getFile(e.id)?t.setFileState(e.id,{progress:Ft({},t.getState().files[e.id].progress,{postprocess:i})}):t.log("Not setting progress for a file that has been removed: "+e.id)})),this.on("postprocess-complete",(function(e){if(t.getFile(e.id)){var i=Ft({},t.getState().files);i[e.id]=Ft({},i[e.id],{progress:Ft({},i[e.id].progress)}),delete i[e.id].progress.postprocess,t.setState({files:i})}else t.log("Not setting progress for a file that has been removed: "+e.id)})),this.on("restored",(function(){t._calculateTotalProgress()})),"undefined"!=typeof window&&(window.addEventListener("online",(function(){return t.updateOnlineStatus()})),window.addEventListener("offline",(function(){return t.updateOnlineStatus()})),setTimeout((function(){return t.updateOnlineStatus()}),3e3))},t.prototype.updateOnlineStatus=function(){void 0===window.navigator.onLine||window.navigator.onLine?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)},t.prototype.getID=function(){return this.opts.id},t.prototype.use=function(t,e){if("function"!=typeof t){var i="Expected a plugin class, but got "+(null===t?"null":void 0===t?"undefined":jt(t))+". Please verify that the plugin was imported and spelled correctly.";throw new TypeError(i)}var n=new t(this,e),r=n.id;if(this.plugins[n.type]=this.plugins[n.type]||[],!r)throw new Error("Your plugin must have an id");if(!n.type)throw new Error("Your plugin must have a type");var o=this.getPlugin(r);if(o){var s="Already found a plugin named '"+o.id+"'.\n        Tried to use: '"+r+"'.\n        Uppy is currently limited to running one of every plugin.\n        Share your use case with us over at\n        https://github.com/transloadit/uppy/issues/\n        if you want us to reconsider.";throw new Error(s)}return this.plugins[n.type].push(n),n.install(),this},t.prototype.getPlugin=function(t){var e=!1;return this.iteratePlugins((function(i){if(i.id===t)return e=i,!1})),e},t.prototype.iteratePlugins=function(t){var e=this;Object.keys(this.plugins).forEach((function(i){e.plugins[i].forEach(t)}))},t.prototype.removePlugin=function(t){var e=this.plugins[t.type];t.uninstall&&t.uninstall();var i=e.indexOf(t);-1!==i&&e.splice(i,1)},t.prototype.close=function(){this.reset(),this._storeUnsubscribe(),this.iteratePlugins((function(t){t.uninstall()}))},t.prototype.info=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,n="object"===(void 0===t?"undefined":jt(t));this.setState({info:{isHidden:!1,type:e,message:n?t.message:t,details:n?t.details:null}}),this.emit("info-visible"),clearTimeout(this.infoTimeoutID),this.infoTimeoutID=0!==i?setTimeout(this.hideInfo,i):void 0},t.prototype.hideInfo=function(){var t=Ft({},this.getState().info,{isHidden:!0});this.setState({info:t}),this.emit("info-hidden")},t.prototype.log=function(t,e){if(this.opts.debug){var i="[Uppy] ["+pt.getTimeStamp()+"] "+t;window.uppyLog=window.uppyLog+"\nDEBUG LOG: "+t,"error"!==e?"warning"!==e?t===""+t?console.log(i):(i="[Uppy] ["+pt.getTimeStamp()+"]",console.log(i),console.dir(t)):console.warn(i):console.error(i)}},t.prototype.run=function(){return this.log("Core is run, initializing actions..."),this.actions(),this},t.prototype.restore=function(t){return this.log('Core: attempting to restore upload "'+t+'"'),this.getState().currentUploads[t]?this._runUpload(t):(this._removeUpload(t),Rt.reject(new Error("Nonexistent upload")))},t.prototype._createUpload=function(t){var e,i=kt();return this.emit("upload",{id:i,fileIDs:t}),this.setState({currentUploads:Ft({},this.getState().currentUploads,(e={},e[i]={fileIDs:t,step:0,result:{}},e))}),i},t.prototype._getUpload=function(t){return this.getState().currentUploads[t]},t.prototype.addResultData=function(t,e){var i;if(this._getUpload(t)){var n=this.getState().currentUploads,r=Ft({},n[t],{result:Ft({},n[t].result,e)});this.setState({currentUploads:Ft({},n,(i={},i[t]=r,i))})}else this.log("Not setting result for an upload that has been removed: "+t)},t.prototype._removeUpload=function(t){var e=Ft({},this.getState().currentUploads);delete e[t],this.setState({currentUploads:e})},t.prototype._runUpload=function(t){var e=this,i=this.getState().currentUploads[t],n=i.fileIDs,r=i.step,o=[].concat(this.preProcessors,this.uploaders,this.postProcessors),s=Rt.resolve();return o.forEach((function(i,o){o<r||(s=s.then((function(){var r,s=e.getState().currentUploads,a=Ft({},s[t],{step:o});return e.setState({currentUploads:Ft({},s,(r={},r[t]=a,r))}),i(n,t)})).then((function(){return null})))})),s.catch((function(i){e.emit("error",i),e._removeUpload(t)})),s.then((function(){var i=n.map((function(t){return e.getFile(t)})),r=i.filter((function(t){return t&&!t.error})),o=i.filter((function(t){return t&&t.error}));e.addResultData(t,{successful:r,failed:o,uploadID:t});var s=e.getState().currentUploads;if(s[t]){var a=s[t].result;return e.emit("complete",a),e._removeUpload(t),a}e.log("Not setting result for an upload that has been removed: "+t)}))},t.prototype.upload=function(){var t=this;this.plugins.uploader||this.log("No uploader type plugins are used","warning");var e=this.getState().files,i=this.opts.onBeforeUpload(e);if(!1===i)return Rt.reject(new Error("Not starting the upload because onBeforeUpload returned false"));if(i&&"object"===(void 0===i?"undefined":jt(i))){if(i.then)throw new TypeError("onBeforeUpload() returned a Promise, but this is no longer supported. It must be synchronous.");e=i}return Rt.resolve().then((function(){return t._checkMinNumberOfFiles(e)})).then((function(){var i=t.getState().currentUploads,n=Object.keys(i).reduce((function(t,e){return t.concat(i[e].fileIDs)}),[]),r=[];Object.keys(e).forEach((function(e){var i=t.getFile(e);i.progress.uploadStarted||-1!==n.indexOf(e)||r.push(i.id)}));var o=t._createUpload(r);return t._runUpload(o)})).catch((function(e){var i="object"===(void 0===e?"undefined":jt(e))?e.message:e;return t.log(i),t.info(i,"error",4e3),Rt.reject("object"===(void 0===e?"undefined":jt(e))?e:new Error(e))}))},qt(t,[{key:"state",get:function(){return this.getState()}}]),t}();(Pt=function(t){return new Bt(t)}).Uppy=Bt;var Ht,Ut=Pt,Wt={};Ht=function(){return function(){var t=arguments.length;if(0===t)throw new Error("resolveUrl requires at least one argument; got none.");var e=document.createElement("base");if(e.href=arguments[0],1===t)return e.href;var i=document.getElementsByTagName("head")[0];i.insertBefore(e,i.firstChild);for(var n,r=document.createElement("a"),o=1;o<t;o++)r.href=arguments[o],n=r.href,e.href=n;return i.removeChild(e),n}},"object"==typeof Wt?Wt=Ht():this.resolveUrl=Ht();var Xt=function(){function t(e){var i=this;!function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.queued=[],this.isOpen=!1,this.socket=new WebSocket(e.target),this.emitter=Lt(),this.socket.onopen=function(){for(i.isOpen=!0;i.queued.length>0&&i.isOpen;){var t=i.queued[0];i.send(t.action,t.payload),i.queued=i.queued.slice(1)}},this.socket.onclose=function(){i.isOpen=!1},this._handleMessage=this._handleMessage.bind(this),this.socket.onmessage=this._handleMessage,this.close=this.close.bind(this),this.emit=this.emit.bind(this),this.on=this.on.bind(this),this.once=this.once.bind(this),this.send=this.send.bind(this)}return t.prototype.close=function(){return this.socket.close()},t.prototype.send=function(t,e){this.isOpen?this.socket.send(JSON.stringify({action:t,payload:e})):this.queued.push({action:t,payload:e})},t.prototype.on=function(t,e){console.log(t),this.emitter.on(t,e)},t.prototype.emit=function(t,e){console.log(t),this.emitter.emit(t,e)},t.prototype.once=function(t,e){this.emitter.once(t,e)},t.prototype._handleMessage=function(t){try{var e=JSON.parse(t.data);console.log(e),this.emit(e.action,e.payload)}catch(t){console.log(t)}},t}(),Gt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Yt="undefined"==typeof Promise?lt.Promise:Promise,Vt=pt.emitSocketProgress,Kt=pt.getSocketHost,Qt=pt.settle,Jt=pt.limitPromises,Zt=function(t){function e(i,n){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,n));r.type="uploader",r.id="XHRUpload",r.title="XHRUpload";var o={strings:{timedOut:"Upload stalled for %{seconds} seconds, aborting."}},s={formData:!0,fieldName:"files[]",method:"post",metaFields:null,responseUrlFieldName:"url",bundle:!1,headers:{},locale:o,timeout:3e4,limit:0,getResponseData:function(t){var e={};try{e=JSON.parse(t)}catch(t){console.log(t)}return e},getResponseError:function(){return new Error("Upload error")}};if(r.opts=Gt({},s,n),r.locale=Gt({},o,r.opts.locale),r.locale.strings=Gt({},o.strings,r.opts.locale.strings),r.translator=new It({locale:r.locale}),r.i18n=r.translator.translate.bind(r.translator),r.handleUpload=r.handleUpload.bind(r),"number"==typeof r.opts.limit&&0!==r.opts.limit?r.limitUploads=Jt(r.opts.limit):r.limitUploads=function(t){return t},r.opts.bundle&&!r.opts.formData)throw new Error("`opts.formData` must be true when `opts.bundle` is enabled.");return r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getOptions=function(t){var e=Gt({},this.opts,this.uppy.state.xhrUpload||{},t.xhrUpload||{});return e.headers={},Gt(e.headers,this.opts.headers),this.uppy.state.xhrUpload&&Gt(e.headers,this.uppy.state.xhrUpload.headers),t.xhrUpload&&Gt(e.headers,t.xhrUpload.headers),e},e.prototype.createProgressTimeout=function(t,e){function i(){r.log("[XHRUpload] timed out");var i=new Error(o.i18n("timedOut",{seconds:Math.ceil(t/1e3)}));e(i)}function n(){s&&(clearTimeout(s),s=null)}var r=this.uppy,o=this,s=null;return{progress:function(){t>0&&(n(),s=setTimeout(i,t))},done:n}},e.prototype.createFormDataUpload=function(t,e){var i=new FormData;return(Array.isArray(e.metaFields)?e.metaFields:Object.keys(t.meta)).forEach((function(e){i.append(e,t.meta[e])})),i.append(e.fieldName,t.data),i},e.prototype.createBareUpload=function(t){return t.data},e.prototype.upload=function(t,e,i){var n=this,r=this.getOptions(t);return this.uppy.log("uploading "+e+" of "+i),new Yt((function(e,i){var o=r.formData?n.createFormDataUpload(t,r):n.createBareUpload(t,r),s=n.createProgressTimeout(r.timeout,(function(e){a.abort(),n.uppy.emit("upload-error",t,e),i(e)})),a=new XMLHttpRequest,l=kt();a.upload.addEventListener("loadstart",(function(){n.uppy.log("[XHRUpload] "+l+" started"),s.progress()})),a.upload.addEventListener("progress",(function(e){n.uppy.log("[XHRUpload] "+l+" progress: "+e.loaded+" / "+e.total),s.progress(),e.lengthComputable&&n.uppy.emit("upload-progress",t,{uploader:n,bytesUploaded:e.loaded,bytesTotal:e.total})})),a.addEventListener("load",(function(o){if(n.uppy.log("[XHRUpload] "+l+" finished"),s.done(),o.target.status>=200&&o.target.status<300){var c=r.getResponseData(a.responseText,a),u=c[r.responseUrlFieldName],h={status:o.target.status,body:c,uploadURL:u};return n.uppy.setFileState(t.id,{response:h}),n.uppy.emit("upload-success",t,c,u),u&&n.uppy.log("Download "+t.name+" from "+t.uploadURL),e(t)}var d=r.getResponseData(a.responseText,a),p=m(a,r.getResponseError(a.responseText,a)),f={status:o.target.status,body:d};return n.uppy.setFileState(t.id,{response:f}),n.uppy.emit("upload-error",t,p),i(p)})),a.addEventListener("error",(function(){n.uppy.log("[XHRUpload] "+l+" errored"),s.done();var e=m(a,r.getResponseError(a.responseText,a));return n.uppy.emit("upload-error",t,e),i(e)})),a.open(r.method.toUpperCase(),r.endpoint,!0),Object.keys(r.headers).forEach((function(t){a.setRequestHeader(t,r.headers[t])})),a.send(o),n.uppy.on("file-removed",(function(e){e.id===t.id&&(s.done(),a.abort())})),n.uppy.on("upload-cancel",(function(e){e===t.id&&(s.done(),a.abort())})),n.uppy.on("cancel-all",(function(){a.abort()}))}))},e.prototype.uploadRemote=function(t){var e=this,i=this.getOptions(t);return new Yt((function(n,r){var o={};(Array.isArray(i.metaFields)?i.metaFields:Object.keys(t.meta)).forEach((function(e){o[e]=t.meta[e]})),fetch(t.remote.url,{method:"post",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(Gt({},t.remote.body,{endpoint:i.endpoint,size:t.data.size,fieldname:i.fieldName,metadata:o,headers:i.headers}))}).then((function(o){if(o.status<200&&o.status>300)return r(o.statusText);o.json().then((function(o){
var s=o.token,a=Kt(t.remote.host),l=new Xt({target:a+"/api/"+s});l.on("progress",(function(i){return Vt(e,i,t)})),l.on("success",(function(r){var o=i.getResponseData(r.response.responseText,r.response),s=o[i.responseUrlFieldName];return e.uppy.emit("upload-success",t,o,s),l.close(),n()})),l.on("error",(function(n){var o=n.response,s=o?i.getResponseError(o.responseText,o):new Error(n.error);e.uppy.emit("upload-error",t,s),r(new Error(n.error))}))}))}))}))},e.prototype.uploadBundle=function(t){var e=this;return new Yt((function(i,n){var r=e.opts.endpoint,o=e.opts.method,s=new FormData;t.forEach((function(t){var i=e.getOptions(t);s.append(i.fieldName,t.data)}));var a=new XMLHttpRequest,l=e.createProgressTimeout(e.opts.timeout,(function(t){a.abort(),c(t),n(t)})),c=function(i){t.forEach((function(t){e.uppy.emit("upload-error",t,i)}))};a.upload.addEventListener("loadstart",(function(){e.uppy.log("[XHRUpload] started uploading bundle"),l.progress()})),a.upload.addEventListener("progress",(function(i){l.progress(),i.lengthComputable&&t.forEach((function(t){e.uppy.emit("upload-progress",t,{uploader:e,bytesUploaded:i.loaded,bytesTotal:i.total})}))})),a.addEventListener("load",(function(r){if(l.done(),r.target.status>=200&&r.target.status<300){var o=e.opts.getResponseData(a.responseText,a);return t.forEach((function(t){e.uppy.emit("upload-success",t,o)})),i()}var s=e.opts.getResponseError(a.responseText,a)||new Error("Upload error");return s.request=a,c(s),n(s)})),a.addEventListener("error",(function(){l.done();var t=e.opts.getResponseError(a.responseText,a)||new Error("Upload error");return c(t),n(t)})),e.uppy.on("cancel-all",(function(){a.abort()})),a.open(o.toUpperCase(),r,!0),Object.keys(e.opts.headers).forEach((function(t){a.setRequestHeader(t,e.opts.headers[t])})),a.send(s),t.forEach((function(t){e.uppy.emit("upload-started",t)}))}))},e.prototype.uploadFiles=function(t){var e=this,i=t.map((function(i,n){var r=parseInt(n,10)+1,o=t.length;return i.error?function(){return Yt.reject(new Error(i.error))}:i.isRemote?(e.uppy.emit("upload-started",i),e.uploadRemote.bind(e,i,r,o)):(e.uppy.emit("upload-started",i),e.upload.bind(e,i,r,o))})).map((function(t){return e.limitUploads(t)()}));return Qt(i)},e.prototype.handleUpload=function(t){var e=this;if(0===t.length)return this.uppy.log("[XHRUpload] No files to upload!"),Yt.resolve();this.uppy.log("[XHRUpload] Uploading...");var i=t.map((function(t){return e.uppy.getFile(t)}));return this.opts.bundle?this.uploadBundle(i):this.uploadFiles(i).then((function(){return null}))},e.prototype.install=function(){this.uppy.addUploader(this.handleUpload)},e.prototype.uninstall=function(){this.uppy.removeUploader(this.handleUpload)},e}(vt),te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ee=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},ie="undefined"==typeof Promise?lt.Promise:Promise,ne=pt.limitPromises,re=function(t){function e(i,n){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,n));r.type="uploader",r.id="AwsS3",r.title="AWS S3";var o={strings:{preparingUpload:"Preparing upload..."}},s={timeout:3e4,limit:0,getUploadParameters:r.getUploadParameters.bind(r),locale:o};return r.opts=ee({},s,n),r.locale=ee({},o,r.opts.locale),r.locale.strings=ee({},o.strings,r.opts.locale.strings),r.translator=new It({locale:r.locale}),r.i18n=r.translator.translate.bind(r.translator),r.prepareUpload=r.prepareUpload.bind(r),"number"==typeof r.opts.limit&&0!==r.opts.limit?r.limitRequests=ne(r.opts.limit):r.limitRequests=function(t){return t},r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getUploadParameters=function(t){if(!this.opts.host)throw new Error("Expected a `host` option containing an uppy-server address.");var e=encodeURIComponent(t.name),i=encodeURIComponent(t.type);return fetch(this.opts.host+"/s3/params?filename="+e+"&type="+i,{method:"get",headers:{accept:"application/json"}}).then((function(t){return t.json()}))},e.prototype.validateParameters=function(t,e){if("object"!==(void 0===e?"undefined":te(e))||!e||"string"!=typeof e.url||"object"!==te(e.fields)&&null!=e.fields||null!=e.method&&!/^(put|post)$/i.test(e.method)){var i=new TypeError("AwsS3: got incorrect result from 'getUploadParameters()' for file '"+t.name+"', expected an object '{ url, method, fields }'.\nSee https://uppy.io/docs/aws-s3/#getUploadParameters-file for more on the expected format.");throw console.error(i),i}return e},e.prototype.prepareUpload=function(t){var e=this;t.forEach((function(t){var i=e.uppy.getFile(t);e.uppy.emit("preprocess-progress",i,{mode:"determinate",message:e.i18n("preparingUpload"),value:0})}));var i=this.limitRequests(this.opts.getUploadParameters);return ie.all(t.map((function(t){var n=e.uppy.getFile(t);return ie.resolve().then((function(){return i(n)})).then((function(t){return e.validateParameters(n,t)})).then((function(t){return e.uppy.emit("preprocess-progress",n,{mode:"determinate",message:e.i18n("preparingUpload"),value:1}),t})).catch((function(t){e.uppy.emit("upload-error",n,t)}))}))).then((function(i){var n={};t.forEach((function(t,r){var o=e.uppy.getFile(t);if(!o.error){var s=i[r],a=s.method,l=void 0===a?"post":a,c=s.url,u=s.fields,h=s.headers,d={method:l,formData:"post"===l.toLowerCase(),endpoint:c,metaFields:Object.keys(u)};h&&(d.headers=h);var p=ee({},o,{meta:ee({},o.meta,u),xhrUpload:d});n[t]=p}})),e.uppy.setState({files:ee({},e.uppy.getState().files,n)}),t.forEach((function(t){var i=e.uppy.getFile(t);e.uppy.emit("preprocess-complete",i)}))}))},e.prototype.install=function(){this.uppy.addPreProcessor(this.prepareUpload),this.uppy.use(Zt,{fieldName:"file",responseUrlFieldName:"location",timeout:this.opts.timeout,limit:this.opts.limit,getResponseData:function(t,e){if(!g(e))return{location:e.responseURL};var i=function(){return""};return e.responseXML&&(i=function(t){var i=e.responseXML.querySelector(t);return i?i.textContent:""}),e.responseText&&(i=function(t){var i=e.responseText.indexOf("<"+t+">"),n=e.responseText.indexOf("</"+t+">");return-1!==i&&-1!==n?e.responseText.slice(i+t.length+2,n):""}),{location:Wt(e.responseURL,i("Location")),bucket:i("Bucket"),key:i("Key"),etag:i("ETag")}},getResponseError:function(t,e){if(g(e)){var i=e.responseXML.querySelector("Error > Message");return new Error(i.textContent)}}})},e.prototype.uninstall=function(){var t=this.uppy.getPlugin("XHRUpload");this.uppy.removePlugin(t),this.uppy.removePreProcessor(this.prepareUpload)},e}(vt),oe=function(t,e){return(e="number"==typeof e?e:1/0)?function t(i,n){return i.reduce((function(i,r){return Array.isArray(r)&&n<e?i.concat(t(r,n+1)):i.concat(r)}),[])}(t,1):Array.isArray(t)?t.map((function(t){return t})):t},se={};(function(t){se=function(e,i){function n(e){function n(){i&&i(e,o),i=null}l?t.nextTick(n):n()}function r(t,e,i){o[t]=i,(0==--s||e)&&n(e)}var o,s,a,l=!0;Array.isArray(e)?(o=[],s=e.length):(a=Object.keys(e),o={},s=a.length),s?a?a.forEach((function(t){e[t]((function(e,i){r(t,e,i)}))})):e.forEach((function(t,e){t((function(t,i){r(e,t,i)}))})):n(null),l=!1}}).call(this,tt);var ae=function(t,e){function i(t){return e.onDragEnter&&e.onDragEnter(t),t.stopPropagation(),t.preventDefault(),!1}function n(i){if(i.stopPropagation(),i.preventDefault(),i.dataTransfer.items){var n=y(i.dataTransfer.items),r=n.filter((function(t){return"file"===t.kind})),o=n.filter((function(t){return"string"===t.kind}));if(0===r.length&&!e.onDropText)return;if(0===o.length&&!e.onDrop)return;if(0===r.length&&0===o.length)return}return t.classList.add("drag"),clearTimeout(l),e.onDragOver&&e.onDragOver(i),i.dataTransfer.dropEffect="copy",!1}function r(t){return t.stopPropagation(),t.preventDefault(),e.onDragLeave&&e.onDragLeave(t),clearTimeout(l),l=setTimeout(s,50),!1}function o(t){t.stopPropagation(),t.preventDefault(),e.onDragLeave&&e.onDragLeave(t),clearTimeout(l),s();var i={x:t.clientX,y:t.clientY},n=t.dataTransfer.getData("text");if(n&&e.onDropText&&e.onDropText(n,i),t.dataTransfer.items){var r=y(t.dataTransfer.items).filter((function(t){return"file"===t.kind}));if(0===r.length)return;se(r.map((function(t){return function(e){!function(t,e){var i=[];if(t.isFile)t.file((function(i){i.fullPath=t.fullPath,e(null,i)}),(function(t){e(t)}));else if(t.isDirectory){var n=t.createReader();!function t(){n.readEntries((function(n){n.length>0?(i=i.concat(y(n)),t()):se(i.map((function(t){return function(e){!function(t,e){var i=[];if(t.isFile)t.file((function(i){i.fullPath=t.fullPath,e(null,i)}),(function(t){e(t)}));else if(t.isDirectory){var n=t.createReader();!function t(){n.readEntries((function(n){n.length>0?(i=i.concat(y(n)),t()):se(i.map((function(t){return function(e){v(t,e)}})),e)}))}()}}(t,e)}})),e)}))}()}}(t.webkitGetAsEntry(),e)}})),(function(t,n){if(t)throw t;e.onDrop&&e.onDrop(oe(n),i)}))}else{var o=y(t.dataTransfer.files);if(0===o.length)return;o.forEach((function(t){t.fullPath="/"+t.name})),e.onDrop&&e.onDrop(o,i)}return!1}function s(){t.classList.remove("drag")}if("string"==typeof t){var a=t;if(!(t=window.document.querySelector(t)))throw new Error('"'+a+'" does not match any HTML elements')}if(!t)throw new Error('"'+t+'" is not a valid HTML element');var l;return"function"==typeof e&&(e={onDrop:e}),t.addEventListener("dragenter",i,!1),t.addEventListener("dragover",n,!1),t.addEventListener("dragleave",r,!1),t.addEventListener("drop",o,!1),function(){s(),t.removeEventListener("dragenter",i,!1),t.removeEventListener("dragover",n,!1),t.removeEventListener("dragleave",r,!1),t.removeEventListener("drop",o,!1)}},le={exports:{}};!function(){"use strict";function t(){for(var i=[],n=0;n<arguments.length;n++){var r=arguments[n];if(r){var o=typeof r;if("string"===o||"number"===o)i.push(r);else if(Array.isArray(r))i.push(t.apply(null,r));else if("object"===o)for(var s in r)e.call(r,s)&&r[s]&&i.push(s)}}return i.join(" ")}var e={}.hasOwnProperty;le.exports?le.exports=t:window.classNames=t}(),le=le.exports;var ce=Z.h,ue=function(){return ce("svg",{"aria-hidden":"true",class:"UppyIcon",width:"30",height:"30",viewBox:"0 0 30 30"},ce("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"}))},he=function(){return ce("svg",{"aria-hidden":"true",class:"UppyIcon",width:"51",height:"51",viewBox:"0 0 51 51"},ce("path",{d:"M17.21 45.765a5.394 5.394 0 0 1-7.62 0l-4.12-4.122a5.393 5.393 0 0 1 0-7.618l6.774-6.775-2.404-2.404-6.775 6.776c-3.424 3.427-3.424 9 0 12.426l4.12 4.123a8.766 8.766 0 0 0 6.216 2.57c2.25 0 4.5-.858 6.214-2.57l13.55-13.552a8.72 8.72 0 0 0 2.575-6.213 8.73 8.73 0 0 0-2.575-6.213l-4.123-4.12-2.404 2.404 4.123 4.12a5.352 5.352 0 0 1 1.58 3.81c0 1.438-.562 2.79-1.58 3.808l-13.55 13.55z"}),ce("path",{d:"M44.256 2.858A8.728 8.728 0 0 0 38.043.283h-.002a8.73 8.73 0 0 0-6.212 2.574l-13.55 13.55a8.725 8.725 0 0 0-2.575 6.214 8.73 8.73 0 0 0 2.574 6.216l4.12 4.12 2.405-2.403-4.12-4.12a5.357 5.357 0 0 1-1.58-3.812c0-1.437.562-2.79 1.58-3.808l13.55-13.55a5.348 5.348 0 0 1 3.81-1.58c1.44 0 2.792.562 3.81 1.58l4.12 4.12c2.1 2.1 2.1 5.518 0 7.617L39.2 23.775l2.404 2.404 6.775-6.777c3.426-3.427 3.426-9 0-12.426l-4.12-4.12z"}))},de=function(){return ce("svg",{class:"UppyIcon retry",width:"28",height:"31",viewBox:"0 0 16 19",xmlns:"http://www.w3.org/2000/svg"},ce("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),ce("path",{d:"M7.9 3H10v2H7.9z"}),ce("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),ce("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"}))},pe=function(){return ce("svg",{"aria-hidden":"true",class:"UppyIcon",width:"28",height:"28",viewBox:"0 0 28 28"},ce("path",{d:"M25.436 2.566a7.98 7.98 0 0 0-2.078-1.51C22.638.703 21.906.5 21.198.5a3 3 0 0 0-1.023.17 2.436 2.436 0 0 0-.893.562L2.292 18.217.5 27.5l9.28-1.796 16.99-16.99c.255-.254.444-.56.562-.888a3 3 0 0 0 .17-1.023c0-.708-.205-1.44-.555-2.16a8 8 0 0 0-1.51-2.077zM9.01 24.252l-4.313.834c0-.03.008-.06.012-.09.007-.944-.74-1.715-1.67-1.723-.04 0-.078.007-.118.01l.83-4.29L17.72 5.024l5.264 5.264L9.01 24.252zm16.84-16.96a.818.818 0 0 1-.194.31l-1.57 1.57-5.26-5.26 1.57-1.57a.82.82 0 0 1 .31-.194 1.45 1.45 0 0 1 .492-.074c.397 0 .917.126 1.468.397.55.27 1.13.678 1.656 1.21.53.53.94 1.11 1.208 1.655.272.55.397 1.07.393 1.468.004.193-.027.358-.074.488z"}))},fe=function(){return ce("svg",{"aria-hidden":"true",class:"UppyIcon",width:"27",height:"25",viewBox:"0 0 27 25"},ce("path",{d:"M5.586 9.288a.313.313 0 0 0 .282.176h4.84v3.922c0 1.514 1.25 2.24 2.792 2.24 1.54 0 2.79-.726 2.79-2.24V9.464h4.84c.122 0 .23-.068.284-.176a.304.304 0 0 0-.046-.324L13.735.106a.316.316 0 0 0-.472 0l-7.63 8.857a.302.302 0 0 0-.047.325z"}),ce("path",{d:"M24.3 5.093c-.218-.76-.54-1.187-1.208-1.187h-4.856l1.018 1.18h3.948l2.043 11.038h-7.193v2.728H9.114v-2.725h-7.36l2.66-11.04h3.33l1.018-1.18H3.907c-.668 0-1.06.46-1.21 1.186L0 16.456v7.062C0 24.338.676 25 1.51 25h23.98c.833 0 1.51-.663 1.51-1.482v-7.062L24.3 5.093z"}))},me=function(){return ce("svg",{"aria-hidden":"true",class:"UppyIcon",width:"62",height:"62",viewBox:"0 0 62 62",xmlns:"http://www.w3.org/2000/svg"},ce("path",{d:"M4.309 4.309h24.912v53.382h-6.525v3.559h16.608v-3.559h-6.525V4.309h24.912v10.676h3.559V.75H.75v14.235h3.559z","fill-rule":"nonzero",fill:"#000"}))},ge=function(){return ce("svg",{"aria-hidden":"true",class:"UppyIcon",width:"55",height:"55",viewBox:"0 0 55 55"},ce("path",{d:"M52.66.25c-.216-.19-.5-.276-.79-.242l-31 4.01a1 1 0 0 0-.87.992V40.622C18.174 38.428 15.273 37 12 37c-5.514 0-10 4.037-10 9s4.486 9 10 9 10-4.037 10-9c0-.232-.02-.46-.04-.687.014-.065.04-.124.04-.192V16.12l29-3.753v18.257C49.174 28.428 46.273 27 43 27c-5.514 0-10 4.037-10 9s4.486 9 10 9c5.464 0 9.913-3.966 9.993-8.867 0-.013.007-.024.007-.037V1a.998.998 0 0 0-.34-.75zM12 53c-4.41 0-8-3.14-8-7s3.59-7 8-7 8 3.14 8 7-3.59 7-8 7zm31-10c-4.41 0-8-3.14-8-7s3.59-7 8-7 8 3.14 8 7-3.59 7-8 7zM22 14.1V5.89l29-3.753v8.21l-29 3.754z"}))},ve=function(){return ce("svg",{"aria-hidden":"true",class:"UppyIcon",viewBox:"0 0 58 58"},ce("path",{d:"M36.537 28.156l-11-7a1.005 1.005 0 0 0-1.02-.033C24.2 21.3 24 21.635 24 22v14a1 1 0 0 0 1.537.844l11-7a1.002 1.002 0 0 0 0-1.688zM26 34.18V23.82L34.137 29 26 34.18z"}),ce("path",{d:"M57 6H1a1 1 0 0 0-1 1v44a1 1 0 0 0 1 1h56a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zM10 28H2v-9h8v9zm-8 2h8v9H2v-9zm10 10V8h34v42H12V40zm44-12h-8v-9h8v9zm-8 2h8v9h-8v-9zm8-22v9h-8V8h8zM2 8h8v9H2V8zm0 42v-9h8v9H2zm54 0h-8v-9h8v9z"}))},ye=function(){return ce("svg",{"aria-hidden":"true",class:"UppyIcon",viewBox:"0 0 342 335"},ce("path",{d:"M329.337 227.84c-2.1 1.3-8.1 2.1-11.9 2.1-12.4 0-27.6-5.7-49.1-14.9 8.3-.6 15.8-.9 22.6-.9 12.4 0 16 0 28.2 3.1 12.1 3 12.2 9.3 10.2 10.6zm-215.1 1.9c4.8-8.4 9.7-17.3 14.7-26.8 12.2-23.1 20-41.3 25.7-56.2 11.5 20.9 25.8 38.6 42.5 52.8 2.1 1.8 4.3 3.5 6.7 5.3-34.1 6.8-63.6 15-89.6 24.9zm39.8-218.9c6.8 0 10.7 17.06 11 33.16.3 16-3.4 27.2-8.1 35.6-3.9-12.4-5.7-31.8-5.7-44.5 0 0-.3-24.26 2.8-24.26zm-133.4 307.2c3.9-10.5 19.1-31.3 41.6-49.8 1.4-1.1 4.9-4.4 8.1-7.4-23.5 37.6-39.3 52.5-49.7 57.2zm315.2-112.3c-6.8-6.7-22-10.2-45-10.5-15.6-.2-34.3 1.2-54.1 3.9-8.8-5.1-17.9-10.6-25.1-17.3-19.2-18-35.2-42.9-45.2-70.3.6-2.6 1.2-4.8 1.7-7.1 0 0 10.8-61.5 7.9-82.3-.4-2.9-.6-3.7-1.4-5.9l-.9-2.5c-2.9-6.76-8.7-13.96-17.8-13.57l-5.3-.17h-.1c-10.1 0-18.4 5.17-20.5 12.84-6.6 24.3.2 60.5 12.5 107.4l-3.2 7.7c-8.8 21.4-19.8 43-29.5 62l-1.3 2.5c-10.2 20-19.5 37-27.9 51.4l-8.7 4.6c-.6.4-15.5 8.2-19 10.3-29.6 17.7-49.28 37.8-52.54 53.8-1.04 5-.26 11.5 5.01 14.6l8.4 4.2c3.63 1.8 7.53 2.7 11.43 2.7 21.1 0 45.6-26.2 79.3-85.1 39-12.7 83.4-23.3 122.3-29.1 29.6 16.7 66 28.3 89 28.3 4.1 0 7.6-.4 10.5-1.2 4.4-1.1 8.1-3.6 10.4-7.1 4.4-6.7 5.4-15.9 4.1-25.4-.3-2.8-2.6-6.3-5-8.7z"}))},be=function(t){var e={color:"#cbcbcb",icon:""};if(!t)return e;var i=t.split("/")[0],n=t.split("/")[1];return"text"===i?{color:"#cbcbcb",icon:me()}:"audio"===i?{color:"#1abc9c",icon:ge()}:"video"===i?{color:"#2980b9",icon:ve()}:"application"===i&&"pdf"===n?{color:"#e74c3c",icon:ye()}:"image"===i?{color:"#f2f2f2",icon:""}:e},we=Z.h,xe=function(t){var e=t.file;if(e.preview)return we("img",{class:"uppy-DashboardItem-previewImg",alt:e.name,src:e.preview});var i=be(e.type),n=i.color,r=i.icon;return we("div",{class:"uppy-DashboardItem-previewIconWrap"},we("span",{class:"uppy-DashboardItem-previewIcon",style:{color:n}},r),we("svg",{class:"uppy-DashboardItem-previewIconBg",width:"72",height:"93",viewBox:"0 0 72 93"},we("g",null,we("path",{d:"M24.08 5h38.922A2.997 2.997 0 0 1 66 8.003v74.994A2.997 2.997 0 0 1 63.004 86H8.996A2.998 2.998 0 0 1 6 83.01V22.234L24.08 5z",fill:"#FFF"}),we("path",{d:"M24 5L6 22.248h15.007A2.995 2.995 0 0 0 24 19.244V5z",fill:"#E4E4E4"}))))},_e=Z.h,ke=function(t){function e(i){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i));return n.meta={},n.tempStoreMetaOrSubmit=n.tempStoreMetaOrSubmit.bind(n),n.renderMetaFields=n.renderMetaFields.bind(n),n.handleSave=n.handleSave.bind(n),n.handleCancel=n.handleCancel.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.tempStoreMetaOrSubmit=function(t){var e=this.props.files[this.props.fileCardFor];if(13===t.keyCode)return t.stopPropagation(),t.preventDefault(),void this.props.saveFileCard(this.meta,e.id);var i=t.target.value,n=t.target.dataset.name;this.meta[n]=i},e.prototype.renderMetaFields=function(t){var e=this;return(this.props.metaFields||[]).map((function(i){return _e("fieldset",{class:"uppy-DashboardFileCard-fieldset"},_e("label",{class:"uppy-DashboardFileCard-label"},i.name),_e("input",{class:"uppy-c-textInput uppy-DashboardFileCard-input",type:"text","data-name":i.id,value:t.meta[i.id],placeholder:i.placeholder,onkeyup:e.tempStoreMetaOrSubmit,onkeydown:e.tempStoreMetaOrSubmit,onkeypress:e.tempStoreMetaOrSubmit}))}))},e.prototype.handleSave=function(){var t=this.props.fileCardFor;this.props.saveFileCard(this.meta,t)},e.prototype.handleCancel=function(){this.meta={},this.props.toggleFileCard()},e.prototype.render=function(){var t=this.props.files[this.props.fileCardFor];return _e("div",{class:"uppy-DashboardFileCard","aria-hidden":!this.props.fileCardFor},this.props.fileCardFor&&_e("div",{style:"width: 100%; height: 100%;"},_e("div",{class:"uppy-DashboardContent-bar"},_e("h2",{class:"uppy-DashboardContent-title"},this.props.i18n("editing")," ",_e("span",{class:"uppy-DashboardContent-titleFile"},t.meta?t.meta.name:t.name)),_e("button",{class:"uppy-DashboardContent-back",type:"button",title:this.props.i18n("finishEditingFile"),onclick:this.handleSave},this.props.i18n("done"))),_e("div",{class:"uppy-DashboardFileCard-inner"},_e("div",{class:"uppy-DashboardFileCard-preview",style:{backgroundColor:be(t.type).color}},_e(xe,{file:t})),_e("div",{class:"uppy-DashboardFileCard-info"},this.renderMetaFields(t)),_e("div",{class:"uppy-Dashboard-actions"},_e("button",{class:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-actionsBtn",type:"button",title:this.props.i18n("finishEditingFiles"),onclick:this.handleSave},"Save changes"),_e("button",{class:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-actionsBtn",type:"button",title:this.props.i18n("finishEditingFiles"),onclick:this.handleCancel},"Cancel")))))},e}(Z.Component),Ce=Z.h,Se=function(t){function e(i){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i));return n.handleClick=n.handleClick.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.handleClick=function(){this.input.click()},e.prototype.render=function(){var t=this;return Ce("span",null,0===this.props.acquirers.length?this.props.i18n("dropPaste"):this.props.i18n("dropPasteImport")," ",Ce("button",{type:"button",class:"uppy-Dashboard-browse",onclick:this.handleClick},this.props.i18n("browse")),Ce("input",{class:"uppy-Dashboard-input",hidden:"true","aria-hidden":"true",tabindex:"-1",type:"file",name:"files[]",multiple:"true",onchange:this.props.handleInputChange,value:"",ref:function(e){t.input=e}}))},e}(Z.Component),Te=Z.h,Ae=2*Math.PI*15,Ee=function(t){return Te("svg",{width:"70",height:"70",viewBox:"0 0 36 36",class:"UppyIcon UppyIcon-progressCircle"},Te("g",{class:"progress-group"},Te("circle",{r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none",class:"bg"}),Te("circle",{r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)","stroke-width":"2",fill:"none",class:"progress","stroke-dasharray":Ae,"stroke-dashoffset":Ae-Ae/100*t.progress})),Te("polygon",{transform:"translate(3, 3)",points:"12 20 12 10 20 15",class:"play"}),Te("g",{transform:"translate(14.5, 13)",class:"pause"},Te("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),Te("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})),Te("polygon",{transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634",class:"check"}),Te("polygon",{class:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"}))},Pe=pt.getFileNameAndExtension,Me=pt.truncateString,Le=pt.copyToClipboard,Oe=pe,De=he,Ie=de,$e=Z.h,Ne=Z.h,ze=function(t){var e=0===t.totalFileCount,i=le("uppy-Dashboard-files",{"uppy-Dashboard-files--noFiles":e});return Ne("ul",{class:i},e&&Ne("div",{class:"uppy-Dashboard-bgIcon"},Ne("div",{class:"uppy-Dashboard-dropFilesTitle"},Ne(Se,{acquirers:t.acquirers,handleInputChange:t.handleInputChange,i18n:t.i18n})),t.note&&Ne("div",{class:"uppy-Dashboard-note"},t.note)),Object.keys(t.files).map((function(e){return function(t){var e=t.file,i=t.acquirers,n=e.progress.preprocess||e.progress.postprocess,r=e.progress.uploadComplete&&!n&&!e.error,o=e.progress.uploadStarted||n,s=e.progress.uploadStarted&&!e.progress.uploadComplete||n,a=e.isPaused||!1,l=e.error||!1,c=Pe(e.meta.name).name,u=t.isWide?Me(c,14):c,h=le("uppy-DashboardItem",{"is-inprogress":s},{"is-processing":n},{"is-complete":r},{"is-paused":a},{"is-error":l},{"is-resumable":t.resumableUploads}),d=r?t.i18n("uploadComplete"):t.resumableUploads?e.isPaused?t.i18n("resumeUpload"):t.i18n("pauseUpload"):l?t.i18n("retryUpload"):t.i18n("cancelUpload");return $e("li",{class:h,id:"uppy_"+e.id,title:e.meta.name},$e("div",{class:"uppy-DashboardItem-preview"},$e("div",{class:"uppy-DashboardItem-previewInnerWrap",style:{backgroundColor:be(e.type).color}},t.showLinkToFileUploadResult&&e.uploadURL?$e("a",{class:"uppy-DashboardItem-previewLink",href:e.uploadURL,target:"_blank"}):null,$e(xe,{file:e})),$e("div",{class:"uppy-DashboardItem-progress"},r?$e("div",{class:"uppy-DashboardItem-progressIndicator"},Ee({progress:e.progress.percentage,fileID:e.id})):$e("button",{class:"uppy-DashboardItem-progressIndicator",type:"button","aria-label":d,title:d,onclick:function(){r||(l?t.retryUpload(e.id):t.resumableUploads?t.pauseUpload(e.id):t.cancelUpload(e.id))}},l?Ie():Ee({progress:e.progress.percentage,fileID:e.id})))),$e("div",{class:"uppy-DashboardItem-info"},$e("h4",{class:"uppy-DashboardItem-name",title:c},e.uploadURL?$e("a",{href:e.uploadURL,target:"_blank"},e.extension?u+"."+e.extension:u):e.extension?u+"."+e.extension:u),$e("div",{class:"uppy-DashboardItem-status"},e.data.size?$e("div",{class:"uppy-DashboardItem-statusSize"},Ot(e.data.size)):null,e.source&&$e("div",{class:"uppy-DashboardItem-sourceIcon"},i.map((function(i){if(i.id===e.source)return $e("span",{title:t.i18n("fileSource")+": "+i.name},i.icon())})))),!o&&t.metaFields&&t.metaFields.length?$e("button",{class:"uppy-DashboardItem-edit",type:"button","aria-label":t.i18n("editFile"),title:t.i18n("editFile"),onclick:function(){return t.toggleFileCard(e.id)}},Oe()):null,e.uploadURL&&$e("button",{class:"uppy-DashboardItem-copyLink",type:"button","aria-label":t.i18n("copyLink"),title:t.i18n("copyLink"),onclick:function(){Le(e.uploadURL,t.i18n("copyLinkToClipboardFallback")).then((function(){t.log("Link copied to clipboard."),t.info(t.i18n("copyLinkToClipboardSuccess"),"info",3e3)})).catch(t.log)}},De())),$e("div",{class:"uppy-DashboardItem-action"},!r&&$e("button",{class:"uppy-DashboardItem-remove",type:"button","aria-label":t.i18n("removeFile"),title:t.i18n("removeFile"),onclick:function(){return t.removeFile(e.id)}},$e("svg",{"aria-hidden":"true",class:"UppyIcon",width:"60",height:"60",viewBox:"0 0 60 60",xmlns:"http://www.w3.org/2000/svg"},$e("path",{stroke:"#FFF","stroke-width":"1","fill-rule":"nonzero","vector-effect":"non-scaling-stroke",d:"M30 1C14 1 1 14 1 30s13 29 29 29 29-13 29-29S46 1 30 1z"}),$e("path",{fill:"#FFF","vector-effect":"non-scaling-stroke",d:"M42 39.667L39.667 42 30 32.333 20.333 42 18 39.667 27.667 30 18 20.333 20.333 18 30 27.667 39.667 18 42 20.333 32.333 30z"})))))}({acquirers:t.acquirers,file:t.files[e],toggleFileCard:t.toggleFileCard,showProgressDetails:t.showProgressDetails,info:t.info,log:t.log,i18n:t.i18n,removeFile:t.removeFile,pauseUpload:t.pauseUpload,cancelUpload:t.cancelUpload,retryUpload:t.retryUpload,resumableUploads:t.resumableUploads,isWide:t.isWide,showLinkToFileUploadResult:t.showLinkToFileUploadResult,metaFields:t.metaFields})})))},je=fe,Fe=Z.h,qe=function(t){function e(i){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i));return n.handleClick=n.handleClick.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.handleClick=function(){this.input.click()},e.prototype.render=function(){var t=this,e=0===Object.keys(this.props.files).length;return 0!==this.props.acquirers.length?Fe("div",{class:"uppy-DashboardTabs"},Fe("ul",{class:"uppy-DashboardTabs-list",role:"tablist"},Fe("li",{class:"uppy-DashboardTab",role:"presentation"},Fe("button",{type:"button",class:"uppy-DashboardTab-btn",role:"tab",tabindex:"0",onclick:this.handleClick},je(),Fe("div",{class:"uppy-DashboardTab-name"},this.props.i18n("myDevice"))),Fe("input",{class:"uppy-Dashboard-input",hidden:"true","aria-hidden":"true",tabindex:"-1",type:"file",name:"files[]",multiple:"true",onchange:this.props.handleInputChange,value:"",ref:function(e){t.input=e}})),this.props.acquirers.map((function(e){return Fe("li",{class:"uppy-DashboardTab",role:"presentation"},Fe("button",{class:"uppy-DashboardTab-btn",type:"button",role:"tab",tabindex:"0","aria-controls":"uppy-DashboardContent-panel--"+e.id,"aria-selected":t.props.activePanel.id===e.id,onclick:function(){return t.props.showPanel(e.id)}},e.icon(),Fe("h5",{class:"uppy-DashboardTab-name"},e.name)))})))):Fe("div",{class:"uppy-DashboardTabs","aria-hidden":e},Fe("div",{class:"uppy-DashboardTabs-title"},Fe(Se,{acquirers:this.props.acquirers,handleInputChange:this.props.handleInputChange,i18n:this.props.i18n})))},e}(Z.Component),Re=pt.isTouchDevice,Be=Z.h,He=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Ue=Z.h,We=function(t){function e(i,n){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,n));return r.type="progressindicator",r.id=r.opts.id||"Informer",r.title="Informer",r.opts=He({},{typeColors:{info:{text:"#fff",bg:"#000"},warning:{text:"#fff",bg:"#F6A623"},error:{text:"#fff",bg:"#D32F2F"},success:{text:"#fff",bg:"#1BB240"}}},n),r.render=r.render.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.render=function(t){var e=t.info,i=e.isHidden,n=e.type,r=e.message,o=e.details,s={backgroundColor:this.opts.typeColors[n].bg,color:this.opts.typeColors[n].text};return Ue("div",{class:"uppy uppy-Informer",style:s,"aria-hidden":i},Ue("p",{role:"alert"},r," ",o&&Ue("span",{style:{color:this.opts.typeColors[n].bg},"aria-label":o,"data-microtip-position":"top","data-microtip-size":"large",role:"tooltip"},"?")))},e.prototype.install=function(){var t=this.opts.target;t&&this.mount(t,this)},e}(vt),Xe="error",Ge="waiting",Ye="preprocessing",Ve="uploading",Ke="postprocessing",Qe="complete",Je=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Ze=Z.h,ti=function(t){var e=le("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":t.uploadState===Ge});return Ze("button",{type:"button",class:e,"aria-label":t.i18n("uploadXFiles",{smart_count:t.newFiles}),onclick:t.startUpload},t.newFiles&&t.uploadStarted?t.i18n("uploadXNewFiles",{smart_count:t.newFiles}):t.i18n("uploadXFiles",{smart_count:t.newFiles}))},ei=function(t){return Ze("button",{type:"button",class:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":t.i18n("retryUpload"),onclick:t.retryAll},t.i18n("retry"))},ii=function(t){return Ze("button",{type:"button",class:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--cancel","aria-label":t.i18n("cancel"),onclick:t.cancelAll},"Cancel",t.i18n("cancel"))},ni=function(t){var e=t.resumableUploads,i=t.isAllPaused,n=(0,t.i18n)(e?i?"resumeUpload":"pauseUpload":"cancelUpload");return Ze("button",{title:n,class:"uppy-u-reset uppy-StatusBar-statusIndicator",type:"button",onclick:function(){return function(t){if(!t.isAllComplete)return t.resumableUploads?t.isAllPaused?t.resumeAll():t.pauseAll():t.cancelAll()}(t)}},e?i?Ze("svg",{"aria-hidden":"true",class:"UppyIcon",width:"15",height:"17",viewBox:"0 0 11 13"},Ze("path",{d:"M1.26 12.534a.67.67 0 0 1-.674.012.67.67 0 0 1-.336-.583v-11C.25.724.38.5.586.382a.658.658 0 0 1 .673.012l9.165 5.5a.66.66 0 0 1 .325.57.66.66 0 0 1-.325.573l-9.166 5.5z"})):Ze("svg",{"aria-hidden":"true",class:"UppyIcon",width:"16",height:"17",viewBox:"0 0 12 13"},Ze("path",{d:"M4.888.81v11.38c0 .446-.324.81-.722.81H2.722C2.324 13 2 12.636 2 12.19V.81c0-.446.324-.81.722-.81h1.444c.398 0 .722.364.722.81zM9.888.81v11.38c0 .446-.324.81-.722.81H7.722C7.324 13 7 12.636 7 12.19V.81c0-.446.324-.81.722-.81h1.444c.398 0 .722.364.722.81z"})):Ze("svg",{"aria-hidden":"true",class:"UppyIcon",width:"16px",height:"16px",viewBox:"0 0 19 19"},Ze("path",{
d:"M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z"})))},ri=function(t){var e=Math.round(100*t.value);return Ze("div",{class:"uppy-StatusBar-content"},"determinate"===t.mode?e+"%\u30fb":"",t.message)},oi=ct((function(t){return Ze("span",{class:"uppy-StatusBar-statusSecondary"},t.inProgress>1&&t.i18n("filesUploadedOfTotal",{complete:t.complete,smart_count:t.inProgress})+"\u30fb",t.i18n("dataUploadedOfTotal",{complete:t.totalUploadedSize,total:t.totalSize}),"\u30fb",t.i18n("xTimeLeft",{time:t.totalETA}))}),500,{leading:!0,trailing:!0}),si=function(t){return!t.isUploadStarted||t.isAllComplete?null:Ze("div",{class:"uppy-StatusBar-content",title:t.isAllPaused?t.i18n("paused"):t.i18n("uploading")},Ze(ni,t),Ze("div",{class:"uppy-StatusBar-status"},Ze("span",{class:"uppy-StatusBar-statusPrimary"},t.isAllPaused?t.i18n("paused"):t.i18n("uploading"),": ",t.totalProgress,"%"),Ze("br",null),!t.isAllPaused&&Ze(oi,t)))},ai=function(t){t.totalProgress;var e=t.i18n;return Ze("div",{class:"uppy-StatusBar-content",role:"status",title:e("complete")},Ze("svg",{"aria-hidden":"true",class:"uppy-StatusBar-statusIndicator UppyIcon",width:"18",height:"17",viewBox:"0 0 23 17"},Ze("path",{d:"M8.944 17L0 7.865l2.555-2.61 6.39 6.525L20.41 0 23 2.645z"})),e("complete"))},li=function(t){var e=t.error,i=(t.retryAll,t.i18n);return Ze("div",{class:"uppy-StatusBar-content",role:"alert"},Ze("strong",null,i("uploadFailed"),"."),Ze("span",null,i("pleasePressRetry")),Ze("span",{class:"uppy-StatusBar-details","aria-label":e,"data-microtip-position":"top","data-microtip-size":"large",role:"tooltip"},"?"))},ci=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},ui=pt.getSpeed,hi=pt.getBytesRemaining,di=pt.prettyETA,pi=function(t){function e(i,n){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,n));r.id=r.opts.id||"StatusBar",r.title="StatusBar",r.type="progressindicator";var o={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",pleasePressRetry:"Please press Retry to upload again",paused:"Paused",error:"Error",retry:"Retry",pressToRetry:"Press to retry",retryUpload:"Retry upload",resumeUpload:"Resume upload",cancelUpload:"Cancel upload",pauseUpload:"Pause upload",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"}}},s={target:"body",hideUploadButton:!1,showProgressDetails:!1,locale:o,hideAfterFinish:!0};return r.opts=ci({},s,n),r.locale=ci({},o,r.opts.locale),r.locale.strings=ci({},o.strings,r.opts.locale.strings),r.translator=new It({locale:r.locale}),r.i18n=r.translator.translate.bind(r.translator),r.startUpload=r.startUpload.bind(r),r.render=r.render.bind(r),r.install=r.install.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getTotalSpeed=function(t){var e=0;return t.forEach((function(t){e+=ui(t.progress)})),e},e.prototype.getTotalETA=function(t){var e=this.getTotalSpeed(t);if(0===e)return 0;var i=t.reduce((function(t,e){return t+hi(e.progress)}),0);return Math.round(i/e*10)/10},e.prototype.startUpload=function(){var t=this;return this.uppy.upload().catch((function(e){t.uppy.log(e.stack||e.message||e)}))},e.prototype.getUploadingState=function(t,e,i){if(t)return Xe;if(e)return Qe;for(var n=Ge,r=Object.keys(i),o=0;o<r.length;o++){var s=i[r[o]].progress;if(s.uploadStarted&&!s.uploadComplete)return Ve;s.preprocess&&n!==Ve&&(n=Ye),s.postprocess&&n!==Ve&&n!==Ye&&(n=Ke)}return n},e.prototype.render=function(t){var e=t.files,i=Object.keys(e).filter((function(t){return e[t].progress.uploadStarted})),n=Object.keys(e).filter((function(t){return!e[t].progress.uploadStarted&&!e[t].progress.preprocess&&!e[t].progress.postprocess})),r=Object.keys(e).filter((function(t){return e[t].progress.uploadComplete})),o=Object.keys(e).filter((function(t){return e[t].error})),s=Object.keys(e).filter((function(t){return!e[t].progress.uploadComplete&&e[t].progress.uploadStarted&&!e[t].isPaused})),a=Object.keys(e).filter((function(t){return e[t].progress.preprocess||e[t].progress.postprocess})),l=s.map((function(t){return e[t]})),c=Ot(this.getTotalSpeed(l)),u=di(this.getTotalETA(l)),h=0,d=0;l.forEach((function(t){h+=t.progress.bytesTotal||0,d+=t.progress.bytesUploaded||0})),h=Ot(h),d=Ot(d);var p=i.length>0,f=100===t.totalProgress&&r.length===Object.keys(e).length&&0===a.length,m=p&&o.length===i.length,g=0===s.length&&!f&&!m&&i.length>0,v=t.capabilities.resumableUploads||!1;return function(t){var e=(t=t||{}).uploadState,i=t.totalProgress,n=void 0,r=void 0;if(e===Ye||e===Ke){var o=function(t){var e=[];Object.keys(t).forEach((function(i){var n=t[i].progress;n.preprocess&&e.push(n.preprocess),n.postprocess&&e.push(n.postprocess)}));var i=e[0];return{mode:i.mode,message:i.message,value:e.filter((function(t){return"determinate"===t.mode})).reduce((function(t,e,i,n){return t+e.value/n.length}),0)}}(t.files);"determinate"===(n=o.mode)&&(i=100*o.value),r=ri(o)}else e===Qe?r=ai(t):e===Ve?r=si(t):e===Xe&&(i=void 0,r=li(t));var s="number"==typeof i?i:100,a=e===Ge&&t.hideUploadButton||e===Ge&&!t.newFiles>0||e===Qe&&t.hideAfterFinish,l="uppy-StatusBar-progress\n                           "+(n?"is-"+n:""),c=le("uppy","uppy-StatusBar","is-"+e,{"uppy-StatusBar--detailedProgress":t.showProgressDetails});return Ze("div",{class:c,"aria-hidden":a},Ze("div",{class:l,style:{width:s+"%"},role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":i}),r,Ze("div",{class:"uppy-StatusBar-actions"},t.newFiles&&!t.hideUploadButton?Ze(ti,Je({},t,{uploadState:e})):null,t.error?Ze(ei,t):null,e!==Ge&&e!==Qe?Ze(ii,t):null))}({error:t.error,uploadState:this.getUploadingState(m,f,t.files||{}),totalProgress:t.totalProgress,totalSize:h,totalUploadedSize:d,uploadStarted:i.length,isAllComplete:f,isAllPaused:g,isAllErrored:m,isUploadStarted:p,complete:r.length,newFiles:n.length,inProgress:s.length,totalSpeed:c,totalETA:u,files:t.files,i18n:this.i18n,pauseAll:this.uppy.pauseAll,resumeAll:this.uppy.resumeAll,retryAll:this.uppy.retryAll,cancelAll:this.uppy.cancelAll,startUpload:this.startUpload,resumableUploads:v,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideAfterFinish:this.opts.hideAfterFinish})},e.prototype.install=function(){var t=this.opts.target;t&&this.mount(t,this)},e.prototype.uninstall=function(){this.unmount()},e}(vt),fi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},mi="undefined"==typeof Promise?lt.Promise:Promise,gi=function(t){function e(i,n){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,n));return r.type="thumbnail",r.id="ThumbnailGenerator",r.title="Thumbnail Generator",r.queue=[],r.queueProcessing=!1,r.opts=fi({},{thumbnailWidth:200},n),r.addToQueue=r.addToQueue.bind(r),r.onRestored=r.onRestored.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.createThumbnail=function(t,e){var i=this,n=URL.createObjectURL(t.data);return new mi((function(t,e){var i=new Image;i.src=n,i.onload=function(){URL.revokeObjectURL(n),t(i)},i.onerror=function(){URL.revokeObjectURL(n),e(new Error("Could not create thumbnail"))}})).then((function(t){var n=i.getProportionalHeight(t,e),r=i.resizeImage(t,e,n);return i.canvasToBlob(r,"image/png")})).then((function(t){return URL.createObjectURL(t)}))},e.prototype.protect=function(t){var e=t.width/t.height,i=Math.floor(Math.sqrt(5e6*e)),n=Math.floor(5e6/Math.sqrt(5e6*e));if(i>4096&&(i=4096,n=Math.round(i/e)),n>4096&&(n=4096,i=Math.round(e*n)),t.width>i){var r=document.createElement("canvas");r.width=i,r.height=n,r.getContext("2d").drawImage(t,0,0,i,n),t.src="about:blank",t.width=1,t.height=1,t=r}return t},e.prototype.resizeImage=function(t,e,i){t=this.protect(t);var n=Math.ceil(Math.log2(t.width/e));n<1&&(n=1);for(var r=e*Math.pow(2,n-1),o=i*Math.pow(2,n-1);n--;){var s=document.createElement("canvas");s.width=r,s.height=o,s.getContext("2d").drawImage(t,0,0,r,o),t=s,r=Math.round(r/2),o=Math.round(o/2)}return t},e.prototype.canvasToBlob=function(t,e,i){return t.toBlob?new mi((function(n){t.toBlob(n,e,i)})):mi.resolve().then((function(){return pt.dataURItoBlob(t.toDataURL(e,i),{})}))},e.prototype.getProportionalHeight=function(t,e){var i=t.width/t.height;return Math.round(e/i)},e.prototype.setPreviewURL=function(t,e){var i,n=this.uppy.state.files;this.uppy.setState({files:fi({},n,(i={},i[t]=fi({},n[t],{preview:e}),i))})},e.prototype.addToQueue=function(t){this.queue.push(t),!1===this.queueProcessing&&this.processQueue()},e.prototype.processQueue=function(){var t=this;if(this.queueProcessing=!0,this.queue.length>0){var e=this.queue.shift();return this.requestThumbnail(e).catch((function(){})).then((function(){return t.processQueue()}))}this.queueProcessing=!1},e.prototype.requestThumbnail=function(t){var e=this;return pt.isPreviewSupported(t.type)&&!t.isRemote?this.createThumbnail(t,this.opts.thumbnailWidth).then((function(i){e.setPreviewURL(t.id,i)})).catch((function(t){console.warn(t.stack||t.message)})):mi.resolve()},e.prototype.onRestored=function(){var t=this;Object.keys(this.uppy.getState().files).forEach((function(e){var i=t.uppy.getFile(e);i.isRestored&&(i.preview&&!/^blob:/.test(i.preview)||t.addToQueue(i))}))},e.prototype.install=function(){this.uppy.on("file-added",this.addToQueue),this.uppy.on("restored",this.onRestored)},e.prototype.uninstall=function(){this.uppy.off("file-added",this.addToQueue),this.uppy.off("restored",this.onRestored)},e}(vt),vi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},yi=pt.findAllDOMElements,bi=pt.toArray,wi=ue,xi=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],_i=function(t){function e(i,n){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,n));r.id=r.opts.id||"Dashboard",r.title="Dashboard",r.type="orchestrator";var o={strings:{selectToUpload:"Select files to upload",closeModal:"Close Modal",upload:"Upload",importFrom:"Import from",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",fileSource:"File source",done:"Done",name:"Name",removeFile:"Remove file",editFile:"Edit file",editing:"Editing",finishEditingFile:"Finish editing file",localDisk:"Local Disk",myDevice:"My Device",dropPasteImport:"Drop files here, paste, import from one of the locations above or",dropPaste:"Drop files here, paste or",browse:"browse",fileProgress:"File progress: upload speed and ETA",numberOfSelectedFiles:"Number of selected files",uploadAllNewFiles:"Upload all new files",emptyFolderAdded:"No files were added from empty folder",uploadComplete:"Upload complete",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"}}},s={target:"body",metaFields:[],trigger:"#uppy-select-files",inline:!1,width:750,height:550,thumbnailWidth:280,defaultTabIcon:wi,showLinkToFileUploadResult:!0,showProgressDetails:!1,hideUploadButton:!1,hideProgressAfterFinish:!1,note:null,closeModalOnClickOutside:!1,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,proudlyDisplayPoweredByUppy:!0,onRequestCloseModal:function(){return r.closeModal()},locale:o};return r.opts=vi({},s,n),r.locale=vi({},o,r.opts.locale),r.locale.strings=vi({},o.strings,r.opts.locale.strings),r.translator=new It({locale:r.locale}),r.i18n=r.translator.translate.bind(r.translator),r.openModal=r.openModal.bind(r),r.closeModal=r.closeModal.bind(r),r.requestCloseModal=r.requestCloseModal.bind(r),r.isModalOpen=r.isModalOpen.bind(r),r.addTarget=r.addTarget.bind(r),r.hideAllPanels=r.hideAllPanels.bind(r),r.showPanel=r.showPanel.bind(r),r.getFocusableNodes=r.getFocusableNodes.bind(r),r.setFocusToFirstNode=r.setFocusToFirstNode.bind(r),r.maintainFocus=r.maintainFocus.bind(r),r.initEvents=r.initEvents.bind(r),r.onKeydown=r.onKeydown.bind(r),r.handleClickOutside=r.handleClickOutside.bind(r),r.toggleFileCard=r.toggleFileCard.bind(r),r.handleDrop=r.handleDrop.bind(r),r.handlePaste=r.handlePaste.bind(r),r.handleInputChange=r.handleInputChange.bind(r),r.updateDashboardElWidth=r.updateDashboardElWidth.bind(r),r.render=r.render.bind(r),r.install=r.install.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.addTarget=function(t){var e=t.id||t.constructor.name,i=t.title||e,n=t.type;if("acquirer"===n||"progressindicator"===n||"presenter"===n){var r={id:e,name:i,type:n},o=this.getPluginState().targets.slice();return o.push(r),this.setPluginState({targets:o}),this.el}this.uppy.log("Dashboard: Modal can only be used by plugins of types: acquirer, progressindicator, presenter")},e.prototype.hideAllPanels=function(){this.setPluginState({activePanel:!1})},e.prototype.showPanel=function(t){var e=this.getPluginState().targets.filter((function(e){return"acquirer"===e.type&&e.id===t}))[0];this.setPluginState({activePanel:e})},e.prototype.requestCloseModal=function(){if(this.opts.onRequestCloseModal)return this.opts.onRequestCloseModal();this.closeModal()},e.prototype.getFocusableNodes=function(){var t=this.el.querySelectorAll(xi);return Object.keys(t).map((function(e){return t[e]}))},e.prototype.setFocusToFirstNode=function(){var t=this.getFocusableNodes();t.length&&t[0].focus()},e.prototype.setFocusToBrowse=function(){var t=this.el.querySelector(".uppy-Dashboard-browse");t&&t.focus()},e.prototype.maintainFocus=function(t){var e=this.getFocusableNodes(),i=e.indexOf(document.activeElement);t.shiftKey&&0===i&&(e[e.length-1].focus(),t.preventDefault()),t.shiftKey||i!==e.length-1||(e[0].focus(),t.preventDefault())},e.prototype.openModal=function(){this.setPluginState({isHidden:!1}),this.savedScrollPosition=window.scrollY,this.savedActiveElement=document.activeElement,this.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isOpen"),this.updateDashboardElWidth(),this.setFocusToBrowse()},e.prototype.closeModal=function(){this.setPluginState({isHidden:!0}),this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isOpen"),this.savedActiveElement.focus()},e.prototype.isModalOpen=function(){return!this.getPluginState().isHidden||!1},e.prototype.onKeydown=function(t){27===t.keyCode&&this.requestCloseModal(t),9===t.keyCode&&this.maintainFocus(t)},e.prototype.handleClickOutside=function(){this.opts.closeModalOnClickOutside&&this.requestCloseModal()},e.prototype.handlePaste=function(t){var e=this;bi(t.clipboardData.items).forEach((function(t){if("file"===t.kind){var i=t.getAsFile();if(!i)return e.uppy.log("[Dashboard] File pasted, but the file blob is empty"),void e.uppy.info("Error pasting file","error");e.uppy.log("[Dashboard] File pasted"),e.uppy.addFile({source:e.id,name:t.name,type:t.type,data:i})}}))},e.prototype.handleInputChange=function(t){var e=this;t.preventDefault(),bi(t.target.files).forEach((function(t){e.uppy.addFile({source:e.id,name:t.name,type:t.type,data:t})}))},e.prototype.initEvents=function(){var t=this,e=yi(this.opts.trigger);!this.opts.inline&&e&&e.forEach((function(e){return e.addEventListener("click",t.openModal)})),this.opts.inline||e||this.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options unless you are planning to call openModal() method yourself"),this.opts.inline||document.addEventListener("keydown",this.onKeydown),this.removeDragDropListener=ae(this.el,(function(e){t.handleDrop(e)})),this.updateDashboardElWidth(),window.addEventListener("resize",this.updateDashboardElWidth)},e.prototype.removeEvents=function(){var t=this,e=yi(this.opts.trigger);!this.opts.inline&&e&&e.forEach((function(e){return e.removeEventListener("click",t.openModal)})),this.opts.inline||document.removeEventListener("keydown",this.onKeydown),this.removeDragDropListener(),window.removeEventListener("resize",this.updateDashboardElWidth)},e.prototype.updateDashboardElWidth=function(){var t=this.el.querySelector(".uppy-Dashboard-inner");this.uppy.log("Dashboard width: "+t.offsetWidth),this.setPluginState({containerWidth:t.offsetWidth})},e.prototype.toggleFileCard=function(t){this.setPluginState({fileCardFor:t||!1})},e.prototype.handleDrop=function(t){var e=this;this.uppy.log("[Dashboard] Files were dropped"),t.forEach((function(t){e.uppy.addFile({source:e.id,name:t.name,type:t.type,data:t})}))},e.prototype.render=function(t){var e=this,i=this.getPluginState(),n=t.files,r=Object.keys(n).filter((function(t){return!n[t].progress.uploadStarted})),o=[];Object.keys(n).filter((function(t){return!n[t].progress.uploadComplete&&n[t].progress.uploadStarted&&!n[t].isPaused})).forEach((function(t){o.push(n[t])}));var s=0,a=0;o.forEach((function(t){s+=t.progress.bytesTotal||0,a+=t.progress.bytesUploaded||0})),s=Ot(s),a=Ot(a);var l,c,u=function(t){var i=e.uppy.getPlugin(t.id);return vi({},t,{icon:i.icon||e.opts.defaultTabIcon,render:i.render})},h=i.targets.filter((function(t){return"acquirer"===t.type&&function(t){var i=e.uppy.getPlugin(t.id);return"function"!=typeof i.isSupported||i.isSupported()}(t)})).map(u),d=i.targets.filter((function(t){return"progressindicator"===t.type})).map(u);return l={state:t,modal:i,newFiles:r,files:n,totalFileCount:Object.keys(n).length,totalProgress:t.totalProgress,acquirers:h,activePanel:i.activePanel,getPlugin:this.uppy.getPlugin,progressindicators:d,autoProceed:this.uppy.opts.autoProceed,hideUploadButton:this.opts.hideUploadButton,id:this.id,closeModal:this.requestCloseModal,handleClickOutside:this.handleClickOutside,handleInputChange:this.handleInputChange,handlePaste:this.handlePaste,inline:this.opts.inline,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,log:this.uppy.log,i18n:this.i18n,addFile:this.uppy.addFile,removeFile:this.uppy.removeFile,info:this.uppy.info,note:this.opts.note,metaFields:i.metaFields,resumableUploads:this.uppy.state.capabilities.resumableUploads||!1,startUpload:function(){e.uppy.upload().catch((function(t){e.uppy.log(t.stack||t.message||t)}))},pauseUpload:this.uppy.pauseResume,retryUpload:this.uppy.retryUpload,cancelUpload:function(t){e.uppy.emit("upload-cancel",t),e.uppy.removeFile(t)},fileCardFor:i.fileCardFor,toggleFileCard:this.toggleFileCard,saveFileCard:function(t,i){e.uppy.setFileMeta(i,t),e.toggleFileCard()},updateDashboardElWidth:this.updateDashboardElWidth,maxWidth:this.opts.maxWidth,maxHeight:this.opts.maxHeight,showLinkToFileUploadResult:this.opts.showLinkToFileUploadResult,proudlyDisplayPoweredByUppy:this.opts.proudlyDisplayPoweredByUppy,currentWidth:i.containerWidth,isWide:i.containerWidth>400,isTargetDOMEl:this.isTargetDOMEl},c=le({"uppy-Root":l.isTargetDOMEl},"uppy-Dashboard",{"Uppy--isTouchDevice":Re()},{"uppy-Dashboard--modal":!l.inline},{"uppy-Dashboard--wide":l.isWide}),Be("div",{class:c,"aria-hidden":l.inline?"false":l.modal.isHidden,"aria-label":l.inline?l.i18n("dashboardTitle"):l.i18n("dashboardWindowTitle"),onpaste:l.handlePaste},Be("div",{class:"uppy-Dashboard-overlay",tabindex:"-1",onclick:l.handleClickOutside}),Be("div",{class:"uppy-Dashboard-inner","aria-modal":!l.inline&&"true",role:!l.inline&&"dialog",style:{maxWidth:l.inline&&l.maxWidth?l.maxWidth:"",maxHeight:l.inline&&l.maxHeight?l.maxHeight:""}},Be("button",{class:"uppy-Dashboard-close",type:"button","aria-label":l.i18n("closeModal"),title:l.i18n("closeModal"),onclick:l.closeModal},Be("span",{"aria-hidden":"true"},"\xd7")),Be("div",{class:"uppy-Dashboard-innerWrap"},Be(qe,l),Be(ke,l),Be("div",{class:"uppy-Dashboard-filesContainer"},Be(ze,l)),Be("div",{class:"uppy-DashboardContent-panel",role:"tabpanel",id:l.activePanel&&"uppy-DashboardContent-panel--"+l.activePanel.id,"aria-hidden":l.activePanel?"false":"true"},l.activePanel&&function(t){return Be("div",{style:{width:"100%",height:"100%"}},Be("div",{class:"uppy-DashboardContent-bar"},Be("div",{class:"uppy-DashboardContent-title"},t.i18n("importFrom")," ",t.activePanel?t.activePanel.name:null),Be("button",{class:"uppy-DashboardContent-back",type:"button",onclick:t.hideAllPanels},t.i18n("done"))),t.getPlugin(t.activePanel.id).render(t.state))}(l)),Be("div",{class:"uppy-Dashboard-progressindicators"},l.progressindicators.map((function(t){return l.getPlugin(t.id).render(l.state)})))),l.proudlyDisplayPoweredByUppy&&Be("a",{href:"https://uppy.io",target:"_blank",class:"uppy-Dashboard-poweredBy"},"Powered by ",Be("svg",{"aria-hidden":"true",class:"uppy-Dashboard-poweredByIcon",width:"12",height:"12",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},Be("path",{"fill-rule":"nonzero",d:"M8.57 7.554v4.149H3.424V7.554H0L6 0l6 7.554H8.57z"})),Be("span",{class:"uppy-Dashboard-poweredByUppy"},"Uppy"))))},e.prototype.discoverProviderPlugins=function(){var t=this;this.uppy.iteratePlugins((function(e){e&&!e.target&&e.opts&&e.opts.target===t.constructor&&t.addTarget(e)}))},e.prototype.install=function(){var t=this;this.setPluginState({isHidden:!0,showFileCard:!1,activePanel:!1,metaFields:this.opts.metaFields,targets:[]});var e=this.opts.target;e&&this.mount(e,this),(this.opts.plugins||[]).forEach((function(e){var i=t.uppy.getPlugin(e);i&&i.mount(t,i)})),this.opts.disableStatusBar||this.uppy.use(pi,{target:this,hideUploadButton:this.opts.hideUploadButton,showProgressDetails:this.opts.showProgressDetails,hideAfterFinish:this.opts.hideProgressAfterFinish,locale:this.opts.locale}),this.opts.disableInformer||this.uppy.use(We,{target:this}),this.opts.disableThumbnailGenerator||this.uppy.use(gi,{thumbnailWidth:this.opts.thumbnailWidth}),this.discoverProviderPlugins(),this.initEvents()},e.prototype.uninstall=function(){var t=this;if(!this.opts.disableInformer){var e=this.uppy.getPlugin("Informer");e&&this.uppy.removePlugin(e)}if(!this.opts.disableStatusBar){var i=this.uppy.getPlugin("StatusBar");i&&this.uppy.removePlugin(i)}if(!this.opts.disableThumbnailGenerator){var n=this.uppy.getPlugin("ThumbnailGenerator");n&&this.uppy.removePlugin(n)}(this.opts.plugins||[]).forEach((function(e){var i=t.uppy.getPlugin(e);i&&i.unmount()})),this.unmount(),this.removeEvents()},e}(vt),ki=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Ci=pt.toArray,Si=Z.h,Ti=function(t){function e(i,n){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,n));r.type="acquirer",r.id=r.opts.id||"DragDrop",r.title="Drag & Drop";var o={strings:{dropHereOr:"Drop files here or",browse:"browse"}},s={target:null,width:"100%",height:"100%",note:"",locale:o};return r.opts=ki({},s,n),r.isDragDropSupported=r.checkDragDropSupport(),r.locale=ki({},o,r.opts.locale),r.locale.strings=ki({},o.strings,r.opts.locale.strings),r.translator=new It({locale:r.locale}),r.i18n=r.translator.translate.bind(r.translator),r.handleDrop=r.handleDrop.bind(r),r.handleBrowseClick=r.handleBrowseClick.bind(r),r.handleInputChange=r.handleInputChange.bind(r),r.checkDragDropSupport=r.checkDragDropSupport.bind(r),r.render=r.render.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.checkDragDropSupport=function(){var t=document.createElement("div");return"draggable"in t&&"ondragstart"in t&&"ondrop"in t&&"FormData"in window&&"FileReader"in window},e.prototype.handleDrop=function(t){var e=this;this.uppy.log("[DragDrop] Files dropped"),t.forEach((function(t){e.uppy.addFile({source:e.id,name:t.name,type:t.type,data:t})}))},e.prototype.handleInputChange=function(t){var e=this;this.uppy.log("[DragDrop] Files selected through input"),Ci(t.target.files).forEach((function(t){e.uppy.addFile({source:e.id,name:t.name,type:t.type,data:t})}))},e.prototype.handleBrowseClick=function(t){t.stopPropagation(),this.input.click()},e.prototype.render=function(){var t=this,e="uppy uppy-DragDrop-container "+(this.isDragDropSupported?"is-dragdrop-supported":""),i={width:this.opts.width,height:this.opts.height};return Si("div",{class:e,style:i},Si("div",{class:"uppy-DragDrop-inner"},Si("svg",{"aria-hidden":"true",class:"UppyIcon uppy-DragDrop-arrow",width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},Si("path",{d:"M11 10V0H5v10H2l6 6 6-6h-3zm0 0","fill-rule":"evenodd"})),Si("input",{class:"uppy-DragDrop-input",type:"file",name:"files[]",multiple:"true",ref:function(e){t.input=e},onchange:this.handleInputChange}),Si("label",{class:"uppy-DragDrop-label",onclick:this.handleBrowseClick},this.i18n("dropHereOr")," ",Si("span",{class:"uppy-DragDrop-dragText"},this.i18n("browse"))),Si("span",{class:"uppy-DragDrop-note"},this.opts.note)))},e.prototype.install=function(){var t=this,e=this.opts.target;e&&this.mount(e,this),this.removeDragDropListener=ae(this.el,(function(e){t.handleDrop(e),t.uppy.log(e)}))},e.prototype.uninstall=function(){this.unmount(),this.removeDragDropListener()},e}(vt),Ai=Z.h,Ei={folder:function(){return Ai("svg",{"aria-hidden":"true",class:"UppyIcon",style:"width:16px;margin-right:3px",viewBox:"0 0 276.157 276.157"},Ai("path",{d:"M273.08 101.378c-3.3-4.65-8.86-7.32-15.254-7.32h-24.34V67.59c0-10.2-8.3-18.5-18.5-18.5h-85.322c-3.63 0-9.295-2.875-11.436-5.805l-6.386-8.735c-4.982-6.814-15.104-11.954-23.546-11.954H58.73c-9.292 0-18.638 6.608-21.737 15.372l-2.033 5.752c-.958 2.71-4.72 5.37-7.596 5.37H18.5C8.3 49.09 0 57.39 0 67.59v167.07c0 .886.16 1.73.443 2.52.152 3.306 1.18 6.424 3.053 9.064 3.3 4.652 8.86 7.32 15.255 7.32h188.487c11.395 0 23.27-8.425 27.035-19.18l40.677-116.188c2.11-6.035 1.43-12.164-1.87-16.816zM18.5 64.088h8.864c9.295 0 18.64-6.607 21.738-15.37l2.032-5.75c.96-2.712 4.722-5.373 7.597-5.373h29.565c3.63 0 9.295 2.876 11.437 5.806l6.386 8.735c4.982 6.815 15.104 11.954 23.546 11.954h85.322c1.898 0 3.5 1.602 3.5 3.5v26.47H69.34c-11.395 0-23.27 8.423-27.035 19.178L15 191.23V67.59c0-1.898 1.603-3.5 3.5-3.5zm242.29 49.15l-40.676 116.188c-1.674 4.78-7.812 9.135-12.877 9.135H18.75c-1.447 0-2.576-.372-3.02-.997-.442-.625-.422-1.814.057-3.18l40.677-116.19c1.674-4.78 7.812-9.134 12.877-9.134h188.487c1.448 0 2.577.372 3.02.997.443.625.423 1.814-.056 3.18z"}))},file:function(){return Ai("svg",{"aria-hidden":"true",class:"UppyIcon",width:"11",height:"14.5",viewBox:"0 0 44 58"},Ai("path",{d:"M27.437.517a1 1 0 0 0-.094.03H4.25C2.037.548.217 2.368.217 4.58v48.405c0 2.212 1.82 4.03 4.03 4.03H39.03c2.21 0 4.03-1.818 4.03-4.03V15.61a1 1 0 0 0-.03-.28 1 1 0 0 0 0-.093 1 1 0 0 0-.03-.032 1 1 0 0 0 0-.03 1 1 0 0 0-.032-.063 1 1 0 0 0-.03-.063 1 1 0 0 0-.032 0 1 1 0 0 0-.03-.063 1 1 0 0 0-.032-.03 1 1 0 0 0-.03-.063 1 1 0 0 0-.063-.062l-14.593-14a1 1 0 0 0-.062-.062A1 1 0 0 0 28 .708a1 1 0 0 0-.374-.157 1 1 0 0 0-.156 0 1 1 0 0 0-.03-.03l-.003-.003zM4.25 2.547h22.218v9.97c0 2.21 1.82 4.03 4.03 4.03h10.564v36.438a2.02 2.02 0 0 1-2.032 2.032H4.25c-1.13 0-2.032-.9-2.032-2.032V4.58c0-1.13.902-2.032 2.03-2.032zm24.218 1.345l10.375 9.937.75.718H30.5c-1.13 0-2.032-.9-2.032-2.03V3.89z"}))}};!function(t){"use strict";function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function i(t){return"string"!=typeof t&&(t=String(t)),t}function n(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return p.iterable&&(e[Symbol.iterator]=function(){return e}),e}function r(t){this.map={},t instanceof r?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function o(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function s(t){return new Promise((function(e,i){t.onload=function(){e(t.result)},t.onerror=function(){i(t.error)}}))}function a(t){var e=new FileReader,i=s(e);return e.readAsArrayBuffer(t),i}function l(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function c(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(p.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(p.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(p.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(p.arrayBuffer&&p.blob&&m(t))this._bodyArrayBuffer=l(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!p.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!g(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):p.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},p.blob&&(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(a)}),this.text=function(){var t,e,i,n=o(this)
;if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,i=s(e=new FileReader),e.readAsText(t),i;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),i=new Array(e.length),n=0;n<e.length;n++)i[n]=String.fromCharCode(e[n]);return i.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},p.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function u(t,e){var i,n,o=(e=e||{}).body;if(t instanceof u){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new r(t.headers)),this.method=t.method,this.mode=t.mode,o||null==t._bodyInit||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new r(e.headers)),this.method=(n=(i=e.method||this.method||"GET").toUpperCase(),v.indexOf(n)>-1?n:i),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function h(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var i=t.split("="),n=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(r))}})),e}function d(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new r(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var p={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(p.arrayBuffer)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],m=function(t){return t&&DataView.prototype.isPrototypeOf(t)},g=ArrayBuffer.isView||function(t){return t&&f.indexOf(Object.prototype.toString.call(t))>-1};r.prototype.append=function(t,n){t=e(t),n=i(n);var r=this.map[t];this.map[t]=r?r+","+n:n},r.prototype.delete=function(t){delete this.map[e(t)]},r.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},r.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},r.prototype.set=function(t,n){this.map[e(t)]=i(n)},r.prototype.forEach=function(t,e){for(var i in this.map)this.map.hasOwnProperty(i)&&t.call(e,this.map[i],i,this)},r.prototype.keys=function(){var t=[];return this.forEach((function(e,i){t.push(i)})),n(t)},r.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),n(t)},r.prototype.entries=function(){var t=[];return this.forEach((function(e,i){t.push([i,e])})),n(t)},p.iterable&&(r.prototype[Symbol.iterator]=r.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];u.prototype.clone=function(){return new u(this,{body:this._bodyInit})},c.call(u.prototype),c.call(d.prototype),d.prototype.clone=function(){return new d(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},d.error=function(){var t=new d(null,{status:0,statusText:""});return t.type="error",t};var y=[301,302,303,307,308];d.redirect=function(t,e){if(-1===y.indexOf(e))throw new RangeError("Invalid status code");return new d(null,{status:e,headers:{location:t}})},t.Headers=r,t.Request=u,t.Response=d,t.fetch=function(t,e){return new Promise((function(i,n){var o=new u(t,e),s=new XMLHttpRequest;s.onload=function(){var t,e,n={status:s.status,statusText:s.statusText,headers:(t=s.getAllResponseHeaders()||"",e=new r,t.split(/\r?\n/).forEach((function(t){var i=t.split(":"),n=i.shift().trim();if(n){var r=i.join(":").trim();e.append(n,r)}})),e)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var o="response"in s?s.response:s.responseText;i(new d(o,n))},s.onerror=function(){n(new TypeError("Network request failed"))},s.ontimeout=function(){n(new TypeError("Network request failed"))},s.open(o.method,o.url,!0),"include"===o.credentials&&(s.withCredentials=!0),"responseType"in s&&p.blob&&(s.responseType="blob"),o.headers.forEach((function(t,e){s.setRequestHeader(e,t)})),s.send(void 0===o._bodyInit?null:o._bodyInit)}))},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this);var Pi,Mi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Li=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Oi=function(t){return t.split("-").map((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})).join(" ")},Di={RequestClient:Pi=function(){function t(e,i){!function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.uppy=e,this.opts=i,this.onReceiveResponse=this.onReceiveResponse.bind(this)}return t.prototype.onReceiveResponse=function(t){var e,i=this.uppy.state.uppyServer||{},n=this.opts.host,r=t.headers;return r.has("i-am")&&r.get("i-am")!==i[n]&&this.uppy.setState({uppyServer:Mi({},i,(e={},e[n]=r.get("i-am"),e))}),t},t.prototype.get=function(t){return fetch(this.hostname+"/"+t,{method:"get",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(this.onReceiveResponse).then((function(t){return t.json()}))},t.prototype.post=function(t,e){return fetch(this.hostname+"/"+t,{method:"post",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(this.onReceiveResponse).then((function(t){return t.json()}))},Li(t,[{key:"hostname",get:function(){var t=this.uppy.state.uppyServer||{},e=this.opts.host;return t[e]||e}}]),t}(),Provider:function(t){function e(i,n){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,n));return r.provider=n.provider,r.id=r.provider,r.authProvider=n.authProvider||r.provider,r.name=r.opts.name||Oi(r.id),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.checkAuth=function(){return this.get(this.id+"/authorized").then((function(t){return t.authenticated}))},e.prototype.authUrl=function(){return this.hostname+"/"+this.id+"/connect"},e.prototype.fileUrl=function(t){return this.hostname+"/"+this.id+"/get/"+t},e.prototype.list=function(t){return this.get(this.id+"/list/"+(t||""))},e.prototype.logout=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:location.href;return this.get(this.id+"/logout?redirect="+t)},e}(Pi)},Ii=Z.h,$i=function(){return Ii("div",{class:"uppy-Provider-loading"},Ii("span",null,"Loading..."))},Ni=Z.h,zi=function(t){function e(){return function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentDidMount=function(){this.props.checkAuth()},e.prototype.render=function(){return Ni("div",{style:"height: 100%;"},this.props.checkAuthInProgress?$i():Ni("div",{class:"uppy-Provider-auth"},Ni("div",{class:"uppy-Provider-authIcon"},this.props.pluginIcon()),Ni("h1",{class:"uppy-Provider-authTitle"},"Please authenticate with ",Ni("span",{class:"uppy-Provider-authTitleName"},this.props.pluginName),Ni("br",null)," to select files"),Ni("button",{type:"button",class:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn",onclick:this.props.handleAuth},"Connect to ",this.props.pluginName),this.props.demo&&Ni("button",{class:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn",onclick:this.props.handleDemoAuth},"Proceed with Demo Account")))},e}(Z.Component),ji=Z.h,Fi=Z.h,qi=function(t){function e(i){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i));return n.isEmpty=!0,n.handleKeyPress=n.handleKeyPress.bind(n),n.handleClear=n.handleClear.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.handleKeyPress=function(t){if(13===t.keyCode)return t.stopPropagation(),void t.preventDefault();this.isEmpty=!this.input.value.length>0,this.props.filterQuery(t)},e.prototype.handleClear=function(){this.input.value="",this.props.filterQuery()},e.prototype.render=function(){var t=this;return Fi("div",{class:"uppy-u-reset uppy-ProviderBrowser-search"},Fi("svg",{class:"UppyIcon uppy-ProviderBrowser-searchIcon",viewBox:"0 0 100 100"},Fi("path",{d:"M87.533 80.03L62.942 55.439c3.324-4.587 5.312-10.207 5.312-16.295 0-.312-.043-.611-.092-.908.05-.301.093-.605.093-.922 0-15.36-12.497-27.857-27.857-27.857-.273 0-.536.043-.799.08-.265-.037-.526-.08-.799-.08-15.361 0-27.858 12.497-27.858 27.857 0 .312.042.611.092.909a5.466 5.466 0 0 0-.093.921c0 15.36 12.496 27.858 27.857 27.858.273 0 .535-.043.8-.081.263.038.524.081.798.081 5.208 0 10.071-1.464 14.245-3.963L79.582 87.98a5.603 5.603 0 0 0 3.976 1.647 5.621 5.621 0 0 0 3.975-9.597zM39.598 55.838c-.265-.038-.526-.081-.8-.081-9.16 0-16.612-7.452-16.612-16.612 0-.312-.042-.611-.092-.908.051-.301.093-.605.093-.922 0-9.16 7.453-16.612 16.613-16.612.272 0 .534-.042.799-.079.263.037.525.079.799.079 9.16 0 16.612 7.452 16.612 16.612 0 .312.043.611.092.909-.05.301-.094.604-.094.921 0 9.16-7.452 16.612-16.612 16.612-.274 0-.536.043-.798.081z"})),Fi("input",{class:"uppy-u-reset uppy-ProviderBrowser-searchInput",type:"text",placeholder:"Filter","aria-label":"Filter",onkeyup:this.handleKeyPress,onkeydown:this.handleKeyPress,onkeypress:this.handleKeyPress,value:this.props.filterInput,ref:function(e){t.input=e}}),!this.isEmpty&&Fi("button",{class:"uppy-u-reset uppy-ProviderBrowser-searchClose",type:"button",onclick:this.handleClear},Fi("svg",{class:"UppyIcon",viewBox:"0 0 19 19"},Fi("path",{d:"M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z"}))))},e}(Z.Component),Ri=Z.h,Bi=function(t){var e=function(t){13===t.keyCode&&(t.stopPropagation(),t.preventDefault())};return Ri("li",{class:"uppy-ProviderBrowserItem"+(t.isChecked?" uppy-ProviderBrowserItem--selected":"")},Ri("div",{class:"uppy-ProviderBrowserItem-checkbox"},Ri("input",{type:"checkbox",role:"option",tabindex:"0","aria-label":"Select "+t.title,id:t.id,checked:t.isChecked,disabled:t.isDisabled,onchange:t.handleCheckboxClick,onkeyup:e,onkeydown:e,onkeypress:e}),Ri("label",{for:t.id,onclick:t.handleCheckboxClick})),Ri("button",{type:"button",class:"uppy-ProviderBrowserItem-inner","aria-label":"Select "+t.title,tabindex:"0",onclick:function(e){if(e.preventDefault(),"folder"===t.type)return t.handleClick(e);t.handleCheckboxClick(e)}},t.getItemIcon()," ",t.showTitles&&t.title))},Hi=Z.h,Ui=Z.h,Wi=function(t){var e=t.folders,i=t.files;return""!==t.filterInput&&(e=t.filterItems(t.folders),i=t.filterItems(t.files)),Ui("div",{class:"uppy-ProviderBrowser uppy-ProviderBrowser-viewType--"+t.viewType},Ui("div",{class:"uppy-ProviderBrowser-header"},Ui("div",{class:"uppy-ProviderBrowser-headerBar "+(t.showBreadcrumbs?"":"uppy-ProviderBrowser-headerBar--simple")},Ui("div",{class:"uppy-Provider-breadcrumbsIcon"},t.pluginIcon&&t.pluginIcon()),t.showBreadcrumbs&&function(t){return ji("ul",{class:"uppy-Provider-breadcrumbs"},t.directories.map((function(e,i){return function(t){return ji("li",null,ji("button",{type:"button",onclick:t.getFolder},t.title))}({getFolder:function(){return t.getFolder(e.id)},title:0===i?t.title:e.title})})))}({getFolder:t.getFolder,directories:t.directories,title:t.title}),Ui("button",{type:"button",onclick:t.logout,class:"uppy-ProviderBrowser-userLogout"},"Log out"))),t.showFilter&&Ui(qi,t),function(t){return Hi("div",{class:"uppy-ProviderBrowser-body"},Hi("ul",{class:"uppy-ProviderBrowser-list",onscroll:t.handleScroll,role:"listbox","aria-label":"List of files from "+t.title},t.folders.map((function(e){var i=!1,n=t.isChecked(e);return n&&(i=n.loading),Bi({title:t.getItemName(e),id:t.getItemId(e),type:"folder",getItemIcon:function(){return t.getItemIcon(e)},handleClick:function(){return t.handleFolderClick(e)},isDisabled:i,isChecked:n,handleCheckboxClick:function(i){return t.toggleCheckbox(i,e)},columns:t.columns,showTitles:t.showTitles})})),t.files.map((function(e){return Bi({title:t.getItemName(e),id:t.getItemId(e),type:"file",getItemIcon:function(){return t.getItemIcon(e)},handleClick:function(){return t.handleFileClick(e)},isDisabled:!1,isChecked:t.isChecked(e),handleCheckboxClick:function(i){return t.toggleCheckbox(i,e)},columns:t.columns,showTitles:t.showTitles})}))))}({columns:[{name:"Name",key:"title"}],folders:e,files:i,activeRow:t.isActiveRow,sortByTitle:t.sortByTitle,sortByDate:t.sortByDate,handleFileClick:t.addFile,handleFolderClick:t.getNextFolder,isChecked:t.isChecked,toggleCheckbox:t.toggleCheckbox,getItemName:t.getItemName,getItemIcon:t.getItemIcon,handleScroll:t.handleScroll,title:t.title,showTitles:t.showTitles,getItemId:t.getItemId}),Ui("button",{class:"UppyButton--circular UppyButton--blue uppy-ProviderBrowser-doneBtn",type:"button","aria-label":"Done picking files",title:"Done picking files",onclick:t.done},Ui("svg",{"aria-hidden":"true",class:"UppyIcon",width:"13px",height:"9px",viewBox:"0 0 13 9"},Ui("polygon",{points:"5 7.293 1.354 3.647 0.646 4.354 5 8.707 12.354 1.354 11.646 0.647"}))))},Xi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Gi=Z.h,Yi={ProviderView:function(){function t(e,i){!function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.plugin=e,this.Provider=e[e.id],this.opts=Xi({},{viewType:"list",showTitles:!0,showFilter:!0,showBreadcrumbs:!0},i),this.updateFolderState=this.updateFolderState.bind(this),this.addFile=this.addFile.bind(this),this.filterItems=this.filterItems.bind(this),this.filterQuery=this.filterQuery.bind(this),this.toggleSearch=this.toggleSearch.bind(this),this.getFolder=this.getFolder.bind(this),this.getNextFolder=this.getNextFolder.bind(this),this.logout=this.logout.bind(this),this.checkAuth=this.checkAuth.bind(this),this.handleAuth=this.handleAuth.bind(this),this.handleDemoAuth=this.handleDemoAuth.bind(this),this.sortByTitle=this.sortByTitle.bind(this),this.sortByDate=this.sortByDate.bind(this),this.isActiveRow=this.isActiveRow.bind(this),this.isChecked=this.isChecked.bind(this),this.toggleCheckbox=this.toggleCheckbox.bind(this),this.handleError=this.handleError.bind(this),this.handleScroll=this.handleScroll.bind(this),this.donePicking=this.donePicking.bind(this),this.plugin.uppy.on("file-removed",this.updateFolderState),this.render=this.render.bind(this)}return t.prototype.tearDown=function(){this.plugin.uppy.off("file-removed",this.updateFolderState)},t.prototype._updateFilesAndFolders=function(t,e,i){var n=this;this.plugin.getItemSubList(t).forEach((function(t){n.plugin.isFolder(t)?i.push(t):e.push(t)})),this.plugin.setPluginState({folders:i,files:e})},t.prototype.checkAuth=function(){var t=this;this.plugin.setPluginState({checkAuthInProgress:!0}),this.Provider.checkAuth().then((function(e){t.plugin.setPluginState({checkAuthInProgress:!1}),t.plugin.onAuth(e)})).catch((function(e){t.plugin.setPluginState({checkAuthInProgress:!1}),t.handleError(e)}))},t.prototype.getFolder=function(t,e){var i=this;return this._loaderWrapper(this.Provider.list(t),(function(n){var r,o=i.plugin.getPluginState(),s=o.directories.findIndex((function(e){return t===e.id}));r=-1!==s?o.directories.slice(0,s+1):o.directories.concat([{id:t,title:e||i.plugin.getItemName(n)}]),i._updateFilesAndFolders(n,[],[]),i.plugin.setPluginState({directories:r})}),this.handleError)},t.prototype.getNextFolder=function(t){var e=this.plugin.getItemRequestPath(t);this.getFolder(e,this.plugin.getItemName(t)),this.lastCheckbox=void 0},t.prototype.addFile=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i={source:this.plugin.id,data:this.plugin.getItemData(t),name:this.plugin.getItemName(t)||this.plugin.getItemId(t),type:this.plugin.getMimeType(t),isRemote:!0,body:{fileId:this.plugin.getItemId(t)},remote:{host:this.plugin.opts.host,url:""+this.Provider.fileUrl(this.plugin.getItemRequestPath(t)),body:{fileId:this.plugin.getItemId(t)}}},n=pt.getFileType(i);n&&pt.isPreviewSupported(n)&&(i.preview=this.plugin.getItemThumbnailUrl(t)),this.plugin.uppy.log("Adding remote file"),this.plugin.uppy.addFile(i),e||this.donePicking()},t.prototype.logout=function(){var t=this;this.Provider.logout(location.href).then((function(e){e.ok&&t.plugin.setPluginState({authenticated:!1,files:[],folders:[],directories:[]})})).catch(this.handleError)},t.prototype.filterQuery=function(t){var e=this.plugin.getPluginState();this.plugin.setPluginState(Xi({},e,{filterInput:t?t.target.value:""}))},t.prototype.toggleSearch=function(){var t=this.plugin.getPluginState();this.plugin.setPluginState({isSearchVisible:!t.isSearchVisible,filterInput:""})},t.prototype.filterItems=function(t){var e=this,i=this.plugin.getPluginState();return t.filter((function(t){return-1!==e.plugin.getItemName(t).toLowerCase().indexOf(i.filterInput.toLowerCase())}))},t.prototype.sortByTitle=function(){var t=this,e=Xi({},this.plugin.getPluginState()),i=e.files,n=e.folders,r=e.sorting,o=i.sort((function(e,i){return"titleDescending"===r?t.plugin.getItemName(i).localeCompare(t.plugin.getItemName(e)):t.plugin.getItemName(e).localeCompare(t.plugin.getItemName(i))})),s=n.sort((function(e,i){return"titleDescending"===r?t.plugin.getItemName(i).localeCompare(t.plugin.getItemName(e)):t.plugin.getItemName(e).localeCompare(t.plugin.getItemName(i))}));this.plugin.setPluginState(Xi({},e,{files:o,folders:s,sorting:"titleDescending"===r?"titleAscending":"titleDescending"}))},t.prototype.sortByDate=function(){var t=this,e=Xi({},this.plugin.getPluginState()),i=e.files,n=e.folders,r=e.sorting,o=i.sort((function(e,i){var n=new Date(t.plugin.getItemModifiedDate(e)),o=new Date(t.plugin.getItemModifiedDate(i));return"dateDescending"===r?n>o?-1:n<o?1:0:n>o?1:n<o?-1:0})),s=n.sort((function(e,i){var n=new Date(t.plugin.getItemModifiedDate(e)),o=new Date(t.plugin.getItemModifiedDate(i));return"dateDescending"===r?n>o?-1:n<o?1:0:n>o?1:n<o?-1:0}));this.plugin.setPluginState(Xi({},e,{files:o,folders:s,sorting:"dateDescending"===r?"dateAscending":"dateDescending"}))},t.prototype.sortBySize=function(){var t=this,e=Xi({},this.plugin.getPluginState()),i=e.files,n=e.sorting;if(i.length&&this.plugin.getItemData(i[0]).size){var r=i.sort((function(e,i){var r=t.plugin.getItemData(e).size,o=t.plugin.getItemData(i).size;return"sizeDescending"===n?r>o?-1:r<o?1:0:r>o?1:r<o?-1:0}));this.plugin.setPluginState(Xi({},e,{files:r,sorting:"sizeDescending"===n?"sizeAscending":"sizeDescending"}))}},t.prototype.isActiveRow=function(t){return this.plugin.getPluginState().activeRow===this.plugin.getItemId(t)},t.prototype.isChecked=function(t){var e=this.providerFileToId(t);if(this.plugin.isFolder(t)){var i=this.plugin.getPluginState().selectedFolders||{};return e in i&&i[e]}return e in this.plugin.uppy.getState().files},t.prototype.addFolder=function(t){var e=this,i=this.providerFileToId(t),n=this.plugin.getPluginState(),r=n.selectedFolders||{};i in r&&r[i].loading||(r[i]={loading:!0,files:[]},this.plugin.setPluginState({selectedFolders:r}),this.Provider.list(this.plugin.getItemRequestPath(t)).then((function(o){var s=[];e.plugin.getItemSubList(o).forEach((function(t){e.plugin.isFolder(t)||(e.addFile(t,!0),s.push(e.providerFileToId(t)))})),(n=e.plugin.getPluginState()).selectedFolders[i]={loading:!1,files:s},e.plugin.setPluginState({selectedFolders:r});var a,l=e.plugin.uppy.getPlugin("Dashboard");a=s.length?l.i18n("folderAdded",{smart_count:s.length,folder:e.plugin.getItemName(t)}):l.i18n("emptyFolderAdded"),e.plugin.uppy.info(a)})).catch((function(t){delete(n=e.plugin.getPluginState()).selectedFolders[i],e.plugin.setPluginState({selectedFolders:n.selectedFolders}),e.handleError(t)})))},t.prototype.removeFolder=function(t){var e=this.plugin.getPluginState().selectedFolders||{};if(t in e){var i=e[t];if(!i.loading){var n=i.files.concat([]),r=Array.isArray(n),o=0;for(n=r?n:n[Symbol.iterator]();;){var s;if(r){if(o>=n.length)break;s=n[o++]}else{if((o=n.next()).done)break;s=o.value}var a=s;a in this.plugin.uppy.getState().files&&this.plugin.uppy.removeFile(a)}delete e[t],this.plugin.setPluginState({selectedFolders:e})}}},t.prototype.updateFolderState=function(t){var e=this.plugin.getPluginState().selectedFolders||{};for(var i in e){var n=e[i];if(!n.loading){var r=n.files.indexOf(t.id);r>-1&&n.files.splice(r,1),n.files.length||delete e[i]}}this.plugin.setPluginState({selectedFolders:e})},t.prototype.toggleCheckbox=function(t,e){t.stopPropagation(),t.preventDefault();var i=this.plugin.getPluginState(),n=i.folders,r=i.files,o=i.filterInput,s=n.concat(r);""!==o&&(s=this.filterItems(s));var a=[e];if(this.lastCheckbox&&t.shiftKey){var l=s.indexOf(this.lastCheckbox),c=s.indexOf(e);a=l<c?s.slice(l,c+1):s.slice(c,l+1)}if(this.lastCheckbox=e,this.isChecked(e)){var u=a,h=Array.isArray(u),d=0;for(u=h?u:u[Symbol.iterator]();;){var p;if(h){if(d>=u.length)break;p=u[d++]}else{if((d=u.next()).done)break;p=d.value}var f=p,m=this.providerFileToId(f);this.plugin.isFolder(f)?this.removeFolder(m):m in this.plugin.uppy.getState().files&&this.plugin.uppy.removeFile(m)}}else{var g=a,v=Array.isArray(g),y=0;for(g=v?g:g[Symbol.iterator]();;){var b;if(v){if(y>=g.length)break;b=g[y++]}else{if((y=g.next()).done)break;b=y.value}var w=b;this.plugin.isFolder(w)?this.addFolder(w):this.addFile(w,!0)}}},t.prototype.providerFileToId=function(t){return pt.generateFileID({data:this.plugin.getItemData(t),name:this.plugin.getItemName(t)||this.plugin.getItemId(t),type:this.plugin.getMimeType(t)})},t.prototype.handleDemoAuth=function(){var t=this.plugin.getPluginState();this.plugin.setPluginState({},t,{authenticated:!0})},t.prototype.handleAuth=function(){var t=this,e=Math.floor(999999*Math.random())+1,i=location.href+(location.search?"&":"?")+"id="+e,n=btoa(JSON.stringify({redirect:i})),r=this.Provider.authUrl()+"?state="+n,o=window.open(r,"_blank");!function e(){var n=void 0;try{n=o.location.href}catch(t){if(t instanceof DOMException||t instanceof TypeError)return setTimeout(e,100);throw t}n&&n.split("#")[0]===i?(o.close(),t._loaderWrapper(t.Provider.checkAuth(),t.plugin.onAuth,t.handleError)):setTimeout(e,100)}()},t.prototype.handleError=function(t){var e=this.plugin.uppy,i=e.i18n("uppyServerError");e.log(t.toString()),e.info({message:i,details:t.toString()},"error",5e3)},t.prototype.handleScroll=function(t){var e=this,i=t.target.scrollHeight-(t.target.scrollTop+t.target.offsetHeight),n=this.plugin.getNextPagePath?this.plugin.getNextPagePath():null;i<50&&n&&!this._isHandlingScroll&&(this.Provider.list(n).then((function(t){var i=e.plugin.getPluginState(),n=i.files,r=i.folders;e._updateFilesAndFolders(t,n,r)})).catch(this.handleError).then((function(){e._isHandlingScroll=!1})),this._isHandlingScroll=!0)},t.prototype.donePicking=function(){var t=this.plugin.uppy.getPlugin("Dashboard");t&&t.hideAllPanels()},t.prototype._loaderWrapper=function(t,e,i){var n=this;t.then(e).catch(i).then((function(){return n.plugin.setPluginState({loading:!1})})),this.plugin.setPluginState({loading:!0})},t.prototype.render=function(){var t=this.plugin.getPluginState(),e=t.authenticated,i=t.checkAuthInProgress;if(t.loading)return $i();if(!e)return Gi(zi,{pluginName:this.plugin.title,pluginIcon:this.plugin.icon,demo:this.plugin.opts.demo,checkAuth:this.checkAuth,handleAuth:this.handleAuth,handleDemoAuth:this.handleDemoAuth,checkAuthInProgress:i});var n=Xi({},this.plugin.getPluginState(),{getNextFolder:this.getNextFolder,getFolder:this.getFolder,addFile:this.addFile,filterItems:this.filterItems,filterQuery:this.filterQuery,toggleSearch:this.toggleSearch,sortByTitle:this.sortByTitle,sortByDate:this.sortByDate,logout:this.logout,demo:this.plugin.opts.demo,isActiveRow:this.isActiveRow,isChecked:this.isChecked,toggleCheckbox:this.toggleCheckbox,getItemId:this.plugin.getItemId,getItemName:this.plugin.getItemName,getItemIcon:this.plugin.getItemIcon,handleScroll:this.handleScroll,done:this.donePicking,title:this.plugin.title,viewType:this.opts.viewType,showTitles:this.opts.showTitles,showFilter:this.opts.showFilter,showBreadcrumbs:this.opts.showBreadcrumbs,pluginIcon:this.plugin.icon});return Wi(n)},t}()},Vi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Ki=Di.Provider,Qi=Yi.ProviderView,Ji=Z.h,Zi=function(t){function e(i,n){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,n));return r.type="acquirer",r.id=r.opts.id||"Dropbox",r.title="Dropbox",r.icon=function(){return Ji("svg",{class:"UppyIcon",width:"128",height:"118",viewBox:"0 0 128 118"},Ji("path",{d:"M38.145.777L1.108 24.96l25.608 20.507 37.344-23.06z"}),Ji("path",{d:"M1.108 65.975l37.037 24.183L64.06 68.525l-37.343-23.06zM64.06 68.525l25.917 21.633 37.036-24.183-25.61-20.51z"}),Ji("path",{d:"M127.014 24.96L89.977.776 64.06 22.407l37.345 23.06zM64.136 73.18l-25.99 21.567-11.122-7.262v8.142l37.112 22.256 37.114-22.256v-8.142l-11.12 7.262z"}))},r[r.id]=new Ki(i,{host:r.opts.host,provider:"dropbox"}),r.files=[],r.onAuth=r.onAuth.bind(r),r.render=r.render.bind(r),r.opts=Vi({},{},n),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.install=function(){this.view=new Qi(this),this.setPluginState({authenticated:!1,files:[],folders:[],directories:[],activeRow:-1,filterInput:"",isSearchVisible:!1});var t=this.opts.target;t&&this.mount(t,this)},e.prototype.uninstall=function(){this.view.tearDown(),this.unmount()},e.prototype.onAuth=function(t){this.setPluginState({authenticated:t}),t&&this.view.getFolder()},e.prototype.isFolder=function(t){return"folder"===t[".tag"]},e.prototype.getItemData=function(t){return t},e.prototype.getItemIcon=function(t){return Ei[t[".tag"]]()},e.prototype.getItemSubList=function(t){return t.entries},e.prototype.getItemName=function(t){return t.name||""},e.prototype.getMimeType=function(){return null},e.prototype.getItemId=function(t){return t.id},e.prototype.getItemRequestPath=function(t){return encodeURIComponent(t.path_lower)},e.prototype.getItemModifiedDate=function(t){return t.server_modified},e.prototype.getItemThumbnailUrl=function(t){return this.opts.host+"/"+this.Dropbox.id+"/thumbnail/"+this.getItemRequestPath(t)},e.prototype.render=function(t){return this.view.render(t)},e}(vt),tn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},en=pt.toArray,nn=Z.h,rn=function(t){function e(i,n){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,n));r.id=r.opts.id||"FileInput",r.title="File Input",r.type="acquirer";var o={strings:{chooseFiles:"Choose files"}},s={target:null,allowMultipleFiles:!0,pretty:!0,inputName:"files[]",locale:o};return r.opts=tn({},s,n),r.locale=tn({},o,r.opts.locale),r.locale.strings=tn({},o.strings,r.opts.locale.strings),r.translator=new It({locale:r.locale}),r.i18n=r.translator.translate.bind(r.translator),r.render=r.render.bind(r),r.handleInputChange=r.handleInputChange.bind(r),r.handleClick=r.handleClick.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.handleInputChange=function(t){var e=this;this.uppy.log("[FileInput] Something selected through input..."),en(t.target.files).forEach((function(t){e.uppy.addFile({source:e.id,name:t.name,type:t.type,data:t})}))},e.prototype.handleClick=function(){this.input.click()},e.prototype.render=function(){var t=this;return nn("div",{class:"uppy uppy-FileInput-container"},nn("input",{class:"uppy-FileInput-input",style:this.opts.pretty&&{width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},type:"file",name:this.opts.inputName,onchange:this.handleInputChange,multiple:this.opts.allowMultipleFiles,ref:function(e){t.input=e}}),this.opts.pretty&&nn("button",{class:"uppy-FileInput-btn",type:"button",onclick:this.handleClick},this.i18n("chooseFiles")))},e.prototype.install=function(){var t=this.opts.target;t&&this.mount(t,this)},e.prototype.uninstall=function(){this.unmount()},e}(vt),on={__esModule:!0};on.default=b,on.getFieldData=w;var sn={"[object HTMLCollection]":!0,"[object NodeList]":!0,"[object RadioNodeList]":!0},an={button:!0,fieldset:!0,reset:!0,submit:!0},ln={checkbox:!0,radio:!0},cn=/^\s+|\s+$/g,un=Array.prototype.slice,hn=Object.prototype.toString;b.getFieldData=w;var dn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},pn=pt.findDOMElement,fn=on.default||on,mn=function(t){function e(i,n){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,n));return r.type="acquirer",r.id="Form",r.title="Form",r.opts=dn({},{target:null,resultName:"uppyResult",getMetaFromForm:!0,addResultToForm:!0,submitOnSuccess:!1,triggerUploadOnSubmit:!1},n),r.handleFormSubmit=r.handleFormSubmit.bind(r),r.handleUploadStart=r.handleUploadStart.bind(r),r.handleSuccess=r.handleSuccess.bind(r),r.addResultToForm=r.addResultToForm.bind(r),r.getMetaFromForm=r.getMetaFromForm.bind(r),r}return function(t,e){
if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.handleUploadStart=function(){this.opts.getMetaFromForm&&this.getMetaFromForm()},e.prototype.handleSuccess=function(t){this.opts.addResultToForm&&this.addResultToForm(t),this.opts.submitOnSuccess&&this.form.submit()},e.prototype.handleFormSubmit=function(t){var e=this;this.opts.triggerUploadOnSubmit&&(t.preventDefault(),this.uppy.upload().catch((function(t){e.uppy.log(t.stack||t.message||t)})))},e.prototype.addResultToForm=function(t){this.uppy.log("[Form] Adding result to the original form:"),this.uppy.log(t);var e=this.form.querySelector('[name="'+this.opts.resultName+'"]');e?e.value=JSON.stringify(t):((e=document.createElement("input")).name=this.opts.resultName,e.type="hidden",e.value=JSON.stringify(t),this.form.appendChild(e))},e.prototype.getMetaFromForm=function(){var t=fn(this.form);this.uppy.setMeta(t)},e.prototype.install=function(){this.form=pn(this.opts.target),this.form&&"FORM"!==!this.form.nodeName?(this.form.addEventListener("submit",this.handleFormSubmit),this.uppy.on("upload",this.handleUploadStart),this.uppy.on("complete",this.handleSuccess)):console.error("Form plugin requires a <form> target element passed in options to operate, none was found","error")},e.prototype.uninstall=function(){this.form.removeEventListener("submit",this.handleFormSubmit),this.uppy.off("upload",this.handleUploadStart),this.uppy.off("complete",this.handleSuccess)},e}(vt),gn={},vn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},yn="undefined"==typeof Promise?lt.Promise:Promise,bn="undefined"!=typeof window&&(window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB),wn=!!bn,xn="uppy-blobs",_n="files",kn=864e5,Cn=3,Sn=!1,Tn=function(){function t(e){var i=this;!function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.opts=vn({dbName:xn,storeName:"default",expires:kn,maxFileSize:10485760,maxTotalSize:314572800},e),this.name=this.opts.storeName;var n=function(){return _(i.opts.dbName)};Sn?this.ready=n():(Sn=!0,this.ready=t.cleanup().then(n,n))}return t.prototype.key=function(t){return this.name+"!"+t},t.prototype.list=function(){var t=this;return this.ready.then((function(e){return k(e.transaction([_n],"readonly").objectStore(_n).index("store").getAll(IDBKeyRange.only(t.name)))})).then((function(t){var e={};return t.forEach((function(t){e[t.fileID]=t.data})),e}))},t.prototype.get=function(t){var e=this;return this.ready.then((function(i){return k(i.transaction([_n],"readonly").objectStore(_n).get(e.key(t)))})).then((function(t){return{id:t.data.fileID,data:t.data.data}}))},t.prototype.getSize=function(){var t=this;return this.ready.then((function(e){var i=e.transaction([_n],"readonly").objectStore(_n).index("store").openCursor(IDBKeyRange.only(t.name));return new yn((function(t,e){var n=0;i.onsuccess=function(e){var i=e.target.result;i?(n+=i.value.data.size,i.continue()):t(n)},i.onerror=function(){e(new Error("Could not retrieve stored blobs size"))}}))}))},t.prototype.put=function(t){var e=this;return t.data.size>this.opts.maxFileSize?yn.reject(new Error("File is too big to store.")):this.getSize().then((function(t){return t>e.opts.maxTotalSize?yn.reject(new Error("No space left")):e.ready})).then((function(i){return k(i.transaction([_n],"readwrite").objectStore(_n).add({id:e.key(t.id),fileID:t.id,store:e.name,expires:Date.now()+e.opts.expires,data:t.data}))}))},t.prototype.delete=function(t){var e=this;return this.ready.then((function(i){return k(i.transaction([_n],"readwrite").objectStore(_n).delete(e.key(t)))}))},t.cleanup=function(){return _(xn).then((function(t){var e=t.transaction([_n],"readwrite").objectStore(_n).index("expires").openCursor(IDBKeyRange.upperBound(Date.now()));return new yn((function(i,n){e.onsuccess=function(e){var n=e.target.result;if(n){var r=n.value;console.log("[IndexedDBStore] Deleting record",r.fileID,"of size",Ot(r.data.size),"- expired on",new Date(r.expires)),n.delete(),n.continue()}else i(t)},e.onerror=n}))})).then((function(t){t.close()}))},t}();Tn.isSupported=wn,gn=Tn;var An=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},En=!1,Pn=function(){function t(e){!function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.opts=An({expires:864e5},e),this.name="uppyState:"+e.storeName,En||(En=!0,t.cleanup())}return t.prototype.load=function(){var t=localStorage.getItem(this.name);if(!t)return null;var e=C(t);return e?e.metadata?e.metadata:(this.save(e),e):null},t.prototype.save=function(t){var e=Date.now()+this.opts.expires,i=JSON.stringify({metadata:t,expires:e});localStorage.setItem(this.name,i)},t.cleanup=function(){var t=function(){for(var t=[],e=0;e<localStorage.length;e++){var i=localStorage.key(e);/^uppyState:/.test(i)&&t.push(i.slice(10))}return t}(),e=Date.now();t.forEach((function(t){var i=localStorage.getItem("uppyState:"+t);if(!i)return null;var n=C(i);if(!n)return null;n.expires&&n.expires<e&&localStorage.removeItem("uppyState:"+t)}))},t}(),Mn={},Ln="undefined"==typeof Promise?lt.Promise:Promise,On="undefined"!=typeof navigator&&"serviceWorker"in navigator,Dn=function(){function t(e){!function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.ready=new Ln((function(t,e){On?navigator.serviceWorker.controller?t():navigator.serviceWorker.addEventListener("controllerchange",(function(){t()})):e(new Error("Unsupported"))})),this.name=e.storeName}return t.prototype.list=function(){var t=this,e={},i=new Ln((function(t,i){e.resolve=t,e.reject=i}));console.log("Loading stored blobs from Service Worker");var n=function i(n){if(n.data.store===t.name&&"uppy/ALL_FILES"===n.data.type)e.resolve(n.data.files),navigator.serviceWorker.removeEventListener("message",i)};return this.ready.then((function(){navigator.serviceWorker.addEventListener("message",n),navigator.serviceWorker.controller.postMessage({type:"uppy/GET_FILES",store:t.name})})),i},t.prototype.put=function(t){var e=this;return this.ready.then((function(){navigator.serviceWorker.controller.postMessage({type:"uppy/ADD_FILE",store:e.name,file:t})}))},t.prototype.delete=function(t){var e=this;return this.ready.then((function(){navigator.serviceWorker.controller.postMessage({type:"uppy/REMOVE_FILE",store:e.name,fileID:t})}))},t}();Dn.isSupported=On,Mn=Dn;var In,$n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Nn="undefined"==typeof Promise?lt.Promise:Promise,zn=function(t){function e(i,n){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,n));return r.type="debugger",r.id="GoldenRetriever",r.title="Golden Retriever",r.opts=$n({},{expires:864e5,serviceWorker:!1},n),r.MetaDataStore=new Pn({expires:r.opts.expires,storeName:i.getID()}),r.ServiceWorkerStore=null,r.opts.serviceWorker&&(r.ServiceWorkerStore=new Mn({storeName:i.getID()})),r.IndexedDBStore=new gn($n({expires:r.opts.expires},n.indexedDB||{},{storeName:i.getID()})),r.saveFilesStateToLocalStorage=r.saveFilesStateToLocalStorage.bind(r),r.loadFilesStateFromLocalStorage=r.loadFilesStateFromLocalStorage.bind(r),r.loadFileBlobsFromServiceWorker=r.loadFileBlobsFromServiceWorker.bind(r),r.loadFileBlobsFromIndexedDB=r.loadFileBlobsFromIndexedDB.bind(r),r.onBlobsLoaded=r.onBlobsLoaded.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.loadFilesStateFromLocalStorage=function(){var t=this.MetaDataStore.load();t&&(this.uppy.log("[GoldenRetriever] Recovered some state from Local Storage"),this.uppy.setState({currentUploads:t.currentUploads||{},files:t.files||{}}),this.savedPluginData=t.pluginData)},e.prototype.getWaitingFiles=function(){var t=this,e={},i=this.uppy.state.files;return Object.keys(i).forEach((function(i){var n=t.uppy.getFile(i);n.progress&&n.progress.uploadStarted||(e[i]=n)})),e},e.prototype.getUploadingFiles=function(){var t=this,e={},i=this.uppy.state.currentUploads;return i&&Object.keys(i).forEach((function(n){i[n].fileIDs.forEach((function(i){e[i]=t.uppy.getFile(i)}))})),e},e.prototype.saveFilesStateToLocalStorage=function(){var t=$n(this.getWaitingFiles(),this.getUploadingFiles()),e={};this.uppy.emit("restore:get-data",(function(t){$n(e,t)})),this.MetaDataStore.save({currentUploads:this.uppy.state.currentUploads,files:t,pluginData:e})},e.prototype.loadFileBlobsFromServiceWorker=function(){var t=this;this.ServiceWorkerStore.list().then((function(e){var i=Object.keys(e).length;return i===Object.keys(t.uppy.state.files).length?(t.uppy.log("[GoldenRetriever] Successfully recovered "+i+" blobs from Service Worker!"),t.uppy.info("Successfully recovered "+i+" files","success",3e3),t.onBlobsLoaded(e)):(t.uppy.log("[GoldenRetriever] No blobs found in Service Worker, trying IndexedDB now..."),t.loadFileBlobsFromIndexedDB())})).catch((function(e){t.uppy.log("[GoldenRetriever] Failed to recover blobs from Service Worker","warning"),t.uppy.log(e)}))},e.prototype.loadFileBlobsFromIndexedDB=function(){var t=this;this.IndexedDBStore.list().then((function(e){var i=Object.keys(e).length;if(i>0)return t.uppy.log("[GoldenRetriever] Successfully recovered "+i+" blobs from IndexedDB!"),t.uppy.info("Successfully recovered "+i+" files","success",3e3),t.onBlobsLoaded(e);t.uppy.log("[GoldenRetriever] No blobs found in IndexedDB")})).catch((function(e){t.uppy.log("[GoldenRetriever] Failed to recover blobs from IndexedDB","warning"),t.uppy.log(e)}))},e.prototype.onBlobsLoaded=function(t){var e=this,i=[],n=$n({},this.uppy.state.files);Object.keys(t).forEach((function(r){var o=e.uppy.getFile(r);if(o){var s=t[r],a=$n({},o,{data:s,isRestored:!0});n[r]=a}else i.push(r)})),this.uppy.setState({files:n}),this.uppy.emit("restored",this.savedPluginData),i.length&&this.deleteBlobs(i).then((function(){e.uppy.log("[GoldenRetriever] Cleaned up "+i.length+" old files")})).catch((function(t){e.uppy.log("[GoldenRetriever] Could not clean up "+i.length+" old files","warning"),e.uppy.log(t)}))},e.prototype.deleteBlobs=function(t){var e=this,i=[];return t.forEach((function(t){e.ServiceWorkerStore&&i.push(e.ServiceWorkerStore.delete(t)),e.IndexedDBStore&&i.push(e.IndexedDBStore.delete(t))})),Nn.all(i)},e.prototype.install=function(){var t=this;this.loadFilesStateFromLocalStorage(),Object.keys(this.uppy.state.files).length>0?this.ServiceWorkerStore?(this.uppy.log("[GoldenRetriever] Attempting to load files from Service Worker..."),this.loadFileBlobsFromServiceWorker()):(this.uppy.log("[GoldenRetriever] Attempting to load files from Indexed DB..."),this.loadFileBlobsFromIndexedDB()):(this.uppy.log("[GoldenRetriever] No files need to be loaded, only restoring processing state..."),this.onBlobsLoaded([])),this.uppy.on("file-added",(function(e){e.isRemote||(t.ServiceWorkerStore&&t.ServiceWorkerStore.put(e).catch((function(e){t.uppy.log("[GoldenRetriever] Could not store file","warning"),t.uppy.log(e)})),t.IndexedDBStore.put(e).catch((function(e){t.uppy.log("[GoldenRetriever] Could not store file","warning"),t.uppy.log(e)})))})),this.uppy.on("file-removed",(function(e){t.ServiceWorkerStore&&t.ServiceWorkerStore.delete(e.id).catch((function(e){t.uppy.log("[GoldenRetriever] Failed to remove file","warning"),t.uppy.log(e)})),t.IndexedDBStore.delete(e.id).catch((function(e){t.uppy.log("[GoldenRetriever] Failed to remove file","warning"),t.uppy.log(e)}))})),this.uppy.on("complete",(function(e){var i=e.successful,n=i.map((function(t){return t.id}));t.deleteBlobs(n).then((function(){t.uppy.log("[GoldenRetriever] Removed "+i.length+" files that finished uploading")})).catch((function(e){t.uppy.log("[GoldenRetriever] Could not remove "+i.length+" files that finished uploading","warning"),t.uppy.log(e)}))})),this.uppy.on("state-update",this.saveFilesStateToLocalStorage),this.uppy.on("restored",(function(){var e=t.uppy.getState().currentUploads;e&&Object.keys(e).forEach((function(i){t.uppy.restore(i,e[i])}))}))},e}(vt),jn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Fn=Di.Provider,qn=Yi.ProviderView,Rn=Z.h,Bn=function(t){function e(i,n){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,n));return r.type="acquirer",r.id=r.opts.id||"GoogleDrive",r.title="Google Drive",r.icon=function(){return Rn("svg",{"aria-hidden":"true",class:"UppyIcon UppyModalTab-icon",width:"28",height:"28",viewBox:"0 0 16 16"},Rn("path",{d:"M2.955 14.93l2.667-4.62H16l-2.667 4.62H2.955zm2.378-4.62l-2.666 4.62L0 10.31l5.19-8.99 2.666 4.62-2.523 4.37zm10.523-.25h-5.333l-5.19-8.99h5.334l5.19 8.99z"}))},r[r.id]=new Fn(i,{host:r.opts.host,provider:"drive",authProvider:"google"}),r.files=[],r.onAuth=r.onAuth.bind(r),r.render=r.render.bind(r),r.opts=jn({},{},n),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.install=function(){this.view=new qn(this),this.setPluginState({authenticated:!1,files:[],folders:[],directories:[],activeRow:-1,filterInput:"",isSearchVisible:!1});var t=this.opts.target;t&&this.mount(t,this)},e.prototype.uninstall=function(){this.view.tearDown(),this.unmount()},e.prototype.onAuth=function(t){this.setPluginState({authenticated:t}),t&&this.view.getFolder("root")},e.prototype.isFolder=function(t){return"application/vnd.google-apps.folder"===t.mimeType},e.prototype.getItemData=function(t){return jn({},t,{size:parseFloat(t.fileSize)})},e.prototype.getItemIcon=function(t){return Rn("img",{src:t.iconLink})},e.prototype.getItemSubList=function(t){var e=this;return t.items.filter((function(t){return e.isFolder(t)||!t.mimeType.startsWith("application/vnd.google")}))},e.prototype.getItemName=function(t){return t.title?t.title:"/"},e.prototype.getMimeType=function(t){return t.mimeType},e.prototype.getItemId=function(t){return t.id},e.prototype.getItemRequestPath=function(t){return this.getItemId(t)},e.prototype.getItemModifiedDate=function(t){return t.modifiedByMeDate},e.prototype.getItemThumbnailUrl=function(t){return this.opts.host+"/"+this.GoogleDrive.id+"/thumbnail/"+this.getItemRequestPath(t)},e.prototype.render=function(t){return this.view.render(t)},e}(vt),Hn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Un=Di.Provider,Wn=Yi.ProviderView,Xn=Z.h,Gn=function(t){function e(i,n){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,n));return r.type="acquirer",r.id=r.opts.id||"Instagram",r.title="Instagram",r.icon=function(){return Xn("svg",{"aria-hidden":"true",class:"UppyIcon",width:"28",height:"28",viewBox:"0 0 512 512"},Xn("path",{d:"M256,49.471c67.266,0,75.233.257,101.8,1.469,24.562,1.121,37.9,5.224,46.778,8.674a78.052,78.052,0,0,1,28.966,18.845,78.052,78.052,0,0,1,18.845,28.966c3.45,8.877,7.554,22.216,8.674,46.778,1.212,26.565,1.469,34.532,1.469,101.8s-0.257,75.233-1.469,101.8c-1.121,24.562-5.225,37.9-8.674,46.778a83.427,83.427,0,0,1-47.811,47.811c-8.877,3.45-22.216,7.554-46.778,8.674-26.56,1.212-34.527,1.469-101.8,1.469s-75.237-.257-101.8-1.469c-24.562-1.121-37.9-5.225-46.778-8.674a78.051,78.051,0,0,1-28.966-18.845,78.053,78.053,0,0,1-18.845-28.966c-3.45-8.877-7.554-22.216-8.674-46.778-1.212-26.564-1.469-34.532-1.469-101.8s0.257-75.233,1.469-101.8c1.121-24.562,5.224-37.9,8.674-46.778A78.052,78.052,0,0,1,78.458,78.458a78.053,78.053,0,0,1,28.966-18.845c8.877-3.45,22.216-7.554,46.778-8.674,26.565-1.212,34.532-1.469,101.8-1.469m0-45.391c-68.418,0-77,.29-103.866,1.516-26.815,1.224-45.127,5.482-61.151,11.71a123.488,123.488,0,0,0-44.62,29.057A123.488,123.488,0,0,0,17.3,90.982C11.077,107.007,6.819,125.319,5.6,152.134,4.369,179,4.079,187.582,4.079,256S4.369,333,5.6,359.866c1.224,26.815,5.482,45.127,11.71,61.151a123.489,123.489,0,0,0,29.057,44.62,123.486,123.486,0,0,0,44.62,29.057c16.025,6.228,34.337,10.486,61.151,11.71,26.87,1.226,35.449,1.516,103.866,1.516s77-.29,103.866-1.516c26.815-1.224,45.127-5.482,61.151-11.71a128.817,128.817,0,0,0,73.677-73.677c6.228-16.025,10.486-34.337,11.71-61.151,1.226-26.87,1.516-35.449,1.516-103.866s-0.29-77-1.516-103.866c-1.224-26.815-5.482-45.127-11.71-61.151a123.486,123.486,0,0,0-29.057-44.62A123.487,123.487,0,0,0,421.018,17.3C404.993,11.077,386.681,6.819,359.866,5.6,333,4.369,324.418,4.079,256,4.079h0Z"}),Xn("path",{d:"M256,126.635A129.365,129.365,0,1,0,385.365,256,129.365,129.365,0,0,0,256,126.635Zm0,213.338A83.973,83.973,0,1,1,339.974,256,83.974,83.974,0,0,1,256,339.973Z"}),Xn("circle",{cx:"390.476",cy:"121.524",r:"30.23"}))},r[r.id]=new Un(i,{host:r.opts.host,provider:"instagram",authProvider:"instagram"}),r.files=[],r.onAuth=r.onAuth.bind(r),r.render=r.render.bind(r),r.opts=Hn({},{},n),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.install=function(){this.view=new Wn(this,{viewType:"grid",showTitles:!1,showFilter:!1,showBreadcrumbs:!1}),this.setPluginState({authenticated:!1,files:[],folders:[],directories:[],activeRow:-1,filterInput:"",isSearchVisible:!1});var t=this.opts.target;t&&this.mount(t,this)},e.prototype.uninstall=function(){this.view.tearDown(),this.unmount()},e.prototype.onAuth=function(t){this.setPluginState({authenticated:t}),t&&this.view.getFolder("recent")},e.prototype.isFolder=function(){return!1},e.prototype.getItemData=function(t){return t},e.prototype.getItemIcon=function(t){return Xn("img",{src:t.images.thumbnail.url})},e.prototype.getItemSubList=function(t){var e=[];return t.data.forEach((function(t){t.carousel_media?t.carousel_media.forEach((function(i,n){var r=t.id,o=t.created_time,s=Hn({},i,{id:r,created_time:o});s.carousel_id=n,e.push(s)})):e.push(t)})),e},e.prototype.getItemName=function(t){if(t&&t.created_time){var e=new Date(1e3*t.created_time);return"Instagram "+(e=e.toLocaleDateString([],{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}))+" "+(t.carousel_id||"")}return""},e.prototype.getMimeType=function(t){return"video"===t.type?"video/mp4":"image/jpeg"},e.prototype.getItemId=function(t){return""+t.id+(t.carousel_id||"")},e.prototype.getItemRequestPath=function(t){var e=isNaN(t.carousel_id)?"":"?carousel_id="+t.carousel_id;return""+t.id+e},e.prototype.getItemModifiedDate=function(t){return t.created_time},e.prototype.getItemThumbnailUrl=function(t){return t.images.thumbnail.url},e.prototype.getNextPagePath=function(){var t=this.getPluginState().files;return"recent?max_id="+this.getItemId(t[t.length-1])},e.prototype.render=function(t){return this.view.render(t)},e}(vt),Yn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Vn=Z.h,Kn=function(t){function e(i,n){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,n));return r.id=r.opts.id||"ProgressBar",r.title="Progress Bar",r.type="progressindicator",r.opts=Yn({},{target:"body",replaceTargetContent:!1,fixed:!1,hideAfterFinish:!0},n),r.render=r.render.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.render=function(t){var e=t.totalProgress||0,i=100===e&&this.opts.hideAfterFinish;return Vn("div",{class:"uppy uppy-ProgressBar",style:{position:this.opts.fixed?"fixed":"initial"},"aria-hidden":i},Vn("div",{class:"uppy-ProgressBar-inner",style:{width:e+"%"}}),Vn("div",{class:"uppy-ProgressBar-percentage"},e))},e.prototype.install=function(){var t=this.opts.target;t&&this.mount(t,this)},e.prototype.uninstall=function(){this.unmount()},e}(vt),Qn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Jn=function(t){function e(i,n){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,n));return r.type="debugger",r.id="ReduxDevTools",r.title="Redux DevTools",r.opts=Qn({},{},n),r.handleStateChange=r.handleStateChange.bind(r),r.initDevTools=r.initDevTools.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.handleStateChange=function(t,e){this.devTools.send("UPPY_STATE_UPDATE",e)},e.prototype.initDevTools=function(){var t=this;this.devTools=window.devToolsExtension.connect(),this.devToolsUnsubscribe=this.devTools.subscribe((function(e){if("DISPATCH"===e.type)switch(console.log(e.payload.type),e.payload.type){case"RESET":return void t.uppy.reset();case"IMPORT_STATE":var i=e.payload.nextLiftedState.computedStates;return t.uppy.state=Qn({},t.uppy.state,i[i.length-1].state),void t.uppy.updateAll(t.uppy.state);case"JUMP_TO_STATE":case"JUMP_TO_ACTION":t.uppy.store.state=Qn({},t.uppy.state,JSON.parse(e.state)),t.uppy.updateAll(t.uppy.state)}}))},e.prototype.install=function(){this.withDevTools="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__,this.withDevTools&&(this.initDevTools(),this.uppy.on("state-update",this.handleStateChange))},e.prototype.uninstall=function(){this.withDevTools&&(this.devToolsUnsubscribe(),this.uppy.off("state-update",this.handleStateUpdate))},e}(vt),Zn="undefined"==typeof Promise?lt.Promise:Promise,tr=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.opts=e}return t.prototype.createAssembly=function(t){t.templateId;var e=t.params,i=t.fields,n=t.signature,r=t.expectedFiles,o=new FormData;return o.append("params","string"==typeof e?e:JSON.stringify(e)),n&&o.append("signature",n),Object.keys(i).forEach((function(t){o.append(t,i[t])})),o.append("num_expected_upload_files",r),fetch(this.opts.service+"/assemblies",{method:"post",body:o}).then((function(t){return t.json()})).then((function(t){if(t.error){var e=new Error(t.message);throw e.code=t.error,e.status=t,e}return t}))},t.prototype.reserveFile=function(t,e){var i=encodeURIComponent(e.size);return fetch(t.assembly_ssl_url+"/reserve_file?size="+i,{method:"post"}).then((function(t){return t.json()}))},t.prototype.addFile=function(t,e){if(!e.uploadURL)return Zn.reject(new Error("File does not have an `uploadURL`."));var i=encodeURIComponent(e.size),n=encodeURIComponent(e.uploadURL),r="size="+i+"&filename="+encodeURIComponent(e.name)+"&fieldname=file&s3Url="+n;return fetch(t.assembly_ssl_url+"/add_file?"+r,{method:"post"}).then((function(t){return t.json()}))},t.prototype.getAssemblyStatus=function(t){return fetch(t).then((function(t){return t.json()}))},t}(),er=1e3,ir=6e4,nr=864e5,rr=function(t,e){e=e||{};var i,n=typeof t;if("string"===n&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var i=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"days":case"day":case"d":return i*nr;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*i;case"minutes":case"minute":case"mins":case"min":case"m":return i*ir;case"seconds":case"second":case"secs":case"sec":case"s":return i*er;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}(t);if("number"===n&&!1===isNaN(t))return e.long?S(i=t,nr,"day")||S(i,36e5,"hour")||S(i,ir,"minute")||S(i,er,"second")||i+" ms":function(t){return t>=nr?Math.round(t/nr)+"d":t>=36e5?Math.round(t/36e5)+"h":t>=ir?Math.round(t/ir)+"m":t>=er?Math.round(t/er)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))},or={};(or=or=T.debug=T.default=T).coerce=function(t){return t instanceof Error?t.stack||t.message:t},or.disable=function(){or.enable("")},or.enable=function(t){or.save(t),or.names=[],or.skips=[];for(var e=("string"==typeof t?t:"").split(/[\s,]+/),i=e.length,n=0;n<i;n++)e[n]&&("-"===(t=e[n].replace(/\*/g,".*?"))[0]?or.skips.push(new RegExp("^"+t.substr(1)+"$")):or.names.push(new RegExp("^"+t+"$")))},or.enabled=function(t){var e,i;for(e=0,i=or.skips.length;e<i;e++)if(or.skips[e].test(t))return!1;for(e=0,i=or.names.length;e<i;e++)if(or.names[e].test(t))return!0;return!1},or.humanize=rr,or.names=[],or.skips=[],or.formatters={};var sr={};(function(t){function e(){var e;try{e=sr.storage.debug}catch(t){}return!e&&void 0!==t&&"env"in t&&(e=t.env.DEBUG),e}(sr=sr=or).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},sr.formatArgs=function(t){var e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+sr.humanize(this.diff),e){var i="color: "+this.color;t.splice(1,0,i,"color: inherit");var n=0,r=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&"%c"===t&&(r=++n)})),t.splice(r,0,i)}},sr.save=function(t){try{null==t?sr.storage.removeItem("debug"):sr.storage.debug=t}catch(t){}},sr.load=e,sr.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},sr.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),sr.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],sr.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},sr.enable(e())}).call(this,tt);var ar={};ar=A,A.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),i=Math.floor(e*this.jitter*t);t=1&Math.floor(10*e)?t+i:t-i}return 0|Math.min(t,this.max)},A.prototype.reset=function(){this.attempts=0},A.prototype.setMin=function(t){this.ms=t},A.prototype.setMax=function(t){this.max=t},A.prototype.setJitter=function(t){this.jitter=t};var lr=[].slice,cr=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var i=lr.call(arguments,2);return function(){return e.apply(t,i.concat(lr.call(arguments)))}},ur={exports:{}};ur.exports=E,E.prototype.on=E.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},E.prototype.once=function(t,e){function i(){this.off(t,i),e.apply(this,arguments)}return i.fn=e,this.on(t,i),this},E.prototype.off=E.prototype.removeListener=E.prototype.removeAllListeners=E.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i,n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r=0;r<n.length;r++)if((i=n[r])===e||i.fn===e){n.splice(r,1);break}return this},E.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks["$"+t];if(i)for(var n=0,r=(i=i.slice(0)).length;n<r;++n)i[n].apply(this,e);return this},E.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},E.prototype.hasListeners=function(t){return!!this.listeners(t).length},ur=ur.exports;var hr=function(t,e,i){function n(t,o){if(n.count<=0)throw new Error("after called too many times");--n.count,t?(r=!0,e(t),e=i):0!==n.count||r||e(null,o)}var r=!1;return i=i||P,n.count=t,0===t?e():n},dr=function(t,e,i){var n=t.byteLength;if(e=e||0,i=i||n,t.slice)return t.slice(e,i);if(e<0&&(e+=n),i<0&&(i+=n),i>n&&(i=n),e>=n||e>=i||0===n)return new ArrayBuffer(0);for(var r=new Uint8Array(t),o=new Uint8Array(i-e),s=e,a=0;s<i;s++,a++)o[a]=r[s];return o.buffer},pr={};!function(){"use strict";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=new Uint8Array(256),i=0;i<t.length;i++)e[t.charCodeAt(i)]=i;pr.encode=function(e){var i,n=new Uint8Array(e),r=n.length,o="";for(i=0;i<r;i+=3)o+=t[n[i]>>2],o+=t[(3&n[i])<<4|n[i+1]>>4],o+=t[(15&n[i+1])<<2|n[i+2]>>6],o+=t[63&n[i+2]];return r%3==2?o=o.substring(0,o.length-1)+"=":r%3==1&&(o=o.substring(0,o.length-2)+"=="),o},pr.decode=function(t){var i,n,r,o,s,a=.75*t.length,l=t.length,c=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var u=new ArrayBuffer(a),h=new Uint8Array(u);for(i=0;i<l;i+=4)n=e[t.charCodeAt(i)],r=e[t.charCodeAt(i+1)],o=e[t.charCodeAt(i+2)],s=e[t.charCodeAt(i+3)],h[c++]=n<<2|r>>4,h[c++]=(15&r)<<4|o>>2,h[c++]=(3&o)<<6|63&s;return u}}();var fr={};(function(t){function e(t){for(var e=0;e<t.length;e++){var i=t[e];if(i.buffer instanceof ArrayBuffer){var n=i.buffer;if(i.byteLength!==n.byteLength){var r=new Uint8Array(i.byteLength);r.set(new Uint8Array(n,i.byteOffset,i.byteLength)),n=r.buffer}t[e]=n}}}var i=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,n=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),r=n&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),o=i&&i.prototype.append&&i.prototype.getBlob;fr=n?r?t.Blob:function(t,i){return e(t),new Blob(t,i||{})}:o?function(t,n){n=n||{};var r=new i;e(t);for(var o=0;o<t.length;o++)r.append(t[o]);return n.type?r.getBlob(n.type):r.getBlob()}:void 0}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var mr=Object.keys||function(t){var e=[],i=Object.prototype.hasOwnProperty;for(var n in t)i.call(t,n)&&e.push(n);return e},gr={
exports:{}};(function(t){!function(e){function i(t){for(var e,i,n=[],r=0,o=t.length;r<o;)(e=t.charCodeAt(r++))>=55296&&e<=56319&&r<o?56320==(64512&(i=t.charCodeAt(r++)))?n.push(((1023&e)<<10)+(1023&i)+65536):(n.push(e),r--):n.push(e);return n}function n(t,e){if(t>=55296&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function r(t,e){return f(t>>e&63|128)}function o(t,e){if(!(4294967168&t))return f(t);var i="";return 4294965248&t?4294901760&t?!(4292870144&t)&&(i=f(t>>18&7|240),i+=r(t,12),i+=r(t,6)):(n(t,e)||(t=65533),i=f(t>>12&15|224),i+=r(t,6)):i=f(t>>6&31|192),i+f(63&t|128)}function s(){if(p>=d)throw Error("Invalid byte index");var t=255&h[p];if(p++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function a(t){var e,i;if(p>d)throw Error("Invalid byte index");if(p==d)return!1;if(e=255&h[p],p++,!(128&e))return e;if(192==(224&e)){if((i=(31&e)<<6|s())>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&e)){if((i=(15&e)<<12|s()<<6|s())>=2048)return n(i,t)?i:65533;throw Error("Invalid continuation byte")}if(240==(248&e)&&(i=(7&e)<<18|s()<<12|s()<<6|s())>=65536&&i<=1114111)return i;throw Error("Invalid UTF-8 detected")}var l="object"==typeof gr.exports&&gr.exports,c=gr&&gr.exports==l&&gr,u="object"==typeof t&&t;u.global!==u&&u.window!==u||(e=u);var h,d,p,f=String.fromCharCode,m={version:"2.1.2",encode:function(t,e){for(var n=!1!==(e=e||{}).strict,r=i(t),s=r.length,a=-1,l="";++a<s;)l+=o(r[a],n);return l},decode:function(t,e){var n=!1!==(e=e||{}).strict;h=i(t),d=h.length,p=0;for(var r,o=[];!1!==(r=a(n));)o.push(r);return function(t){for(var e,i=t.length,n=-1,r="";++n<i;)(e=t[n])>65535&&(r+=f((e-=65536)>>>10&1023|55296),e=56320|1023&e),r+=f(e);return r}(o)}};if(l&&!l.nodeType)if(c)c.exports=m;else{var g={}.hasOwnProperty;for(var v in m)g.call(m,v)&&(l[v]=m[v])}else e.utf8=m}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),gr=gr.exports;var vr={}.toString,yr=Array.isArray||function(t){return"[object Array]"==vr.call(t)},br={};(function(t){var e=Object.prototype.toString,i="function"==typeof t.Blob||"[object BlobConstructor]"===e.call(t.Blob),n="function"==typeof t.File||"[object FileConstructor]"===e.call(t.File);br=function e(r){if(!r||"object"!=typeof r)return!1;if(yr(r)){for(var o=0,s=r.length;o<s;o++)if(e(r[o]))return!0;return!1}if("function"==typeof t.Buffer&&t.Buffer.isBuffer&&t.Buffer.isBuffer(r)||"function"==typeof t.ArrayBuffer&&r instanceof ArrayBuffer||i&&r instanceof Blob||n&&r instanceof File)return!0;if(r.toJSON&&"function"==typeof r.toJSON&&1===arguments.length)return e(r.toJSON(),!0);for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)&&e(r[a]))return!0;return!1}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var wr={};(function(t){function e(t,e,i){for(var n=new Array(t.length),r=hr(t.length,i),o=function(t,i,r){e(i,(function(e,i){n[t]=i,r(e,n)}))},s=0;s<t.length;s++)o(s,t[s],r)}var i;t&&t.ArrayBuffer&&(i=pr);var n="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),r="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),o=n||r;wr.protocol=3;var s=wr.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},a=mr(s),l={type:"error",data:"parser error"};wr.encodePacket=function(e,i,n,r){"function"==typeof i&&(r=i,i=!1),"function"==typeof n&&(r=n,n=null);var a=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&a instanceof ArrayBuffer)return function(t,e,i){if(!e)return wr.encodeBase64Packet(t,i);var n=t.data,r=new Uint8Array(n),o=new Uint8Array(1+n.byteLength);o[0]=s[t.type];for(var a=0;a<r.length;a++)o[a+1]=r[a];return i(o.buffer)}(e,i,r);if(fr&&a instanceof t.Blob)return function(t,e,i){if(!e)return wr.encodeBase64Packet(t,i);if(o)return function(t,e,i){if(!e)return wr.encodeBase64Packet(t,i);var n=new FileReader;return n.onload=function(){t.data=n.result,wr.encodePacket(t,e,!0,i)},n.readAsArrayBuffer(t.data)}(t,e,i);var n=new Uint8Array(1);return n[0]=s[t.type],i(new fr([n.buffer,t.data]))}(e,i,r);if(a&&a.base64)return function(t,e){return e("b"+wr.packets[t.type]+t.data.data)}(e,r);var l=s[e.type];return void 0!==e.data&&(l+=n?gr.encode(String(e.data),{strict:!1}):String(e.data)),r(""+l)},wr.encodeBase64Packet=function(e,i){var n,r="b"+wr.packets[e.type];if(fr&&e.data instanceof t.Blob){var o=new FileReader;return o.onload=function(){var t=o.result.split(",")[1];i(r+t)},o.readAsDataURL(e.data)}try{n=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(t){for(var s=new Uint8Array(e.data),a=new Array(s.length),l=0;l<s.length;l++)a[l]=s[l];n=String.fromCharCode.apply(null,a)}return r+=t.btoa(n),i(r)},wr.decodePacket=function(t,e,i){if(void 0===t)return l;if("string"==typeof t){if("b"===t.charAt(0))return wr.decodeBase64Packet(t.substr(1),e);if(i&&!1===(t=function(t){try{t=gr.decode(t,{strict:!1})}catch(t){return!1}return t}(t)))return l;var n=t.charAt(0);return Number(n)==n&&a[n]?t.length>1?{type:a[n],data:t.substring(1)}:{type:a[n]}:l}n=new Uint8Array(t)[0];var r=dr(t,1);return fr&&"blob"===e&&(r=new fr([r])),{type:a[n],data:r}},wr.decodeBase64Packet=function(t,e){var n=a[t.charAt(0)];if(!i)return{type:n,data:{base64:!0,data:t.substr(1)}};var r=i.decode(t.substr(1));return"blob"===e&&fr&&(r=new fr([r])),{type:n,data:r}},wr.encodePayload=function(t,i,n){"function"==typeof i&&(n=i,i=null);var r=br(t);return i&&r?fr&&!o?wr.encodePayloadAsBlob(t,n):wr.encodePayloadAsArrayBuffer(t,n):t.length?void e(t,(function(t,e){wr.encodePacket(t,!!r&&i,!1,(function(t){e(null,function(t){return t.length+":"+t}(t))}))}),(function(t,e){return n(e.join(""))})):n("0:")},wr.decodePayload=function(t,e,i){if("string"!=typeof t)return wr.decodePayloadAsBinary(t,e,i);var n;if("function"==typeof e&&(i=e,e=null),""===t)return i(l,0,1);for(var r,o,s="",a=0,c=t.length;a<c;a++){var u=t.charAt(a);if(":"===u){if(""===s||s!=(r=Number(s)))return i(l,0,1);if(s!=(o=t.substr(a+1,r)).length)return i(l,0,1);if(o.length){if(n=wr.decodePacket(o,e,!1),l.type===n.type&&l.data===n.data)return i(l,0,1);if(!1===i(n,a+r,c))return}a+=r,s=""}else s+=u}return""!==s?i(l,0,1):void 0},wr.encodePayloadAsArrayBuffer=function(t,i){if(!t.length)return i(new ArrayBuffer(0));e(t,(function(t,e){wr.encodePacket(t,!0,!0,(function(t){return e(null,t)}))}),(function(t,e){var n=e.reduce((function(t,e){var i;return t+(i="string"==typeof e?e.length:e.byteLength).toString().length+i+2}),0),r=new Uint8Array(n),o=0;return e.forEach((function(t){var e="string"==typeof t,i=t;if(e){for(var n=new Uint8Array(t.length),s=0;s<t.length;s++)n[s]=t.charCodeAt(s);i=n.buffer}r[o++]=e?0:1;var a=i.byteLength.toString();for(s=0;s<a.length;s++)r[o++]=parseInt(a[s]);for(r[o++]=255,n=new Uint8Array(i),s=0;s<n.length;s++)r[o++]=n[s]})),i(r.buffer)}))},wr.encodePayloadAsBlob=function(t,i){e(t,(function(t,e){wr.encodePacket(t,!0,!0,(function(t){var i=new Uint8Array(1);if(i[0]=1,"string"==typeof t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);t=n.buffer,i[0]=0}var o=(t instanceof ArrayBuffer?t.byteLength:t.size).toString(),s=new Uint8Array(o.length+1);for(r=0;r<o.length;r++)s[r]=parseInt(o[r]);if(s[o.length]=255,fr){var a=new fr([i.buffer,s.buffer,t]);e(null,a)}}))}),(function(t,e){return i(new fr(e))}))},wr.decodePayloadAsBinary=function(t,e,i){"function"==typeof e&&(i=e,e=null);for(var n=t,r=[];n.byteLength>0;){for(var o=new Uint8Array(n),s=0===o[0],a="",c=1;255!==o[c];c++){if(a.length>310)return i(l,0,1);a+=o[c]}n=dr(n,2+a.length),a=parseInt(a);var u=dr(n,0,a);if(s)try{u=String.fromCharCode.apply(null,new Uint8Array(u))}catch(t){var h=new Uint8Array(u);for(u="",c=0;c<h.length;c++)u+=String.fromCharCode(h[c])}r.push(u),n=dr(n,a)}var d=r.length;r.forEach((function(t,n){i(wr.decodePacket(t,e,!0),n,d)}))}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var xr={};xr=M,ur(M.prototype),M.prototype.onError=function(t,e){var i=new Error(t);return i.type="TransportError",i.description=e,this.emit("error",i),this},M.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},M.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},M.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},M.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},M.prototype.onData=function(t){var e=wr.decodePacket(t,this.socket.binaryType);this.onPacket(e)},M.prototype.onPacket=function(t){this.emit("packet",t)},M.prototype.onClose=function(){this.readyState="closed",this.emit("close")};var _r=function(t,e){var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t},kr={};try{kr="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(Z){kr=!1}var Cr={};(function(t){Cr=function(e){var i=e.xdomain,n=e.xscheme,r=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!i||kr))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!n&&r)return new XDomainRequest}catch(t){}if(!i)try{return new(t[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Sr={};(Sr=Sr=L.debug=L.default=L).coerce=function(t){return t instanceof Error?t.stack||t.message:t},Sr.disable=function(){Sr.enable("")},Sr.enable=function(t){var e;Sr.save(t),Sr.names=[],Sr.skips=[];var i=("string"==typeof t?t:"").split(/[\s,]+/),n=i.length;for(e=0;e<n;e++)i[e]&&("-"===(t=i[e].replace(/\*/g,".*?"))[0]?Sr.skips.push(new RegExp("^"+t.substr(1)+"$")):Sr.names.push(new RegExp("^"+t+"$")));for(e=0;e<Sr.instances.length;e++){var r=Sr.instances[e];r.enabled=Sr.enabled(r.namespace)}},Sr.enabled=function(t){if("*"===t[t.length-1])return!0;var e,i;for(e=0,i=Sr.skips.length;e<i;e++)if(Sr.skips[e].test(t))return!1;for(e=0,i=Sr.names.length;e<i;e++)if(Sr.names[e].test(t))return!0;return!1},Sr.humanize=rr,Sr.instances=[],Sr.names=[],Sr.skips=[],Sr.formatters={};var Tr={};(function(t){function e(){var e;try{e=Tr.storage.debug}catch(t){}return!e&&void 0!==t&&"env"in t&&(e=t.env.DEBUG),e}(Tr=Tr=Sr).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},Tr.formatArgs=function(t){var e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+Tr.humanize(this.diff),e){var i="color: "+this.color;t.splice(1,0,i,"color: inherit");var n=0,r=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&"%c"===t&&(r=++n)})),t.splice(r,0,i)}},Tr.save=function(t){try{null==t?Tr.storage.removeItem("debug"):Tr.storage.debug=t}catch(t){}},Tr.load=e,Tr.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},Tr.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),Tr.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],Tr.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},Tr.enable(e())}).call(this,tt);for(var Ar,Er={encode:function(t){var e="";for(var i in t)t.hasOwnProperty(i)&&(e.length&&(e+="&"),e+=encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return e},decode:function(t){for(var e={},i=t.split("&"),n=0,r=i.length;n<r;n++){var o=i[n].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}},Pr={},Mr="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Lr=64,Or={},Dr=0,Ir=0;Ir<Lr;Ir++)Or[Mr[Ir]]=Ir;I.encode=D,I.decode=function(t){var e=0;for(Ir=0;Ir<t.length;Ir++)e=e*Lr+Or[t.charAt(Ir)];return e},Pr=I;var $r=Tr("engine.io-client:polling"),Nr=$,zr=null!=new Cr({xdomain:!1}).responseType;_r($,xr),$.prototype.name="polling",$.prototype.doOpen=function(){this.poll()},$.prototype.pause=function(t){function e(){$r("paused"),i.readyState="paused",t()}var i=this;if(this.readyState="pausing",this.polling||!this.writable){var n=0;this.polling&&($r("we are currently polling - waiting to pause"),n++,this.once("pollComplete",(function(){$r("pre-pause polling complete"),--n||e()}))),this.writable||($r("we are currently writing - waiting to pause"),n++,this.once("drain",(function(){$r("pre-pause writing complete"),--n||e()})))}else e()},$.prototype.poll=function(){$r("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},$.prototype.onData=function(t){var e=this;$r("polling got data %s",t),wr.decodePayload(t,this.socket.binaryType,(function(t){if("opening"===e.readyState&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():$r('ignoring poll - transport state "%s"',this.readyState))},$.prototype.doClose=function(){function t(){$r("writing close packet"),e.write([{type:"close"}])}var e=this;"open"===this.readyState?($r("transport open - closing"),t()):($r("transport not open - deferring close"),this.once("open",t))},$.prototype.write=function(t){var e=this;this.writable=!1;var i=function(){e.writable=!0,e.emit("drain")};wr.encodePayload(t,this.supportsBinary,(function(t){e.doWrite(t,i)}))},$.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",i="";return!1!==this.timestampRequests&&(t[this.timestampParam]=Pr()),this.supportsBinary||t.sid||(t.b64=1),t=Er.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(i=":"+this.port),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+i+this.path+t};var jr={};(function(t){function e(){}function i(i){Nr.call(this,i),this.query=this.query||{},n||(t.___eio||(t.___eio=[]),n=t.___eio),this.index=n.length;var r=this;n.push((function(t){r.onData(t)})),this.query.j=this.index,t.document&&t.addEventListener&&t.addEventListener("beforeunload",(function(){r.script&&(r.script.onerror=e)}),!1)}jr=i;var n,r=/\n/g,o=/\\n/g;_r(i,Nr),i.prototype.supportsBinary=!1,i.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),Nr.prototype.doClose.call(this)},i.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var i=document.getElementsByTagName("script")[0];i?i.parentNode.insertBefore(e,i):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)}),100)},i.prototype.doWrite=function(t,e){function i(){n(),e()}function n(){if(s.iframe)try{s.form.removeChild(s.iframe)}catch(t){s.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+s.iframeId+'">';a=document.createElement(t)}catch(t){(a=document.createElement("iframe")).name=s.iframeId,a.src="javascript:0"}a.id=s.iframeId,s.form.appendChild(a),s.iframe=a}var s=this;if(!this.form){var a,l=document.createElement("form"),c=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index;l.className="socketio",l.style.position="absolute",l.style.top="-1000px",l.style.left="-1000px",l.target=u,l.method="POST",l.setAttribute("accept-charset","utf-8"),c.name="d",l.appendChild(c),document.body.appendChild(l),this.form=l,this.area=c}this.form.action=this.uri(),n(),t=t.replace(o,"\\\n"),this.area.value=t.replace(r,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===s.iframe.readyState&&i()}:this.iframe.onload=i}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Fr={};(function(t){function e(){}function i(e){if(Nr.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,t.location){var i="https:"===location.protocol,n=location.port;n||(n=i?443:80),this.xd=e.hostname!==t.location.hostname||n!==e.port,this.xs=e.secure!==i}}function n(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function r(){for(var t in n.requests)n.requests.hasOwnProperty(t)&&n.requests[t].abort()}var o=Tr("engine.io-client:polling-xhr");(Fr=i).Request=n,_r(i,Nr),i.prototype.supportsBinary=!0,i.prototype.request=function(t){return(t=t||{}).uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new n(t)},i.prototype.doWrite=function(t,e){var i="string"!=typeof t&&void 0!==t,n=this.request({method:"POST",data:t,isBinary:i}),r=this;n.on("success",e),n.on("error",(function(t){r.onError("xhr post error",t)})),this.sendXhr=n},i.prototype.doPoll=function(){o("xhr poll");var t=this.request(),e=this;t.on("data",(function(t){e.onData(t)})),t.on("error",(function(t){e.onError("xhr poll error",t)})),this.pollXhr=t},ur(n.prototype),n.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var i=this.xhr=new Cr(e),r=this;try{o("xhr open %s: %s",this.method,this.uri),i.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var s in i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(s)&&i.setRequestHeader(s,this.extraHeaders[s])}catch(t){}if("POST"===this.method)try{this.isBinary?i.setRequestHeader("Content-type","application/octet-stream"):i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{i.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in i&&(i.withCredentials=!0),this.requestTimeout&&(i.timeout=this.requestTimeout),this.hasXDR()?(i.onload=function(){r.onLoad()},i.onerror=function(){r.onError(i.responseText)}):i.onreadystatechange=function(){if(2===i.readyState)try{var t=i.getResponseHeader("Content-Type");r.supportsBinary&&"application/octet-stream"===t&&(i.responseType="arraybuffer")}catch(t){}4===i.readyState&&(200===i.status||1223===i.status?r.onLoad():setTimeout((function(){r.onError(i.status)}),0))},o("xhr data %s",this.data),i.send(this.data)}catch(t){return void setTimeout((function(){r.onError(t)}),0)}t.document&&(this.index=n.requestsCount++,n.requests[this.index]=this)},n.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},n.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},n.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},n.prototype.cleanup=function(i){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=e:this.xhr.onreadystatechange=e,i)try{this.xhr.abort()}catch(t){}t.document&&delete n.requests[this.index],this.xhr=null}},n.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch(t){}t="application/octet-stream"===e&&this.xhr.response||this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},n.prototype.hasXDR=function(){return void 0!==t.XDomainRequest&&!this.xs&&this.enablesXDR},n.prototype.abort=function(){this.cleanup()},n.requestsCount=0,n.requests={},t.document&&(t.attachEvent?t.attachEvent("onunload",r):t.addEventListener&&t.addEventListener("beforeunload",r,!1))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var qr={},Rr={};(function(t){function e(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=r&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(o=i),xr.call(this,t)}var i,n=Tr("engine.io-client:websocket"),r=t.WebSocket||t.MozWebSocket;if("undefined"==typeof window)try{i=qr}catch(t){}var o=r;o||"undefined"!=typeof window||(o=i),Rr=e,_r(e,xr),e.prototype.name="websocket",e.prototype.supportsBinary=!0,e.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,i={agent:this.agent,perMessageDeflate:this.perMessageDeflate};i.pfx=this.pfx,i.key=this.key,i.passphrase=this.passphrase,i.cert=this.cert,i.ca=this.ca,i.ciphers=this.ciphers,i.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(i.headers=this.extraHeaders),this.localAddress&&(i.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?e?new o(t,e):new o(t):new o(t,e,i)}catch(t){return this.emit("error",t)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},e.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},e.prototype.write=function(e){var i=this;this.writable=!1;for(var r=e.length,o=0,s=r;o<s;o++)!function(e){wr.encodePacket(e,i.supportsBinary,(function(o){if(!i.usingBrowserWebSocket){var s={};e.options&&(s.compress=e.options.compress),i.perMessageDeflate&&("string"==typeof o?t.Buffer.byteLength(o):o.length)<i.perMessageDeflate.threshold&&(s.compress=!1)}try{i.usingBrowserWebSocket?i.ws.send(o):i.ws.send(o,s)}catch(t){n("websocket closed before onclose event")}--r||(i.emit("flush"),setTimeout((function(){i.writable=!0,i.emit("drain")}),0))}))}(e[o])},e.prototype.onClose=function(){xr.prototype.onClose.call(this)},e.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},e.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",i="";return this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(i=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=Pr()),this.supportsBinary||(t.b64=1),(t=Er.encode(t)).length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+i+this.path+t},e.prototype.check=function(){return!(!o||"__initialize"in o&&this.name===e.prototype.name)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Br={};(function(t){Br.polling=function(e){var i=!1,n=!1,r=!1!==e.jsonp;if(t.location){var o="https:"===location.protocol,s=location.port;s||(s=o?443:80),i=e.hostname!==location.hostname||s!==e.port,n=e.secure!==o}if(e.xdomain=i,e.xscheme=n,"open"in new Cr(e)&&!e.forceJSONP)return new Fr(e);if(!r)throw new Error("JSONP disabled");return new jr(e)},Br.websocket=Rr}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Hr=[].indexOf,Ur=function(t,e){if(Hr)return t.indexOf(e);for(var i=0;i<t.length;++i)if(t[i]===e)return i;return-1},Wr=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Xr=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Gr=function(t){var e=t,i=t.indexOf("["),n=t.indexOf("]");-1!=i&&-1!=n&&(t=t.substring(0,i)+t.substring(i,n).replace(/:/g,";")+t.substring(n,t.length));for(var r=Wr.exec(t||""),o={},s=14;s--;)o[Xr[s]]=r[s]||"";return-1!=i&&-1!=n&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o},Yr={};(function(t){function e(i,n){if(!(this instanceof e))return new e(i,n);n=n||{},i&&"object"==typeof i&&(n=i,i=null),i?(i=Gr(i),n.hostname=i.host,n.secure="https"===i.protocol||"wss"===i.protocol,n.port=i.port,i.query&&(n.query=i.query)):n.host&&(n.hostname=Gr(n.host).host),this.secure=null!=n.secure?n.secure:t.location&&"https:"===location.protocol,n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.agent=n.agent||!1,this.hostname=n.hostname||(t.location?location.hostname:"localhost"),this.port=n.port||(t.location&&location.port?location.port:this.secure?443:80),this.query=n.query||{},"string"==typeof this.query&&(this.query=Er.decode(this.query)),this.upgrade=!1!==n.upgrade,this.path=(n.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!n.forceJSONP,this.jsonp=!1!==n.jsonp,this.forceBase64=!!n.forceBase64,this.enablesXDR=!!n.enablesXDR,this.timestampParam=n.timestampParam||"t",this.timestampRequests=n.timestampRequests,this.transports=n.transports||["polling","websocket"],this.transportOptions=n.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=n.policyPort||843,this.rememberUpgrade=n.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=n.onlyBinaryUpgrades,this.perMessageDeflate=!1!==n.perMessageDeflate&&(n.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=n.pfx||null,this.key=n.key||null,this.passphrase=n.passphrase||null,this.cert=n.cert||null,this.ca=n.ca||null,this.ciphers=n.ciphers||null,this.rejectUnauthorized=void 0===n.rejectUnauthorized||n.rejectUnauthorized,this.forceNode=!!n.forceNode;var r="object"==typeof t&&t;r.global===r&&(n.extraHeaders&&Object.keys(n.extraHeaders).length>0&&(this.extraHeaders=n.extraHeaders),n.localAddress&&(this.localAddress=n.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}var i=Tr("engine.io-client:socket");Yr=e,e.priorWebsocketSuccess=!1,ur(e.prototype),e.protocol=wr.protocol,e.Socket=e,e.Transport=xr,e.transports=Br,e.parser=wr,e.prototype.createTransport=function(t){i('creating transport "%s"',t);var e=function(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}(this.query);e.EIO=wr.protocol,e.transport=t;var n=this.transportOptions[t]||{};return this.id&&(e.sid=this.id),new Br[t]({query:e,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0})},e.prototype.open=function(){var t;if(this.rememberUpgrade&&e.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var i=this;return void setTimeout((function(){i.emit("error","No transports available")}),0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},e.prototype.setTransport=function(t){i("setting transport %s",t.name);var e=this;this.transport&&(i("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",(function(){e.onDrain()})).on("packet",(function(t){e.onPacket(t)})).on("error",(function(t){e.onError(t)})).on("close",(function(){e.onClose("transport close")}))},e.prototype.probe=function(t){function n(){if(d.onlyBinaryUpgrades){var n=!this.supportsBinary&&d.transport.supportsBinary;h=h||n}h||(i('probe transport "%s" opened',t),u.send([{type:"ping",data:"probe"}]),u.once("packet",(function(n){if(!h)if("pong"===n.type&&"probe"===n.data){if(i('probe transport "%s" pong',t),d.upgrading=!0,d.emit("upgrading",u),!u)return;e.priorWebsocketSuccess="websocket"===u.name,i('pausing current transport "%s"',d.transport.name),d.transport.pause((function(){h||"closed"!==d.readyState&&(i("changing transport and sending upgrade packet"),c(),d.setTransport(u),u.send([{type:"upgrade"}]),d.emit("upgrade",u),u=null,d.upgrading=!1,d.flush())}))}else{i('probe transport "%s" failed',t);var r=new Error("probe error");r.transport=u.name,d.emit("upgradeError",r)}})))}function r(){h||(h=!0,c(),u.close(),u=null)}function o(e){var n=new Error("probe error: "+e);n.transport=u.name,r(),i('probe transport "%s" failed because of error: %s',t,e),d.emit("upgradeError",n)}function s(){o("transport closed")}function a(){o("socket closed")}function l(t){u&&t.name!==u.name&&(i('"%s" works - aborting "%s"',t.name,u.name),r())}function c(){u.removeListener("open",n),u.removeListener("error",o),u.removeListener("close",s),d.removeListener("close",a),d.removeListener("upgrading",l)}i('probing transport "%s"',t);var u=this.createTransport(t,{probe:1}),h=!1,d=this;e.priorWebsocketSuccess=!1,u.once("open",n),u.once("error",o),u.once("close",s),this.once("close",a),this.once("upgrading",l),u.open()},e.prototype.onOpen=function(){if(i("socket open"),this.readyState="open",e.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){i("starting upgrade probes");for(var t=0,n=this.upgrades.length;t<n;t++)this.probe(this.upgrades[t])}},e.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(i('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),
this.emit("message",t.data)}else i('packet received with socket readyState "%s"',this.readyState)},e.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},e.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout((function(){"closed"!==e.readyState&&e.onClose("ping timeout")}),t||e.pingInterval+e.pingTimeout)},e.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout((function(){i("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)}),t.pingInterval)},e.prototype.ping=function(){var t=this;this.sendPacket("ping",(function(){t.emit("ping")}))},e.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},e.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(i("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},e.prototype.write=e.prototype.send=function(t,e,i){return this.sendPacket("message",t,e,i),this},e.prototype.sendPacket=function(t,e,i,n){if("function"==typeof e&&(n=e,e=void 0),"function"==typeof i&&(n=i,i=null),"closing"!==this.readyState&&"closed"!==this.readyState){(i=i||{}).compress=!1!==i.compress;var r={type:t,data:e,options:i};this.emit("packetCreate",r),this.writeBuffer.push(r),n&&this.once("flush",n),this.flush()}},e.prototype.close=function(){function t(){r.onClose("forced close"),i("socket closing - telling transport to close"),r.transport.close()}function e(){r.removeListener("upgrade",e),r.removeListener("upgradeError",e),t()}function n(){r.once("upgrade",e),r.once("upgradeError",e)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var r=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?n():t()})):this.upgrading?n():t()}return this},e.prototype.onError=function(t){i("socket error %j",t),e.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},e.prototype.onClose=function(t,e){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(i('socket close with reason: "%s"',t),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)},e.prototype.filterUpgrades=function(t){for(var e=[],i=0,n=t.length;i<n;i++)~Ur(this.transports,t[i])&&e.push(t[i]);return e}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Vr={};(Vr=Yr).parser=wr;var Kr=function(t,e,i){return t.on(e,i),{destroy:function(){t.removeListener(e,i)}}},Qr={};(function(t){Qr=function(e){return t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&(e instanceof ArrayBuffer||ArrayBuffer.isView(e))}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Jr={};(function(t){var e=Object.prototype.toString,i="function"==typeof t.Blob||"[object BlobConstructor]"===e.call(t.Blob),n="function"==typeof t.File||"[object FileConstructor]"===e.call(t.File);Jr.deconstructPacket=function(t){var e=[],i=t.data,n=t;return n.data=function t(e,i){if(!e)return e;if(Qr(e)){var n={_placeholder:!0,num:i.length};return i.push(e),n}if(yr(e)){for(var r=new Array(e.length),o=0;o<e.length;o++)r[o]=t(e[o],i);return r}if("object"==typeof e&&!(e instanceof Date)){for(var s in r={},e)r[s]=t(e[s],i);return r}return e}(i,e),n.attachments=e.length,{packet:n,buffers:e}},Jr.reconstructPacket=function(t,e){return t.data=function t(e,i){if(!e)return e;if(e&&e._placeholder)return i[e.num];if(yr(e))for(var n=0;n<e.length;n++)e[n]=t(e[n],i);else if("object"==typeof e)for(var r in e)e[r]=t(e[r],i);return e}(t.data,e),t.attachments=void 0,t},Jr.removeBlobs=function(t,e){var r=0,o=t;!function t(s,a,l){if(!s)return s;if(i&&s instanceof Blob||n&&s instanceof File){r++;var c=new FileReader;c.onload=function(){l?l[a]=this.result:o=this.result,--r||e(o)},c.readAsArrayBuffer(s)}else if(yr(s))for(var u=0;u<s.length;u++)t(s[u],u,s);else if("object"==typeof s&&!Qr(s))for(var h in s)t(s[h],h,s)}(o),r||e(o)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Zr={};(Zr=Zr=N.debug=N.default=N).coerce=function(t){return t instanceof Error?t.stack||t.message:t},Zr.disable=function(){Zr.enable("")},Zr.enable=function(t){var e;Zr.save(t),Zr.names=[],Zr.skips=[];var i=("string"==typeof t?t:"").split(/[\s,]+/),n=i.length;for(e=0;e<n;e++)i[e]&&("-"===(t=i[e].replace(/\*/g,".*?"))[0]?Zr.skips.push(new RegExp("^"+t.substr(1)+"$")):Zr.names.push(new RegExp("^"+t+"$")));for(e=0;e<Zr.instances.length;e++){var r=Zr.instances[e];r.enabled=Zr.enabled(r.namespace)}},Zr.enabled=function(t){if("*"===t[t.length-1])return!0;var e,i;for(e=0,i=Zr.skips.length;e<i;e++)if(Zr.skips[e].test(t))return!1;for(e=0,i=Zr.names.length;e<i;e++)if(Zr.names[e].test(t))return!0;return!1},Zr.humanize=rr,Zr.instances=[],Zr.names=[],Zr.skips=[],Zr.formatters={};var to={};(function(t){function e(){var e;try{e=to.storage.debug}catch(t){}return!e&&void 0!==t&&"env"in t&&(e=t.env.DEBUG),e}(to=to=Zr).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},to.formatArgs=function(t){var e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+to.humanize(this.diff),e){var i="color: "+this.color;t.splice(1,0,i,"color: inherit");var n=0,r=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&"%c"===t&&(r=++n)})),t.splice(r,0,i)}},to.save=function(t){try{null==t?to.storage.removeItem("debug"):to.storage.debug=t}catch(t){}},to.load=e,to.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},to.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),to.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],to.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},to.enable(e())}).call(this,tt);var eo={},io=to("socket.io-parser");eo.protocol=4,eo.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],eo.CONNECT=0,eo.DISCONNECT=1,eo.EVENT=2,eo.ACK=3,eo.ERROR=4,eo.BINARY_EVENT=5,eo.BINARY_ACK=6,eo.Encoder=j,eo.Decoder=q,j.prototype.encode=function(t,e){t.type!==eo.EVENT&&t.type!==eo.ACK||!br(t.data)||(t.type=t.type===eo.EVENT?eo.BINARY_EVENT:eo.BINARY_ACK),io("encoding packet %j",t),eo.BINARY_EVENT===t.type||eo.BINARY_ACK===t.type?function(t,e){Jr.removeBlobs(t,(function(t){var i=Jr.deconstructPacket(t),n=F(i.packet),r=i.buffers;r.unshift(n),e(r)}))}(t,e):e([F(t)])},ur(q.prototype),q.prototype.add=function(t){var e;if("string"==typeof t)e=function(t){var e=0,i={type:Number(t.charAt(0))};if(null==eo.types[i.type])return B("unknown packet type "+i.type);if(eo.BINARY_EVENT===i.type||eo.BINARY_ACK===i.type){for(var n="";"-"!==t.charAt(++e)&&(n+=t.charAt(e),e!=t.length););if(n!=Number(n)||"-"!==t.charAt(e))throw new Error("Illegal attachments");i.attachments=Number(n)}if("/"===t.charAt(e+1))for(i.nsp="";++e&&","!==(o=t.charAt(e))&&(i.nsp+=o,e!==t.length););else i.nsp="/";var r=t.charAt(e+1);if(""!==r&&Number(r)==r){for(i.id="";++e;){var o;if(null==(o=t.charAt(e))||Number(o)!=o){--e;break}if(i.id+=t.charAt(e),e===t.length)break}i.id=Number(i.id)}if(t.charAt(++e)){var s=function(t){try{return JSON.parse(t)}catch(t){return!1}}(t.substr(e));if(!1===s||i.type!==eo.ERROR&&!yr(s))return B("invalid payload");i.data=s}return io("decoded %s as %j",t,i),i}(t),eo.BINARY_EVENT===e.type||eo.BINARY_ACK===e.type?(this.reconstructor=new R(e),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",e)):this.emit("decoded",e);else{if(!Qr(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(e=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",e))}},q.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},R.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=Jr.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},R.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]};var no=function(t,e){for(var i=[],n=(e=e||0)||0;n<t.length;n++)i[n-e]=t[n];return i},ro={},oo=sr("socket.io-client:socket");ro=ro=H;var so={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},ao=ur.prototype.emit;ur(H.prototype),H.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[Kr(t,"open",cr(this,"onopen")),Kr(t,"packet",cr(this,"onpacket")),Kr(t,"close",cr(this,"onclose"))]}},H.prototype.open=H.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},H.prototype.send=function(){var t=no(arguments);return t.unshift("message"),this.emit.apply(this,t),this},H.prototype.emit=function(t){if(so.hasOwnProperty(t))return ao.apply(this,arguments),this;var e=no(arguments),i={type:eo.EVENT,data:e,options:{}};return i.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(oo("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),i.id=this.ids++),this.connected?this.packet(i):this.sendBuffer.push(i),delete this.flags,this},H.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},H.prototype.onopen=function(){if(oo("transport is open - connecting"),"/"!==this.nsp)if(this.query){var t="object"==typeof this.query?Er.encode(this.query):this.query;oo("sending connect packet with query %s",t),this.packet({type:eo.CONNECT,query:t})}else this.packet({type:eo.CONNECT})},H.prototype.onclose=function(t){oo("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},H.prototype.onpacket=function(t){if(t.nsp===this.nsp)switch(t.type){case eo.CONNECT:this.onconnect();break;case eo.EVENT:case eo.BINARY_EVENT:this.onevent(t);break;case eo.ACK:case eo.BINARY_ACK:this.onack(t);break;case eo.DISCONNECT:this.ondisconnect();break;case eo.ERROR:this.emit("error",t.data)}},H.prototype.onevent=function(t){var e=t.data||[];oo("emitting event %j",e),null!=t.id&&(oo("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?ao.apply(this,e):this.receiveBuffer.push(e)},H.prototype.ack=function(t){var e=this,i=!1;return function(){if(!i){i=!0;var n=no(arguments);oo("sending ack %j",n),e.packet({type:eo.ACK,id:t,data:n})}}},H.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(oo("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):oo("bad ack %s",t.id)},H.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},H.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)ao.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},H.prototype.ondisconnect=function(){oo("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},H.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},H.prototype.close=H.prototype.disconnect=function(){return this.connected&&(oo("performing disconnect (%s)",this.nsp),this.packet({type:eo.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},H.prototype.compress=function(t){return this.flags=this.flags||{},this.flags.compress=t,this};var lo={},co=sr("socket.io-client:manager"),uo=Object.prototype.hasOwnProperty;lo=U,U.prototype.emitAll=function(){for(var t in this.emit.apply(this,arguments),this.nsps)uo.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},U.prototype.updateSocketIds=function(){for(var t in this.nsps)uo.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},U.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},ur(U.prototype),U.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},U.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},U.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},U.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},U.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},U.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},U.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},U.prototype.open=U.prototype.connect=function(t){if(co("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;co("opening %s",this.uri),this.engine=Vr(this.uri,this.opts);var e=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var n=Kr(e,"open",(function(){i.onopen(),t&&t()})),r=Kr(e,"error",(function(e){if(co("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",e),t){var n=new Error("Connection error");n.data=e,t(n)}else i.maybeReconnectOnOpen()}));if(!1!==this._timeout){var o=this._timeout;co("connect attempt will timeout after %d",o);var s=setTimeout((function(){co("connect attempt timed out after %d",o),n.destroy(),e.close(),e.emit("error","timeout"),i.emitAll("connect_timeout",o)}),o);this.subs.push({destroy:function(){clearTimeout(s)}})}return this.subs.push(n),this.subs.push(r),this},U.prototype.onopen=function(){co("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(Kr(t,"data",cr(this,"ondata"))),this.subs.push(Kr(t,"ping",cr(this,"onping"))),this.subs.push(Kr(t,"pong",cr(this,"onpong"))),this.subs.push(Kr(t,"error",cr(this,"onerror"))),this.subs.push(Kr(t,"close",cr(this,"onclose"))),this.subs.push(Kr(this.decoder,"decoded",cr(this,"ondecoded")))},U.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},U.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},U.prototype.ondata=function(t){this.decoder.add(t)},U.prototype.ondecoded=function(t){this.emit("packet",t)},U.prototype.onerror=function(t){co("error",t),this.emitAll("error",t)},U.prototype.socket=function(t,e){function i(){~Ur(r.connecting,n)||r.connecting.push(n)}var n=this.nsps[t];if(!n){n=new ro(this,t,e),this.nsps[t]=n;var r=this;n.on("connecting",i),n.on("connect",(function(){n.id=r.generateId(t)})),this.autoConnect&&i()}return n},U.prototype.destroy=function(t){var e=Ur(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},U.prototype.packet=function(t){co("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,(function(i){for(var n=0;n<i.length;n++)e.engine.write(i[n],t.options);e.encoding=!1,e.processPacketQueue()})))},U.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},U.prototype.cleanup=function(){co("cleanup");for(var t=this.subs.length,e=0;e<t;e++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},U.prototype.close=U.prototype.disconnect=function(){co("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},U.prototype.onclose=function(t){co("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},U.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)co("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();co("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var i=setTimeout((function(){t.skipReconnect||(co("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open((function(e){e?(co("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(co("reconnect success"),t.onreconnect())})))}),e);this.subs.push({destroy:function(){clearTimeout(i)}})}},U.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)};var ho={};(function(t){var e=sr("socket.io-client:url");ho=function(i,n){var r=i;n=n||t.location,null==i&&(i=n.protocol+"//"+n.host),"string"==typeof i&&("/"===i.charAt(0)&&(i="/"===i.charAt(1)?n.protocol+i:n.host+i),/^(https?|wss?):\/\//.test(i)||(e("protocol-less url %s",i),i=void 0!==n?n.protocol+"//"+i:"https://"+i),e("parse %s",i),r=Gr(i)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var o=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var po={},fo=sr("socket.io-client"),mo=(po=po=W).managers={};po.protocol=eo.protocol,po.connect=W,po.Manager=lo,po.Socket=ro;var go={},vo=Object.prototype.hasOwnProperty;go.stringify=function(t,e){e=e||"";var i=[];for(var n in"string"!=typeof e&&(e="?"),t)vo.call(t,n)&&i.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return i.length?e+i.join("&"):""},go.parse=function(t){for(var e,i=/([^=?&]+)=?([^&]*)/g,n={};e=i.exec(t);n[X(e[1])]=X(e[2]));return n};var yo=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t},bo={};(function(t){"use strict";function e(e){var i,r={},s=typeof(e=e||t.location||{});if("blob:"===e.protocol)r=new n(unescape(e.pathname),{});else if("string"===s)for(i in r=new n(e,{}),a)delete r[i];else if("object"===s){for(i in e)i in a||(r[i]=e[i]);void 0===r.slashes&&(r.slashes=o.test(e.href))}return r}function i(t){var e=r.exec(t);return{protocol:e[1]?e[1].toLowerCase():"",slashes:!!e[2],rest:e[3]}}function n(t,r,o){if(!(this instanceof n))return new n(t,r,o);var a,l,c,u,h,d,p=s.slice(),f=typeof r,m=this,g=0;for("object"!==f&&"string"!==f&&(o=r,r=null),o&&"function"!=typeof o&&(o=go.parse),r=e(r),a=!(l=i(t||"")).protocol&&!l.slashes,m.slashes=l.slashes||a&&r.slashes,m.protocol=l.protocol||r.protocol||"",t=l.rest,l.slashes||(p[2]=[/(.*)/,"pathname"]);g<p.length;g++)c=(u=p[g])[0],d=u[1],c!=c?m[d]=t:"string"==typeof c?~(h=t.indexOf(c))&&("number"==typeof u[2]?(m[d]=t.slice(0,h),t=t.slice(h+u[2])):(m[d]=t.slice(h),t=t.slice(0,h))):(h=c.exec(t))&&(m[d]=h[1],t=t.slice(0,h.index)),m[d]=m[d]||a&&u[3]&&r[d]||"",u[4]&&(m[d]=m[d].toLowerCase());o&&(m.query=o(m.query)),a&&r.slashes&&"/"!==m.pathname.charAt(0)&&(""!==m.pathname||""!==r.pathname)&&(m.pathname=function(t){for(var e=(r.pathname||"/").split("/").slice(0,-1).concat(t.split("/")),i=e.length,n=e[i-1],o=!1,s=0;i--;)"."===e[i]?e.splice(i,1):".."===e[i]?(e.splice(i,1),s++):s&&(0===i&&(o=!0),e.splice(i,1),s--);return o&&e.unshift(""),"."!==n&&".."!==n||e.push(""),e.join("/")}(m.pathname)),yo(m.port,m.protocol)||(m.host=m.hostname,m.port=""),m.username=m.password="",m.auth&&(u=m.auth.split(":"),m.username=u[0]||"",m.password=u[1]||""),m.origin=m.protocol&&m.host&&"file:"!==m.protocol?m.protocol+"//"+m.host:"null",m.href=m.toString()}var r=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,o=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,s=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],a={hash:1,query:1};n.prototype={set:function(t,e,i){var n=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(i||go.parse)(e)),n[t]=e;break;case"port":n[t]=e,yo(e,n.protocol)?e&&(n.host=n.hostname+":"+e):(n.host=n.hostname,n[t]="");break;case"hostname":n[t]=e,n.port&&(e+=":"+n.port),n.host=e;break;case"host":n[t]=e,/:\d+$/.test(e)?(e=e.split(":"),n.port=e.pop(),n.hostname=e.join(":")):(n.hostname=e,n.port="");break;case"protocol":n.protocol=e.toLowerCase(),n.slashes=!i;break;case"pathname":case"hash":if(e){var r="pathname"===t?"/":"#";n[t]=e.charAt(0)!==r?r+e:e}else n[t]=e;break;default:n[t]=e}for(var o=0;o<s.length;o++){var a=s[o];a[4]&&(n[a[1]]=n[a[1]].toLowerCase())}return n.origin=n.protocol&&n.host&&"file:"!==n.protocol?n.protocol+"//"+n.host:"null",n.href=n.toString(),n},toString:function(t){t&&"function"==typeof t||(t=go.stringify);var e,i=this,n=i.protocol;n&&":"!==n.charAt(n.length-1)&&(n+=":");var r=n+(i.slashes?"//":"");return i.username&&(r+=i.username,i.password&&(r+=":"+i.password),r+="@"),r+=i.host+i.pathname,(e="object"==typeof i.query?t(i.query):i.query)&&(r+="?"!==e.charAt(0)?"?"+e:e),i.hash&&(r+=i.hash),r}},n.extractProtocol=i,n.location=e,n.qs=go,bo=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var wo=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},xo=function(){function t(e,i){!function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var n=Lt();this.on=n.on.bind(n),this.off=n.off.bind(n),this.emit=n.emit.bind(n);var r=bo(e);this.assembly=i,this.socket=po.connect(r.origin,{path:r.pathname}),this.attachDefaultHandlers()}return t.prototype.attachDefaultHandlers=function(){var t=this;this.socket.on("connect",(function(){t.socket.emit("assembly_connect",{id:t.assembly.assembly_id}),t.emit("connect")})),this.socket.on("assembly_finished",(function(){t.emit("finished"),t.close()})),this.socket.on("assembly_upload_finished",(function(e){t.emit("upload",e)})),this.socket.on("assembly_uploading_finished",(function(){t.emit("executing")})),this.socket.on("assembly_upload_meta_data_extracted",(function(){t.emit("metadata")})),this.socket.on("assembly_result_finished",(function(e,i){t.emit("result",e,i)})),this.socket.on("assembly_error",(function(e){t.emit("error",wo(new Error(e.message),e))}))},t.prototype.close=function(){this.socket.disconnect()},t}(),_o={};Object.defineProperty(_o,"__esModule",{value:!0}),_o.setItem=function(t,e){if(ko)return localStorage.setItem(t,e)},_o.getItem=function(t){if(ko)return localStorage.getItem(t)},_o.removeItem=function(t){if(ko)return localStorage.removeItem(t)};var ko=!1;try{ko="localStorage"in window;var Co="tusSupport";localStorage.setItem(Co,localStorage.getItem(Co))}catch(Z){if(Z.code!==Z.SECURITY_ERR&&Z.code!==Z.QUOTA_EXCEEDED_ERR)throw Z;ko=!1}_o.canStoreURLs=ko;var So=Object.prototype.hasOwnProperty,To=Object.prototype.toString,Ao=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===To.call(t)},Eo=function(t){if(!t||"[object Object]"!==To.call(t))return!1;var e,i=So.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&So.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!i&&!n)return!1;for(e in t);return void 0===e||So.call(t,e)},Po={};Object.defineProperty(Po,"__esModule",{value:!0}),Po.encode=function(t){return Mo(unescape(encodeURIComponent(t)))};var Mo=window.btoa;Po.isSupported="btoa"in window;var Lo={};Object.defineProperty(Lo,"__esModule",{value:!0}),Lo.newRequest=function(){return new window.XMLHttpRequest},Lo.resolveUrl=function(t,e){return(0,Do.default)(t,e)};var Oo,Do=(Oo=Wt)&&Oo.__esModule?Oo:{default:Oo},Io={},$o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();Object.defineProperty(Io,"__esModule",{value:!0}),Io.getSource=function(t){if("function"==typeof t.slice&&void 0!==t.size)return new No(t);throw new Error("source object may only be an instance of File or Blob in this environment")};var No=function(){function t(e){!function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this._file=e,this.size=e.size}return $o(t,[{key:"slice",value:function(t,e){return this._file.slice(t,e)}},{key:"close",value:function(){}}]),t}(),zo={};Object.defineProperty(zo,"__esModule",{value:!0});var jo=function(){function t(e){var i=arguments.length<=1||void 0===arguments[1]?null:arguments[1],n=arguments.length<=2||void 0===arguments[2]?null:arguments[2];!function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,Object.getPrototypeOf(t).call(this,e.message));r.originalRequest=n,r.causingError=i;var o=e.message;return null!=i&&(o+=", caused by "+i.toString()),null!=n&&(o+=", originated from request (response code: "+n.status+", response text: "+n.responseText+")"),r.message=o,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(t,Error),t}();zo.default=jo;var Fo={};Object.defineProperty(Fo,"__esModule",{value:!0}),Fo.default=function(t){return["tus",t.name,t.type,t.size,t.lastModified].join("-")};var qo={},Ro=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();Object.defineProperty(qo,"__esModule",{value:!0});var Bo=Y(Fo),Ho=Y(zo),Uo=Y((function t(){var e,i,n,r,o,s,a=arguments[0],l=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[1]||{},l=2),(null==a||"object"!=typeof a&&"function"!=typeof a)&&(a={});l<c;++l)if(null!=(e=arguments[l]))for(i in e)n=a[i],a!==(r=e[i])&&(u&&r&&(Eo(r)||(o=Ao(r)))?(o?(o=!1,s=n&&Ao(n)?n:[]):s=n&&Eo(n)?n:{},a[i]=t(u,s,r)):void 0!==r&&(a[i]=r));return a})),Wo=G(Po),Xo=G(_o),Go={endpoint:"",fingerprint:Bo.default,resume:!0,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,headers:{},chunkSize:1/0,withCredentials:!1,uploadUrl:null,uploadSize:null,overridePatchMethod:!1,retryDelays:null},Yo=function(){function t(e,i){!function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.options=(0,Uo.default)(!0,{},Go,i),this.file=e,this.url=null,this._xhr=null,this._fingerprint=null,this._offset=null,this._aborted=!1,this._size=null,this._source=null,this._retryAttempt=0,this._retryTimeout=null,this._offsetBeforeRetry=0}return Ro(t,[{key:"start",value:function(){var t=this,e=this.file;if(e)if(this.options.endpoint){var i=this._source=(0,Io.getSource)(e,this.options.chunkSize);if(null!=this.options.uploadSize){var n=+this.options.uploadSize;if(isNaN(n))throw new Error("tus: cannot convert `uploadSize` option into a number");this._size=n}else{if(null==(n=i.size))throw new Error("tus: cannot automatically derive upload's size from input and must be specified manually using the `uploadSize` option");this._size=n}var r,o=this.options.retryDelays;if(null!=o){if("[object Array]"!==Object.prototype.toString.call(o))throw new Error("tus: the `retryDelays` option must either be an array or null");r=t.options.onError,t.options.onError=function(e){t.options.onError=r,null!=t._offset&&t._offset>t._offsetBeforeRetry&&(t._retryAttempt=0);var i=!0;if("undefined"!=typeof window&&"navigator"in window&&!1===window.navigator.onLine&&(i=!1),t._retryAttempt<o.length&&null!=e.originalRequest&&!V(e.originalRequest.status,400)&&i){var n=o[t._retryAttempt++];t._offsetBeforeRetry=t._offset,t.options.uploadUrl=t.url,t._retryTimeout=setTimeout((function(){t.start()}),n)}else t._emitError(e)}}if(this._aborted=!1,null==this.url){if(null!=this.options.uploadUrl)return this.url=this.options.uploadUrl,void this._resumeUpload();if(this.options.resume){this._fingerprint=this.options.fingerprint(e);var s=Xo.getItem(this._fingerprint);if(null!=s)return this.url=s,void this._resumeUpload()}this._createUpload()}else this._resumeUpload()}else this._emitError(new Error("tus: no endpoint provided"));else this._emitError(new Error("tus: no file or stream to upload provided"))}},{key:"abort",value:function(){null!==this._xhr&&(this._xhr.abort(),this._source.close(),this._aborted=!0),null!=this._retryTimeout&&(clearTimeout(this._retryTimeout),this._retryTimeout=null)}},{key:"_emitXhrError",value:function(t,e,i){this._emitError(new Ho.default(e,i,t))}},{key:"_emitError",value:function(t){if("function"!=typeof this.options.onError)throw t;this.options.onError(t)}},{key:"_emitSuccess",value:function(){"function"==typeof this.options.onSuccess&&this.options.onSuccess()}},{key:"_emitProgress",value:function(t,e){"function"==typeof this.options.onProgress&&this.options.onProgress(t,e)}},{key:"_emitChunkComplete",value:function(t,e,i){"function"==typeof this.options.onChunkComplete&&this.options.onChunkComplete(t,e,i)}},{key:"_setupXHR",value:function(t){this._xhr=t,t.setRequestHeader("Tus-Resumable","1.0.0");var e=this.options.headers;for(var i in e)t.setRequestHeader(i,e[i]);t.withCredentials=this.options.withCredentials}},{key:"_createUpload",value:function(){var t=this,e=(0,Lo.newRequest)();e.open("POST",this.options.endpoint,!0),e.onload=function(){if(V(e.status,200)){var i=e.getResponseHeader("Location");null!=i?(t.url=(0,Lo.resolveUrl)(t.options.endpoint,i),
t.options.resume&&Xo.setItem(t._fingerprint,t.url),t._offset=0,t._startUpload()):t._emitXhrError(e,new Error("tus: invalid or missing Location header"))}else t._emitXhrError(e,new Error("tus: unexpected response while creating upload"))},e.onerror=function(i){t._emitXhrError(e,new Error("tus: failed to create upload"),i)},this._setupXHR(e),e.setRequestHeader("Upload-Length",this._size);var i=function(t){if(!Wo.isSupported)return"";var e=[];for(var i in t)e.push(i+" "+Wo.encode(t[i]));return e.join(",")}(this.options.metadata);""!==i&&e.setRequestHeader("Upload-Metadata",i),e.send(null)}},{key:"_resumeUpload",value:function(){var t=this,e=(0,Lo.newRequest)();e.open("HEAD",this.url,!0),e.onload=function(){if(!V(e.status,200))return t.options.resume&&V(e.status,400)&&Xo.removeItem(t._fingerprint),423===e.status?void t._emitXhrError(e,new Error("tus: upload is currently locked; retry later")):(t.url=null,void t._createUpload());var i=parseInt(e.getResponseHeader("Upload-Offset"),10);if(isNaN(i))t._emitXhrError(e,new Error("tus: invalid or missing offset value"));else{var n=parseInt(e.getResponseHeader("Upload-Length"),10);if(isNaN(n))t._emitXhrError(e,new Error("tus: invalid or missing length value"));else{if(i===n)return t._emitProgress(n,n),void t._emitSuccess();t._offset=i,t._startUpload()}}},e.onerror=function(i){t._emitXhrError(e,new Error("tus: failed to resume upload"),i)},this._setupXHR(e),e.send(null)}},{key:"_startUpload",value:function(){var t=this;if(!this._aborted){var e=(0,Lo.newRequest)();this.options.overridePatchMethod?(e.open("POST",this.url,!0),e.setRequestHeader("X-HTTP-Method-Override","PATCH")):e.open("PATCH",this.url,!0),e.onload=function(){if(V(e.status,200)){var i=parseInt(e.getResponseHeader("Upload-Offset"),10);if(isNaN(i))t._emitXhrError(e,new Error("tus: invalid or missing offset value"));else{if(t._emitProgress(i,t._size),t._emitChunkComplete(i-t._offset,i,t._size),t._offset=i,i==t._size)return t._emitSuccess(),void t._source.close();t._startUpload()}}else t._emitXhrError(e,new Error("tus: unexpected response while uploading chunk"))},e.onerror=function(i){t._aborted||t._emitXhrError(e,new Error("tus: failed to upload chunk at offset "+t._offset),i)},"upload"in e&&(e.upload.onprogress=function(e){e.lengthComputable&&t._emitProgress(i+e.loaded,t._size)}),this._setupXHR(e),e.setRequestHeader("Upload-Offset",this._offset),e.setRequestHeader("Content-Type","application/offset+octet-stream");var i=this._offset,n=this._offset+this.options.chunkSize;(n===1/0||n>this._size)&&(n=this._size),e.send(this._source.slice(i,n)),this._emitProgress(this._offset,this._size)}}}]),t}();Yo.defaultOptions=Go,qo.default=Yo;var Vo,Ko=(Vo=qo)&&Vo.__esModule?Vo:{default:Vo};if(Ko.default.defaultOptions,"undefined"!=typeof window){var Qo=window,Jo=Qo.XMLHttpRequest,Zo=Qo.Blob;Jo&&Zo&&Zo.prototype.slice}var ts,es={Upload:Ko.default},is=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},ns="undefined"==typeof Promise?lt.Promise:Promise,rs=pt.emitSocketProgress,os=pt.getSocketHost,ss=pt.settle,as={endpoint:"",resume:!0,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,headers:{},chunkSize:1/0,withCredentials:!1,uploadUrl:null,uploadSize:null,overridePatchMethod:!1,retryDelays:null},ls=function(t){function e(i,n){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,n));return r.type="uploader",r.id="Tus",r.title="Tus",r.opts=is({},{resume:!0,autoRetry:!0,retryDelays:[0,1e3,3e3,5e3]},n),r.uploaders=Object.create(null),r.uploaderEvents=Object.create(null),r.uploaderSockets=Object.create(null),r.handleResetProgress=r.handleResetProgress.bind(r),r.handleUpload=r.handleUpload.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.handleResetProgress=function(){var t=is({},this.uppy.state.files);Object.keys(t).forEach((function(e){if(t[e].tus&&t[e].tus.uploadUrl){var i=is({},t[e].tus);delete i.uploadUrl,t[e]=is({},t[e],{tus:i})}})),this.uppy.setState({files:t})},e.prototype.resetUploaderReferences=function(t){this.uploaders[t]&&(this.uploaders[t].abort(),this.uploaders[t]=null),this.uploaderEvents[t]&&(this.uploaderEvents[t].remove(),this.uploaderEvents[t]=null),this.uploaderSockets[t]&&(this.uploaderSockets[t].close(),this.uploaderSockets[t]=null)},e.prototype.upload=function(t){var e=this;return this.resetUploaderReferences(t.id),new ns((function(i,n){var r=is({},as,e.opts,t.tus||{});r.onError=function(i){e.uppy.log(i),e.uppy.emit("upload-error",t,i),i.message="Failed because: "+i.message,e.resetUploaderReferences(t.id),n(i)},r.onProgress=function(i,n){e.onReceiveUploadUrl(t,o.url),e.uppy.emit("upload-progress",t,{uploader:e,bytesUploaded:i,bytesTotal:n})},r.onSuccess=function(){e.uppy.emit("upload-success",t,o,o.url),o.url&&e.uppy.log("Download "+o.file.name+" from "+o.url),e.resetUploaderReferences(t.id),i(o)},r.metadata=t.meta;var o=new es.Upload(t.data,r);e.uploaders[t.id]=o,e.uploaderEvents[t.id]=K(e.uppy),e.onFileRemove(t.id,(function(n){e.resetUploaderReferences(t.id),i("upload "+n+" was removed")})),e.onPause(t.id,(function(t){t?o.abort():o.start()})),e.onPauseAll(t.id,(function(){o.abort()})),e.onCancelAll(t.id,(function(){e.resetUploaderReferences(t.id)})),e.onResumeAll(t.id,(function(){t.error&&o.abort(),o.start()})),t.isPaused||o.start(),t.isRestored||e.uppy.emit("upload-started",t,o)}))},e.prototype.uploadRemote=function(t){var e=this;this.resetUploaderReferences(t.id);var i=is({},this.opts,t.tus||{});return new ns((function(n,r){if(e.uppy.log(t.remote.url),t.serverToken)return e.connectToServerSocket(t).then((function(){return n()})).catch(r);e.uppy.emit("upload-started",t),fetch(t.remote.url,{method:"post",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(is({},t.remote.body,{endpoint:i.endpoint,uploadUrl:i.uploadUrl,protocol:"tus",size:t.data.size,metadata:t.meta}))}).then((function(i){return i.status<200||i.status>300?r(i.statusText):i.json().then((function(i){return e.uppy.setFileState(t.id,{serverToken:i.token}),t=e.getFile(t.id)}))})).then((function(t){return e.connectToServerSocket(t)})).then((function(){n()})).catch((function(t){r(new Error(t))}))}))},e.prototype.connectToServerSocket=function(t){var e=this;return new ns((function(i,n){var r=t.serverToken,o=os(t.remote.host),s=new Xt({target:o+"/api/"+r});e.uploaderSockets[t.id]=s,e.uploaderEvents[t.id]=K(e.uppy),e.onFileRemove(t.id,(function(){s.send("pause",{}),i("upload "+t.id+" was removed")})),e.onPause(t.id,(function(t){t?s.send("pause",{}):s.send("resume",{})})),e.onPauseAll(t.id,(function(){return s.send("pause",{})})),e.onCancelAll(t.id,(function(){return s.send("pause",{})})),e.onResumeAll(t.id,(function(){t.error&&s.send("pause",{}),s.send("resume",{})})),e.onRetry(t.id,(function(){s.send("pause",{}),s.send("resume",{})})),e.onRetryAll(t.id,(function(){s.send("pause",{}),s.send("resume",{})})),t.isPaused&&s.send("pause",{}),s.on("progress",(function(i){return rs(e,i,t)})),s.on("error",(function(i){e.uppy.emit("upload-error",t,new Error(i.error)),n(new Error(i.error))})),s.on("success",(function(n){e.uppy.emit("upload-success",t,n,n.url),e.resetUploaderReferences(t.id),i()}))}))},e.prototype.getFile=function(t){return this.uppy.state.files[t]},e.prototype.updateFile=function(t){var e,i=is({},this.uppy.state.files,((e={})[t.id]=t,e));this.uppy.setState({files:i})},e.prototype.onReceiveUploadUrl=function(t,e){var i=this.getFile(t.id);if(i&&(!i.tus||i.tus.uploadUrl!==e)&&this.opts.resume){this.uppy.log("[Tus] Storing upload url");var n=is({},i,{tus:is({},i.tus,{uploadUrl:e})});this.updateFile(n)}},e.prototype.onFileRemove=function(t,e){this.uploaderEvents[t].on("file-removed",(function(i){t===i.id&&e(i.id)}))},e.prototype.onPause=function(t,e){this.uploaderEvents[t].on("upload-pause",(function(i,n){t===i&&e(n)}))},e.prototype.onRetry=function(t,e){this.uploaderEvents[t].on("upload-retry",(function(i){t===i&&e()}))},e.prototype.onRetryAll=function(t,e){var i=this;this.uploaderEvents[t].on("retry-all",(function(){i.uppy.getFile(t)&&e()}))},e.prototype.onPauseAll=function(t,e){var i=this;this.uploaderEvents[t].on("pause-all",(function(){i.uppy.getFile(t)&&e()}))},e.prototype.onCancelAll=function(t,e){var i=this;this.uploaderEvents[t].on("cancel-all",(function(){i.uppy.getFile(t)&&e()}))},e.prototype.onResumeAll=function(t,e){var i=this;this.uploaderEvents[t].on("resume-all",(function(){i.uppy.getFile(t)&&e()}))},e.prototype.uploadFiles=function(t){var e=this,i=t.map((function(i,n){var r=parseInt(n,10)+1,o=t.length;return i.error?ns.reject(new Error(i.error)):(e.uppy.log("uploading "+r+" of "+o),i.isRemote?e.uploadRemote(i,r,o):e.upload(i,r,o))}));return ss(i)},e.prototype.handleUpload=function(t){var e=this;if(0===t.length)return this.uppy.log("Tus: no files to upload!"),ns.resolve();this.uppy.log("Tus is uploading...");var i=t.map((function(t){return e.uppy.getFile(t)}));return this.uploadFiles(i).then((function(){return null}))},e.prototype.addResumableUploadsCapabilityFlag=function(){var t=is({},this.uppy.getState().capabilities);t.resumableUploads=!0,this.uppy.setState({capabilities:t})},e.prototype.install=function(){this.addResumableUploadsCapabilityFlag(),this.uppy.addUploader(this.handleUpload),this.uppy.on("reset-progress",this.handleResetProgress),this.opts.autoRetry&&this.uppy.on("back-online",this.uppy.retryAll)},e.prototype.uninstall=function(){this.uppy.removeUploader(this.handleUpload),this.opts.autoRetry&&this.uppy.off("back-online",this.uppy.retryAll)},e}(vt),cs=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},us="undefined"==typeof Promise?lt.Promise:Promise,hs=function(t){function e(i,n){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,n));r.type="uploader",r.id="Transloadit",r.title="Transloadit";var o={strings:{creatingAssembly:"Preparing upload...",creatingAssemblyFailed:"Transloadit: Could not create Assembly",encoding:"Encoding..."}},s={service:"https://api2.transloadit.com",waitForEncoding:!1,waitForMetadata:!1,alwaysRunAssembly:!1,importFromUploadURLs:!1,signature:null,params:null,fields:{},getAssemblyOptions:Q,locale:o};return r.opts=cs({},s,n),r.locale=cs({},o,r.opts.locale),r.locale.strings=cs({},o.strings,r.opts.locale.strings),r.translator=new It({locale:r.locale}),r.i18n=r.translator.translate.bind(r.translator),r.prepareUpload=r.prepareUpload.bind(r),r.afterUpload=r.afterUpload.bind(r),r.onFileUploadURLAvailable=r.onFileUploadURLAvailable.bind(r),r.onRestored=r.onRestored.bind(r),r.getPersistentData=r.getPersistentData.bind(r),r.opts.params&&r.validateParams(r.opts.params),r.client=new tr({service:r.opts.service}),r.sockets={},r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.validateParams=function(t){if(!t)throw new Error("Transloadit: The `params` option is required.");if("string"==typeof t)try{t=JSON.parse(t)}catch(t){throw t.message="Transloadit: The `params` option is a malformed JSON string: "+t.message,t}if(!t.auth||!t.auth.key)throw new Error("Transloadit: The `params.auth.key` option is required. You can find your Transloadit API key at https://transloadit.com/accounts/credentials.")},e.prototype.getAssemblyOptions=function(t){var e=this,i=this.opts;return us.all(t.map((function(t){var n=e.uppy.getFile(t);return us.resolve().then((function(){return i.getAssemblyOptions(n,i)})).then((function(t){return function(t,e){if(Array.isArray(e.fields)){var i=e.fields;e.fields={},i.forEach((function(i){e.fields[i]=t.meta[i]}))}return e.fields||(e.fields={}),e}(n,t)})).then((function(i){return e.validateParams(i.params),{fileIDs:[t],options:i}}))})))},e.prototype.dedupeAssemblyOptions=function(t){var e=Object.create(null);return t.forEach((function(t){var i,n=t.fileIDs,r=t.options,o=JSON.stringify(r);e[o]?(i=e[o].fileIDs).push.apply(i,n):e[o]={options:r,fileIDs:[].concat(n)}})),Object.keys(e).map((function(t){return e[t]}))},e.prototype.createAssembly=function(t,e,i){var n=this,r=this.opts;return this.uppy.log("[Transloadit] create Assembly"),this.client.createAssembly({params:i.params,fields:i.fields,expectedFiles:t.length,signature:i.signature}).then((function(i){var o,s,a=n.getPluginState(),l=a.uploadsAssemblies[e],c=cs({},a.uploadsAssemblies,((o={})[e]=l.concat([i.assembly_id]),o));n.setPluginState({assemblies:cs(a.assemblies,(s={},s[i.assembly_id]=i,s)),uploadsAssemblies:c});var u=cs({},n.uppy.state.files);return t.forEach((function(t){u[t]=function(t,e){var i={assembly_url:e.assembly_url,filename:t.name,fieldname:"file"},n=cs({},t.meta,i),o=cs({},t.tus,{endpoint:e.tus_url}),s=void 0;if(t.remote){var a=e.uppyserver_url;a.endsWith("/")&&(a=a.slice(0,-1));var l=t.remote.url.replace(t.remote.host,"");l.startsWith("/")&&(l=l.slice(1)),s=cs({},t.remote,{host:a,url:a+"/"+l})}var c={assembly:e.assembly_id},u=cs({},t,{transloadit:c});return r.importFromUploadURLs||cs(u,{meta:n,tus:o,remote:s}),u}(u[t],i)})),n.uppy.setState({files:u}),n.uppy.emit("transloadit:assembly-created",i,t),n.connectSocket(i).then((function(){return i}))})).then((function(t){return n.uppy.log("[Transloadit] Created Assembly"),t})).catch((function(t){throw n.uppy.info(n.i18n("creatingAssemblyFailed"),"error",0),t}))},e.prototype.shouldWait=function(){return this.opts.waitForEncoding||this.opts.waitForMetadata},e.prototype.reserveFiles=function(t,e){var i=this;return us.all(e.map((function(e){var n=i.uppy.getFile(e);return i.client.reserveFile(t,n)})))},e.prototype.onFileUploadURLAvailable=function(t){var e=this;if(t&&t.transloadit&&t.transloadit.assembly){var i=this.getPluginState().assemblies[t.transloadit.assembly];this.client.addFile(i,t).catch((function(n){e.uppy.log(n),e.uppy.emit("transloadit:import-error",i,t.id,n)}))}},e.prototype.findFile=function(t){var e=this.uppy.state.files;for(var i in e)if(e.hasOwnProperty(i)){if(e[i].uploadURL===t.tus_upload_url)return e[i];if(e[i].tus&&e[i].tus.uploadUrl===t.tus_upload_url)return e[i];if(!t.is_tus_file&&e[i].name===t.name&&e[i].size===t.size)return e[i]}},e.prototype.onFileUploadComplete=function(t,e){var i,n=this.getPluginState(),r=this.findFile(e);r?(this.setPluginState({files:cs({},n.files,(i={},i[e.id]={assembly:t,id:r.id,uploadedFile:e},i))}),this.uppy.emit("transloadit:upload",e,this.getAssembly(t))):this.uppy.log("[Transloadit] Couldn\u2019t file the file, it was likely removed in the process")},e.prototype.onResult=function(t,e,i){var n=this.getPluginState(),r=n.files[i.original_id];i.localId=r?r.id:null;var o={result:i,stepName:e,id:i.id,assembly:t};this.setPluginState({results:[].concat(n.results,[o])}),this.uppy.emit("transloadit:result",e,i,this.getAssembly(t))},e.prototype.onAssemblyFinished=function(t){var e=this;this.client.getAssemblyStatus(t).then((function(t){var i,n=e.getPluginState();e.setPluginState({assemblies:cs({},n.assemblies,(i={},i[t.assembly_id]=t,i))}),e.uppy.emit("transloadit:complete",t)}))},e.prototype.getPersistentData=function(t){var e,i=this.getPluginState(),n=i.assemblies,r=i.uploadsAssemblies,o=Object.keys(i.files),s=i.results.map((function(t){return t.id}));t(((e={})[this.id]={assemblies:n,uploadsAssemblies:r,uploads:o,results:s},e))},e.prototype.emitEventsDiff=function(t){var e=this,i=this.opts,n=this.getPluginState();!function(){var r=Object.keys(n.files).filter((function(e){return!t.files.hasOwnProperty(e)})).map((function(t){return n.files[t]})),o=n.results.filter((function(e){return!t.results.some((function(t){return t.id===e.id}))}));e.uppy.log("[Transloadit] New fully uploaded files since restore:"),e.uppy.log(r),r.forEach((function(t){var i=t.assembly,n=t.uploadedFile;e.uppy.log("[Transloadit]  emitting transloadit:upload "+n.id),e.uppy.emit("transloadit:upload",n,e.getAssembly(i))})),e.uppy.log("[Transloadit] New results since restore:"),e.uppy.log(o),o.forEach((function(t){var i=t.assembly,n=t.stepName,r=t.result,o=t.id;e.uppy.log("[Transloadit]  emitting transloadit:result "+n+", "+o),e.uppy.emit("transloadit:result",n,r,e.getAssembly(i))}));var s=n.assemblies,a=t.assemblies;e.uppy.log("[Transloadit] Current Assembly status after restore"),e.uppy.log(s),e.uppy.log("[Transloadit] Assembly status before restore"),e.uppy.log(a),Object.keys(s).forEach((function(t){var n,r;n=a[t],r=s[t],e.uppy.log("[Transloadit] Diff assemblies"),e.uppy.log(n),e.uppy.log(r),i.waitForEncoding&&"ASSEMBLY_COMPLETED"===r.ok&&"ASSEMBLY_COMPLETED"!==n.ok?(e.uppy.log("[Transloadit]  Emitting transloadit:complete for "+r.assembly_id),e.uppy.log(r),e.uppy.emit("transloadit:complete",r)):i.waitForMetadata&&r.upload_meta_data_extracted&&!n.upload_meta_data_extracted&&(e.uppy.log("[Transloadit]  Emitting transloadit:complete after metadata extraction for "+r.assembly_id),e.uppy.log(r),e.uppy.emit("transloadit:complete",r)),r.error&&!n.error&&(e.uppy.log("[Transloadit]  !!! Emitting transloadit:assembly-error for "+r.assembly_id),e.uppy.log(r),e.uppy.emit("transloadit:assembly-error",r,new Error(r.message)))}))}()},e.prototype.onRestored=function(t){var e=this,i=t&&t[this.id]?t[this.id]:{},n=i.files||[],r=i.results||[],o=i.assemblies||{},s=i.uploadsAssemblies||{};0!==Object.keys(s).length&&(this.restored=us.resolve().then((function(){var t=[];return Object.keys(s).forEach((function(e){t.push.apply(t,s[e])})),us.all(t.map((function(t){var i="https://api2.transloadit.com/assemblies/"+t;return e.client.getAssemblyStatus(i)})))})).then((function(t){return function(t){var i={},n={},r=[];t.forEach((function(t){i[t.assembly_id]=t,t.uploads.forEach((function(i){var r=e.findFile(i);n[i.id]={id:r.id,assembly:t.assembly_id,uploadedFile:i}}));var o=e.getPluginState();Object.keys(t.results).forEach((function(e){t.results[e].forEach((function(i){var n=o.files[i.original_id];i.localId=n?n.id:null,r.push({id:i.id,result:i,stepName:e,assembly:t.assembly_id})}))}))})),e.setPluginState({assemblies:i,files:n,results:r,uploadsAssemblies:s})}(t),function(t){return us.all(t.map((function(t){return"ASSEMBLY_COMPLETE"===t.ok?null:e.connectSocket(t)})))}(t)})).then((function(){var t=e.getPluginState(),i={};return n.forEach((function(e){i[e]=t.files[e]})),function(){return e.emitEventsDiff({assemblies:o,files:i,results:t.results.filter((function(t){var e=t.id;return-1!==r.indexOf(e)})),uploadsAssemblies:s})}})),this.restored.then((function(){e.restored=null})))},e.prototype.connectSocket=function(t){var e=this,i=new xo(t.websocket_url,t);return this.sockets[t.assembly_id]=i,i.on("upload",this.onFileUploadComplete.bind(this,t.assembly_id)),i.on("error",(function(i){e.uppy.emit("transloadit:assembly-error",t,i)})),i.on("executing",(function(){e.uppy.emit("transloadit:assembly-executing",t)})),this.opts.waitForEncoding&&i.on("result",this.onResult.bind(this,t.assembly_id)),this.opts.waitForEncoding?i.on("finished",(function(){e.onAssemblyFinished(t.assembly_ssl_url)})):this.opts.waitForMetadata&&i.on("metadata",(function(){e.onAssemblyFinished(t.assembly_ssl_url)})),new us((function(t,e){i.on("connect",t),i.on("error",e)})).then((function(){e.uppy.log("[Transloadit] Socket is ready")}))},e.prototype.prepareUpload=function(t,e){var i,n=this;(t=t.filter((function(t){return!t.error}))).forEach((function(t){var e=n.uppy.getFile(t);n.uppy.emit("preprocess-progress",e,{mode:"indeterminate",message:n.i18n("creatingAssembly")})}));var r=function(t){var i=t.fileIDs,r=t.options;return n.createAssembly(i,e,r).then((function(t){if(n.opts.importFromUploadURLs)return n.reserveFiles(t,i)})).then((function(){i.forEach((function(t){var e=n.uppy.getFile(t);n.uppy.emit("preprocess-complete",e)}))})).catch((function(t){throw i.forEach((function(e){var i=n.uppy.getFile(e);n.uppy.emit("preprocess-complete",i),n.uppy.emit("upload-error",i,t)})),t}))},o=this.getPluginState(),s=cs({},o.uploadsAssemblies,((i={})[e]=[],i));this.setPluginState({uploadsAssemblies:s});var a=void 0;if(t.length>0)a=this.getAssemblyOptions(t).then((function(t){return n.dedupeAssemblyOptions(t)}));else{if(!this.opts.alwaysRunAssembly)return us.resolve();a=us.resolve(this.opts.getAssemblyOptions(null,this.opts)).then((function(e){return n.validateParams(e.params),[{fileIDs:t,options:e}]}))}return a.then((function(t){return us.all(t.map(r))}))},e.prototype.afterUpload=function(t,e){var i=this;t=t.filter((function(t){return!t.error}));var n=this.getPluginState();if(this.restored)return this.restored.then((function(n){var r=i.afterUpload(t,e);return n(),r}));var r=n.uploadsAssemblies[e];if(!this.shouldWait()){r.forEach((function(t){i.sockets[t].close()}));var o=r.map((function(t){return i.getAssembly(t)}));return this.uppy.addResultData(e,{transloadit:o}),us.resolve()}if(0===r.length)return this.uppy.addResultData(e,{transloadit:[]}),us.resolve();var s=0;return new us((function(n){t.forEach((function(t){var e=i.uppy.getFile(t);i.uppy.emit("postprocess-progress",e,{mode:"indeterminate",message:i.i18n("encoding")})}));var o=function(t){-1!==r.indexOf(t.assembly_id)?(i.uppy.log("[Transloadit] afterUpload(): Got Assembly finish "+t.assembly_id),i.getAssemblyFiles(t.assembly_id).forEach((function(t){i.uppy.emit("postprocess-complete",t)})),c()):i.uppy.log("[Transloadit] afterUpload(): Ignoring finished Assembly "+t.assembly_id)},a=function(t,e){-1!==r.indexOf(t.assembly_id)?(i.uppy.log("[Transloadit] afterUpload(): Got Assembly error "+t.assembly_id),i.uppy.log(e),i.getAssemblyFiles(t.assembly_id).forEach((function(t){i.uppy.emit("upload-error",t,e),i.uppy.emit("postprocess-complete",t)})),c()):i.uppy.log("[Transloadit] afterUpload(): Ignoring errored Assembly "+t.assembly_id)},l=function(t,e,i){-1!==r.indexOf(t.assembly_id)&&a(t,i)},c=function(){if((s+=1)===r.length){u();var t=r.map((function(t){return i.getAssembly(t)}));i.uppy.addResultData(e,{transloadit:t}),n()}},u=function(){i.uppy.off("transloadit:complete",o),i.uppy.off("transloadit:assembly-error",a),i.uppy.off("transloadit:import-error",l)};i.uppy.on("transloadit:complete",o),i.uppy.on("transloadit:assembly-error",a),i.uppy.on("transloadit:import-error",l)})).then((function(t){var n=i.getPluginState(),r=cs({},n.uploadsAssemblies);return delete r[e],i.setPluginState({uploadsAssemblies:r}),t}))},e.prototype.install=function(){this.uppy.addPreProcessor(this.prepareUpload),this.uppy.addPostProcessor(this.afterUpload),this.opts.importFromUploadURLs?this.uppy.on("upload-success",this.onFileUploadURLAvailable):this.uppy.use(ls,{resume:!1,metaFields:["assembly_url","filename","fieldname"]}),this.uppy.on("restore:get-data",this.getPersistentData),this.uppy.on("restored",this.onRestored),this.setPluginState({assemblies:{},uploadsAssemblies:{},files:{},results:[]})},e.prototype.uninstall=function(){this.uppy.removePreProcessor(this.prepareUpload),this.uppy.removePostProcessor(this.afterUpload),this.opts.importFromUploadURLs&&this.uppy.off("upload-success",this.onFileUploadURLAvailable)},e.prototype.getAssembly=function(t){return this.getPluginState().assemblies[t]},e.prototype.getAssemblyFiles=function(t){var e=this;return Object.keys(this.uppy.state.files).map((function(t){return e.uppy.getFile(t)})).filter((function(e){return e&&e.transloadit&&e.transloadit.assembly===t}))},e}(vt),ds=Z.h,ps=function(t){function e(i){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i));return n.handleKeyPress=n.handleKeyPress.bind(n),n.handleClick=n.handleClick.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentDidMount=function(){var t=this;this.input.value="",setTimeout((function(){t.input.focus({preventScroll:!0})}),150)},e.prototype.handleKeyPress=function(t){13===t.keyCode&&this.props.addFile(this.input.value)},e.prototype.handleClick=function(){this.props.addFile(this.input.value)},e.prototype.render=function(){var t=this;return ds("div",{class:"uppy-Url"},ds("input",{class:"uppy-c-textInput uppy-Url-input",type:"text",placeholder:this.props.i18n("enterUrlToImport"),onkeyup:this.handleKeyPress,ref:function(e){t.input=e}}),ds("button",{class:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Url-importButton",type:"button","aria-label":this.props.i18n("import"),onclick:this.handleClick},this.props.i18n("import")))},e}(Z.Component),fs=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},ms=Z.h,gs=Di.RequestClient;ts=function(t){function e(i,n){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,n));r.id=r.opts.id||"Url",r.title="Link",r.type="acquirer",r.icon=function(){return ms("svg",{"aria-hidden":"true",class:"UppyIcon UppyModalTab-icon",width:"64",height:"64",viewBox:"0 0 64 64"},ms("circle",{cx:"32",cy:"32",r:"31"}),ms("g",{"fill-rule":"nonzero",fill:"#FFF"},ms("path",{d:"M25.774 47.357a4.077 4.077 0 0 1-5.76 0L16.9 44.24a4.076 4.076 0 0 1 0-5.758l5.12-5.12-1.817-1.818-5.12 5.122a6.651 6.651 0 0 0 0 9.392l3.113 3.116a6.626 6.626 0 0 0 4.699 1.943c1.7 0 3.401-.649 4.697-1.943l10.241-10.243a6.591 6.591 0 0 0 1.947-4.696 6.599 6.599 0 0 0-1.947-4.696l-3.116-3.114-1.817 1.817 3.116 3.114a4.045 4.045 0 0 1 1.194 2.88 4.045 4.045 0 0 1-1.194 2.878L25.774 47.357z"}),ms("path",{d:"M46.216 14.926a6.597 6.597 0 0 0-4.696-1.946h-.001a6.599 6.599 0 0 0-4.696 1.945L26.582 25.167a6.595 6.595 0 0 0-1.947 4.697 6.599 6.599 0 0 0 1.946 4.698l3.114 3.114 1.818-1.816-3.114-3.114a4.05 4.05 0 0 1-1.194-2.882c0-1.086.424-2.108 1.194-2.878L38.64 16.744a4.042 4.042 0 0 1 2.88-1.194c1.089 0 2.11.425 2.88 1.194l3.114 3.114a4.076 4.076 0 0 1 0 5.758l-5.12 5.12 1.818 1.817 5.12-5.122a6.649 6.649 0 0 0 0-9.393l-3.113-3.114-.003.002z"})))};var o={strings:{import:"Import",enterUrlToImport:"Enter URL to import a file",failedToFetch:"Uppy Server failed to fetch this URL, please make sure it\u2019s correct",enterCorrectUrl:"Incorrect URL: Please make sure you are entering a direct link to a file"}},s={locale:o};if(r.opts=fs({},s,n),r.locale=fs({},o,r.opts.locale),r.locale.strings=fs({},o.strings,r.opts.locale.strings),r.translator=new It({locale:r.locale}),r.i18n=r.translator.translate.bind(r.translator),r.hostname=r.opts.host,!r.hostname)throw new Error("Uppy Server hostname is required, please consult https://uppy.io/docs/server");return r.getMeta=r.getMeta.bind(r),r.addFile=r.addFile.bind(r),r.server=new gs(i,{host:r.opts.host}),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getFileNameFromUrl=function(t){return t.substring(t.lastIndexOf("/")+1)},e.prototype.checkIfCorrectURL=function(t){if(!t)return!1;var e=t.match(/^([a-z0-9]+):\/\//)[1];return"http"===e||"https"===e},e.prototype.addProtocolToURL=function(t){return/^[a-z0-9]+:\/\//.test(t)?t:"http://"+t},e.prototype.getMeta=function(t){var e=this;return this.server.post("url/meta",{url:t}).then((function(t){if(t.error)throw e.uppy.log("[URL] Error:"),e.uppy.log(t.error),new Error("Failed to fetch the file");return t}))},e.prototype.addFile=function(t){var e=this;return t=this.addProtocolToURL(t),this.checkIfCorrectURL(t)?this.getMeta(t).then((function(i){return{source:e.id,name:e.getFileNameFromUrl(t),type:i.type,data:{size:i.size},isRemote:!0,body:{url:t},remote:{host:e.opts.host,url:e.hostname+"/url/get",body:{fileId:t,url:t}}}})).then((function(t){return e.uppy.log("[Url] Adding remote file"),e.uppy.addFile(t)})).then((function(){var t=e.uppy.getPlugin("Dashboard");t&&t.hideAllPanels()})).catch((function(t){e.uppy.log(t),e.uppy.info({message:e.i18n("failedToFetch"),details:t},"error",4e3)})):(this.uppy.log("[URL] Incorrect URL entered: "+t),void this.uppy.info(this.i18n("enterCorrectUrl"),"error",4e3))},e.prototype.render=function(){return ms(ps,{i18n:this.i18n,addFile:this.addFile})},e.prototype.install=function(){var t=this.opts.target;t&&this.mount(t,this)},e.prototype.uninstall=function(){this.unmount()},e}(vt);var vs=Z.h,ys=function(){return vs("svg",{"aria-hidden":"true",class:"UppyIcon",width:"66",height:"55",viewBox:"0 0 66 55",xmlns:"http://www.w3.org/2000/svg"},vs("path",{d:"M57.3 8.433c4.59 0 8.1 3.51 8.1 8.1v29.7c0 4.59-3.51 8.1-8.1 8.1H8.7c-4.59 0-8.1-3.51-8.1-8.1v-29.7c0-4.59 3.51-8.1 8.1-8.1h9.45l4.59-7.02c.54-.54 1.35-1.08 2.16-1.08h16.2c.81 0 1.62.54 2.16 1.08l4.59 7.02h9.45zM33 14.64c-8.62 0-15.393 6.773-15.393 15.393 0 8.62 6.773 15.393 15.393 15.393 8.62 0 15.393-6.773 15.393-15.393 0-8.62-6.773-15.393-15.393-15.393zM33 40c-5.648 0-9.966-4.319-9.966-9.967 0-5.647 4.318-9.966 9.966-9.966s9.966 4.319 9.966 9.966C42.966 35.681 38.648 40 33 40z","fill-rule":"evenodd"}))},bs=Z.h,ws=Z.h,xs=Z.h,_s=function(t){function e(){return function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentDidMount=function(){this.props.onFocus(),this.btnContainer.firstChild.focus()},e.prototype.componentWillUnmount=function(){this.props.onStop()},e.prototype.render=function(){var t,e,i,n=this,r=this.props.supportsRecording&&(J(this.props.modes,"video-only")||J(this.props.modes,"audio-only")||J(this.props.modes,"video-audio")),o=J(this.props.modes,"picture");return xs("div",{class:"uppy uppy-Webcam-container"},xs("div",{class:"uppy-Webcam-videoContainer"},xs("video",{class:"uppy-Webcam-video  "+(this.props.mirror?"uppy-Webcam-video--mirrored":""),autoplay:!0,muted:!0,playsinline:!0,srcObject:this.props.src||""})),xs("div",{class:"uppy-Webcam-buttonContainer",ref:function(t){n.btnContainer=t}},o?(e=(t=this.props).onSnapshot,i=t.i18n,ws("button",{class:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--picture",type:"button",title:i("takePicture"),"aria-label":i("takePicture"),onclick:e},ys())):null," ",r?function(t){var e=t.recording,i=t.onStartRecording,n=t.onStopRecording,r=t.i18n;return e?bs("button",{class:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--video",type:"button",title:r("stopRecording"),"aria-label":r("stopRecording"),onclick:n},bs("svg",{"aria-hidden":"true",class:"UppyIcon",width:"100",height:"100",viewBox:"0 0 100 100"},bs("circle",{cx:"50",cy:"50",r:"40"}))):bs("button",{class:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--video",type:"button",title:r("startRecording"),"aria-label":r("startRecording"),onclick:i},bs("svg",{
"aria-hidden":"true",class:"UppyIcon",width:"100",height:"100",viewBox:"0 0 100 100"},bs("rect",{x:"15",y:"15",width:"70",height:"70"})))}(this.props):null))},e}(Z.Component),ks=Z.h,Cs=function(t){return ks("div",{class:"uppy-Webcam-permissons"},ks("div",{class:"uppy-Webcam-permissonsIcon"},t.icon()),ks("h1",{class:"uppy-Webcam-Title"},"Please allow access to your camera"),ks("p",null,"You have been prompted to allow camera access from this site.",ks("br",null),"In order to take pictures with your camera you must approve this request."))},Ss="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},As="undefined"==typeof Promise?lt.Promise:Promise,Es=Z.h,Ps=pt.getFileTypeExtension,Ms=pt.canvasToBlob,Ls=function(t){function e(i,n){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,n));r.mediaDevices=function(){if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)return navigator.mediaDevices;var t=navigator.mozGetUserMedia||navigator.webkitGetUserMedia;return t?{getUserMedia:function(e){return new As((function(i,n){t.call(navigator,e,i,n)}))}}:null}(),r.supportsUserMedia=!!r.mediaDevices,r.protocol=location.protocol.match(/https/i)?"https":"http",r.id=r.opts.id||"Webcam",r.title="Camera",r.type="acquirer",r.icon=ys;var o={strings:{smile:"Smile!",takePicture:"Take a picture",startRecording:"Begin video recording",stopRecording:"Stop video recording"}},s={onBeforeSnapshot:function(){return As.resolve()},countdown:!1,locale:o,modes:["video-audio","video-only","audio-only","picture"],mirror:!0,facingMode:"user"};return r.opts=Ts({},s,n),r.locale=Ts({},o,r.opts.locale),r.locale.strings=Ts({},o.strings,r.opts.locale.strings),r.translator=new It({locale:r.locale}),r.i18n=r.translator.translate.bind(r.translator),r.install=r.install.bind(r),r.setPluginState=r.setPluginState.bind(r),r.render=r.render.bind(r),r.start=r.start.bind(r),r.stop=r.stop.bind(r),r.takeSnapshot=r.takeSnapshot.bind(r),r.startRecording=r.startRecording.bind(r),r.stopRecording=r.stopRecording.bind(r),r.oneTwoThreeSmile=r.oneTwoThreeSmile.bind(r),r.focus=r.focus.bind(r),r.webcamActive=!1,r.opts.countdown&&(r.opts.onBeforeSnapshot=r.oneTwoThreeSmile),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.isSupported=function(){return!!this.mediaDevices},e.prototype.getConstraints=function(){return{audio:-1!==this.opts.modes.indexOf("video-audio")||-1!==this.opts.modes.indexOf("audio-only"),video:!(-1===this.opts.modes.indexOf("video-audio")&&-1===this.opts.modes.indexOf("video-only")&&-1===this.opts.modes.indexOf("picture"))&&{facingMode:this.opts.facingMode}}},e.prototype.start=function(){var t=this;if(!this.isSupported())return As.reject(new Error("Webcam access not supported"));this.webcamActive=!0;var e=this.getConstraints();return this.mediaDevices.getUserMedia(e).then((function(e){t.stream=e,t.setPluginState({cameraReady:!0})})).catch((function(e){t.setPluginState({cameraError:e})}))},e.prototype.startRecording=function(){var t=this;this.recorder=new MediaRecorder(this.stream),this.recordingChunks=[],this.recorder.addEventListener("dataavailable",(function(e){t.recordingChunks.push(e.data)})),this.recorder.start(),this.setPluginState({isRecording:!0})},e.prototype.stopRecording=function(){var t=this;return new As((function(e){t.recorder.addEventListener("stop",(function(){e()})),t.recorder.stop()})).then((function(){return t.setPluginState({isRecording:!1}),t.getVideo()})).then((function(e){return t.uppy.addFile(e)})).then((function(){t.recordingChunks=null,t.recorder=null;var e=t.uppy.getPlugin("Dashboard");e&&e.hideAllPanels()}),(function(e){throw t.recordingChunks=null,t.recorder=null,e}))},e.prototype.stop=function(){this.stream.getAudioTracks().forEach((function(t){t.stop()})),this.stream.getVideoTracks().forEach((function(t){t.stop()})),this.webcamActive=!1,this.stream=null},e.prototype.getVideoElement=function(){return this.el.querySelector(".uppy-Webcam-video")},e.prototype.oneTwoThreeSmile=function(){var t=this;return new As((function(e,i){var n=t.opts.countdown,r=setInterval((function(){if(!t.webcamActive)return clearInterval(r),t.captureInProgress=!1,i(new Error("Webcam is not active"));n>0?(t.uppy.info(n+"...","warning",800),n--):(clearInterval(r),t.uppy.info(t.i18n("smile"),"success",1500),setTimeout((function(){return e()}),1500))}),1e3)}))},e.prototype.takeSnapshot=function(){var t=this;this.captureInProgress||(this.captureInProgress=!0,this.opts.onBeforeSnapshot().catch((function(e){var i="object"===(void 0===e?"undefined":Ss(e))?e.message:e;return t.uppy.info(i,"error",5e3),As.reject(new Error("onBeforeSnapshot: "+i))})).then((function(){return t.getImage()})).then((function(e){t.captureInProgress=!1;var i=t.uppy.getPlugin("Dashboard");return i&&i.hideAllPanels(),t.uppy.addFile(e).catch((function(){}))}),(function(e){throw t.captureInProgress=!1,e})))},e.prototype.getImage=function(){var t=this,e=this.getVideoElement();if(!e)return As.reject(new Error("No video element found, likely due to the Webcam tab being closed."));var i="webcam-"+Date.now()+".jpg",n=e.videoWidth,r=e.videoHeight,o=document.createElement("canvas");return o.width=n,o.height=r,o.getContext("2d").drawImage(e,0,0),Ms(o,"image/jpeg").then((function(e){return{source:t.id,name:i,data:new File([e],i,{type:"image/jpeg"}),type:"image/jpeg"}}))},e.prototype.getVideo=function(){var t=this.recordingChunks[0].type,e=Ps(t);if(!e)return As.reject(new Error('Could not retrieve recording: Unsupported media type "'+t+'"'));var i="webcam-"+Date.now()+"."+e,n=new Blob(this.recordingChunks,{type:t}),r={source:this.id,name:i,data:new File([n],i,{type:t}),type:t};return As.resolve(r)},e.prototype.focus=function(){var t=this;this.opts.countdown||setTimeout((function(){t.uppy.info(t.i18n("smile"),"success",1500)}),1e3)},e.prototype.render=function(){this.webcamActive||this.start();var t=this.getPluginState();return t.cameraReady?Es(_s,Ts({},t,{onSnapshot:this.takeSnapshot,onStartRecording:this.startRecording,onStopRecording:this.stopRecording,onFocus:this.focus,onStop:this.stop,i18n:this.i18n,modes:this.opts.modes,supportsRecording:"function"==typeof MediaRecorder&&!!MediaRecorder.prototype&&"function"==typeof MediaRecorder.prototype.start,recording:t.isRecording,mirror:this.opts.mirror,src:this.stream})):Es(Cs,{icon:ys})},e.prototype.install=function(){this.setPluginState({cameraReady:!1});var t=this.opts.target;t&&this.mount(t,this)},e.prototype.uninstall=function(){this.stream&&this.stop(),this.unmount()},e}(vt);return{Core:Ut,views:Yi,server:Di,Plugin:vt,StatusBar:pi,ProgressBar:Kn,Informer:We,DragDrop:Ti,GoogleDrive:Bn,Dropbox:Zi,Instagram:Gn,Url:ts,FileInput:rn,Tus:ls,XHRUpload:Zt,Transloadit:hs,AwsS3:re,Dashboard:_i,Webcam:Ls,Form:mn,ThumbnailGenerator:gi,GoldenRetriever:zn,ReduxDevTools:Jn}})),function(t,e){"object"==typeof module&&module.exports?module.exports=t.document?e(t):e:t.Highcharts=e(t)}("undefined"!=typeof window?window:this,(function(t){var e,i,n,r,o,s,a,l,c,u,h,d,p,f,m=(e=void 0===t?window:t,i=e.document,n="http://www.w3.org/2000/svg",r=e.navigator&&e.navigator.userAgent||"",o=i&&i.createElementNS&&!!i.createElementNS(n,"svg").createSVGRect,s=/(edge|msie|trident)/i.test(r)&&!e.opera,a=/Firefox/.test(r),l=a&&parseInt(r.split("Firefox/")[1],10)<4,e.Highcharts?e.Highcharts.error(16,!0):{product:"Highcharts",version:"6.0.3",deg2rad:2*Math.PI/360,doc:i,hasBidiBug:l,hasTouch:i&&void 0!==i.documentElement.ontouchstart,isMS:s,isWebKit:/AppleWebKit/.test(r),isFirefox:a,isTouchDevice:/(Mobile|Android|Windows Phone)/.test(r),SVG_NS:n,chartCount:0,seriesTypes:{},symbolSizes:{},svg:o,win:e,marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){},charts:[]});!function(t){t.timers=[];var e,i,n=t.charts,r=t.doc,o=t.win;t.error=function(e,i){var n=t.isNumber(e)?"Highcharts error #"+e+": www.highcharts.com/errors/"+e:e;if(i)throw new Error(n);o.console&&console.log(n)},t.Fx=function(t,e,i){this.options=e,this.elem=t,this.prop=i},t.Fx.prototype={dSetter:function(){var t,e=this.paths[0],i=this.paths[1],n=[],r=this.now,o=e.length;if(1===r)n=this.toD;else if(o===i.length&&r<1)for(;o--;)t=parseFloat(e[o]),n[o]=isNaN(t)?i[o]:r*parseFloat(i[o]-t)+t;else n=i;this.elem.attr("d",n,null,!0)},update:function(){var t=this.elem,e=this.prop,i=this.now,n=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,i,null,!0):t.style[e]=i+this.unit,n&&n.call(t,i,this)},run:function(e,i,n){var r=this,s=r.options,a=function(t){return!a.stopped&&r.step(t)},l=o.requestAnimationFrame||function(t){setTimeout(t,13)},c=function(){t.timers=t.grep(t.timers,(function(t){return t()})),t.timers.length&&l(c)};e===i?(delete s.curAnim[this.prop],s.complete&&0===t.keys(s.curAnim).length&&s.complete()):(this.startTime=+new Date,this.start=e,this.end=i,this.unit=n,this.now=this.start,this.pos=0,a.elem=this.elem,a.prop=this.prop,a()&&1===t.timers.push(a)&&l(c))},step:function(e){var i,n,r=+new Date,o=this.options,s=this.elem,a=o.complete,l=o.duration,c=o.curAnim;return s.attr&&!s.element?i=!1:e||r>=l+this.startTime?(this.now=this.end,this.pos=1,this.update(),c[this.prop]=!0,n=!0,t.objectEach(c,(function(t){!0!==t&&(n=!1)})),n&&a&&a.call(s),i=!1):(this.pos=o.easing((r-this.startTime)/l),this.now=this.start+(this.end-this.start)*this.pos,this.update(),i=!0),i},initPath:function(e,i,n){function r(t){var e,i;for(h=t.length;h--;)e="M"===t[h]||"L"===t[h],i=/[a-zA-Z]/.test(t[h+3]),e&&i&&t.splice(h+1,0,t[h+1],t[h+2],t[h+1],t[h+2])}function o(t,e,i){[].splice.apply(t,[i,0].concat(e))}function s(t,e){for(;t.length<c;)t[0]=e[c-t.length],o(t,t.slice(0,g),0),b&&(o(t,t.slice(t.length-g),t.length),h--);t[0]="M"}function a(t,e){for(var i=(c-t.length)/g;i>0&&i--;)(u=t.slice().splice(t.length/w-g,g*w))[0]=e[c-g-i*g],m&&(u[g-6]=u[g-2],u[g-5]=u[g-1]),o(t,u,t.length/w),b&&i--}i=i||"";var l,c,u,h,d,p=e.startX,f=e.endX,m=i.indexOf("C")>-1,g=m?7:3,v=i.split(" "),y=n.slice(),b=e.isArea,w=b?2:1;if(m&&(r(v),r(y)),p&&f){for(h=0;h<p.length;h++){if(p[h]===f[0]){l=h;break}if(p[0]===f[f.length-p.length+h]){l=h,d=!0;break}}void 0===l&&(v=[])}return v.length&&t.isNumber(l)&&(c=y.length+l*w*g,d?(s(v,y),a(y,v)):(s(y,v),a(v,y))),[v,y]}},t.Fx.prototype.fillSetter=t.Fx.prototype.strokeSetter=function(){this.elem.attr(this.prop,t.color(this.start).tweenTo(t.color(this.end),this.pos),null,!0)},t.extend=function(t,e){var i;for(i in t||(t={}),e)t[i]=e[i];return t},t.merge=function(){var e,i,n=arguments,r={},o=function(e,i){return"object"!=typeof e&&(e={}),t.objectEach(i,(function(n,r){!t.isObject(n,!0)||t.isClass(n)||t.isDOMElement(n)?e[r]=i[r]:e[r]=o(e[r]||{},n)})),e};for(!0===n[0]&&(r=n[1],n=Array.prototype.slice.call(n,2)),i=n.length,e=0;e<i;e++)r=o(r,n[e]);return r},t.pInt=function(t,e){return parseInt(t,e||10)},t.isString=function(t){return"string"==typeof t},t.isArray=function(t){var e=Object.prototype.toString.call(t);return"[object Array]"===e||"[object Array Iterator]"===e},t.isObject=function(e,i){return!(!e||"object"!=typeof e||i&&t.isArray(e))},t.isDOMElement=function(e){return t.isObject(e)&&"number"==typeof e.nodeType},t.isClass=function(e){var i=e&&e.constructor;return!(!t.isObject(e,!0)||t.isDOMElement(e)||!i||!i.name||"Object"===i.name)},t.isNumber=function(t){return"number"==typeof t&&!isNaN(t)},t.erase=function(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}},t.defined=function(t){return null!=t},t.attr=function(e,i,n){var r;return t.isString(i)?t.defined(n)?e.setAttribute(i,n):e&&e.getAttribute&&(r=e.getAttribute(i)):t.defined(i)&&t.isObject(i)&&t.objectEach(i,(function(t,i){e.setAttribute(i,t)})),r},t.splat=function(e){return t.isArray(e)?e:[e]},t.syncTimeout=function(t,e,i){if(e)return setTimeout(t,e,i);t.call(0,i)},t.pick=function(){var t,e,i=arguments,n=i.length;for(t=0;t<n;t++)if(null!=(e=i[t]))return e},t.css=function(e,i){t.isMS&&!t.svg&&i&&void 0!==i.opacity&&(i.filter="alpha(opacity="+100*i.opacity+")"),t.extend(e.style,i)},t.createElement=function(e,i,n,o,s){var a=r.createElement(e),l=t.css;return i&&t.extend(a,i),s&&l(a,{padding:0,border:"none",margin:0}),n&&l(a,n),o&&o.appendChild(a),a},t.extendClass=function(e,i){var n=function(){};return n.prototype=new e,t.extend(n.prototype,i),n},t.pad=function(t,e,i){return new Array((e||2)+1-String(t).length).join(i||0)+t},t.relativeLength=function(t,e,i){return/%$/.test(t)?e*parseFloat(t)/100+(i||0):parseFloat(t)},t.wrap=function(t,e,i){var n=t[e];t[e]=function(){var t,e=Array.prototype.slice.call(arguments),r=arguments,o=this;return o.proceed=function(){n.apply(o,arguments.length?arguments:r)},e.unshift(n),t=i.apply(this,e),o.proceed=null,t}},t.getTZOffset=function(e){var i=t.Date;return 6e4*(i.hcGetTimezoneOffset&&i.hcGetTimezoneOffset(e)||i.hcTimezoneOffset||0)},t.dateFormat=function(e,i,n){if(!t.defined(i)||isNaN(i))return t.defaultOptions.lang.invalidDate||"";e=t.pick(e,"%Y-%m-%d %H:%M:%S");var r=t.Date,o=new r(i-t.getTZOffset(i)),s=o[r.hcGetHours](),a=o[r.hcGetDay](),l=o[r.hcGetDate](),c=o[r.hcGetMonth](),u=o[r.hcGetFullYear](),h=t.defaultOptions.lang,d=h.weekdays,p=h.shortWeekdays,f=t.pad,m=t.extend({a:p?p[a]:d[a].substr(0,3),A:d[a],d:f(l),e:f(l,2," "),w:a,b:h.shortMonths[c],B:h.months[c],m:f(c+1),y:u.toString().substr(2,2),Y:u,H:f(s),k:s,I:f(s%12||12),l:s%12||12,M:f(o[r.hcGetMinutes]()),p:s<12?"AM":"PM",P:s<12?"am":"pm",S:f(o.getSeconds()),L:f(Math.round(i%1e3),3)},t.dateFormats);return t.objectEach(m,(function(t,n){for(;-1!==e.indexOf("%"+n);)e=e.replace("%"+n,"function"==typeof t?t(i):t)})),n?e.substr(0,1).toUpperCase()+e.substr(1):e},t.formatSingle=function(e,i){var n,r=/f$/,o=/\.([0-9])/,s=t.defaultOptions.lang;return r.test(e)?(n=(n=e.match(o))?n[1]:-1,null!==i&&(i=t.numberFormat(i,n,s.decimalPoint,e.indexOf(",")>-1?s.thousandsSep:""))):i=t.dateFormat(e,i),i},t.format=function(e,i){for(var n,r,o,s,a,l,c,u="{",h=!1,d=[];e&&-1!==(c=e.indexOf(u));){if(n=e.slice(0,c),h){for(a=(o=(r=n.split(":")).shift().split(".")).length,l=i,s=0;s<a;s++)l&&(l=l[o[s]]);r.length&&(l=t.formatSingle(r.join(":"),l)),d.push(l)}else d.push(n);e=e.slice(c+1),u=(h=!h)?"}":"{"}return d.push(e),d.join("")},t.getMagnitude=function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},t.normalizeTickInterval=function(e,i,n,r,o){var s,a,l=e;for(s=e/(n=t.pick(n,1)),i||(i=o?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===r&&(1===n?i=t.grep(i,(function(t){return t%1==0})):n<=.1&&(i=[1/n]))),a=0;a<i.length&&(l=i[a],!(o&&l*n>=e||!o&&s<=(i[a]+(i[a+1]||i[a]))/2));a++);return l=t.correctFloat(l*n,-Math.round(Math.log(.001)/Math.LN10))},t.stableSort=function(t,e){var i,n,r=t.length;for(n=0;n<r;n++)t[n].safeI=n;for(t.sort((function(t,n){return 0===(i=e(t,n))?t.safeI-n.safeI:i})),n=0;n<r;n++)delete t[n].safeI},t.arrayMin=function(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i},t.arrayMax=function(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i},t.destroyObjectProperties=function(e,i){t.objectEach(e,(function(t,n){t&&t!==i&&t.destroy&&t.destroy(),delete e[n]}))},t.discardElement=function(e){var i=t.garbageBin;i||(i=t.createElement("div")),e&&i.appendChild(e),i.innerHTML=""},t.correctFloat=function(t,e){return parseFloat(t.toPrecision(e||14))},t.setAnimation=function(e,i){i.renderer.globalAnimation=t.pick(e,i.options.chart.animation,!0)},t.animObject=function(e){return t.isObject(e)?t.merge(e):{duration:e?500:0}},t.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},t.numberFormat=function(e,i,n,r){e=+e||0,i=+i;var o,s,a,l,c=t.defaultOptions.lang,u=(e.toString().split(".")[1]||"").split("e")[0].length,h=e.toString().split("e");return-1===i?i=Math.min(u,20):t.isNumber(i)||(i=2),l=(Math.abs(h[1]?h[0]:e)+Math.pow(10,-Math.max(i,u)-1)).toFixed(i),s=(o=String(t.pInt(l))).length>3?o.length%3:0,n=t.pick(n,c.decimalPoint),r=t.pick(r,c.thousandsSep),a=e<0?"-":"",a+=s?o.substr(0,s)+r:"",a+=o.substr(s).replace(/(\d{3})(?=\d)/g,"$1"+r),i&&(a+=n+l.slice(-i)),h[1]&&(a+="e"+h[1]),a},Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getStyle=function(e,i,n){var r;return"width"===i?Math.min(e.offsetWidth,e.scrollWidth)-t.getStyle(e,"padding-left")-t.getStyle(e,"padding-right"):"height"===i?Math.min(e.offsetHeight,e.scrollHeight)-t.getStyle(e,"padding-top")-t.getStyle(e,"padding-bottom"):(o.getComputedStyle||t.error(27,!0),(r=o.getComputedStyle(e,void 0))&&(r=r.getPropertyValue(i),t.pick(n,"opacity"!==i)&&(r=t.pInt(r))),r)},t.inArray=function(e,i){return(t.indexOfPolyfill||Array.prototype.indexOf).call(i,e)},t.grep=function(e,i){return(t.filterPolyfill||Array.prototype.filter).call(e,i)},t.find=Array.prototype.find?function(t,e){return t.find(e)}:function(t,e){var i,n=t.length;for(i=0;i<n;i++)if(e(t[i],i))return t[i]},t.map=function(t,e){for(var i=[],n=0,r=t.length;n<r;n++)i[n]=e.call(t[n],t[n],n,t);return i},t.keys=function(e){return(t.keysPolyfill||Object.keys).call(void 0,e)},t.reduce=function(e,i,n){return(t.reducePolyfill||Array.prototype.reduce).call(e,i,n)},t.offset=function(t){var e=r.documentElement,i=t.parentElement?t.getBoundingClientRect():{top:0,left:0};return{top:i.top+(o.pageYOffset||e.scrollTop)-(e.clientTop||0),left:i.left+(o.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},t.stop=function(e,i){for(var n=t.timers.length;n--;)t.timers[n].elem!==e||i&&i!==t.timers[n].prop||(t.timers[n].stopped=!0)},t.each=function(e,i,n){return(t.forEachPolyfill||Array.prototype.forEach).call(e,i,n)},t.objectEach=function(t,e,i){for(var n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)},t.addEvent=function(e,i,n){var r,o,s=e.addEventListener||t.addEventListenerPolyfill;return e.hcEvents&&!e.hasOwnProperty("hcEvents")&&(o={},t.objectEach(e.hcEvents,(function(t,e){o[e]=t.slice(0)})),e.hcEvents=o),r=e.hcEvents=e.hcEvents||{},s&&s.call(e,i,n,!1),r[i]||(r[i]=[]),r[i].push(n),function(){t.removeEvent(e,i,n)}},t.removeEvent=function(e,i,n){function r(i,n){var r=e.removeEventListener||t.removeEventListenerPolyfill;r&&r.call(e,i,n,!1)}function o(){var n,o;e.nodeName&&(i?(n={})[i]=!0:n=l,t.objectEach(n,(function(t,e){if(l[e])for(o=l[e].length;o--;)r(e,l[e][o])})))}var s,a,l=e.hcEvents;l&&(i?(s=l[i]||[],n?((a=t.inArray(n,s))>-1&&(s.splice(a,1),l[i]=s),r(i,n)):(o(),l[i]=[])):(o(),e.hcEvents={}))},t.fireEvent=function(e,i,n,o){var s,a,l,c,u,h=e.hcEvents;if(n=n||{},r.createEvent&&(e.dispatchEvent||e.fireEvent))(s=r.createEvent("Events")).initEvent(i,!0,!0),t.extend(s,n),e.dispatchEvent?e.dispatchEvent(s):e.fireEvent(i,s);else if(h)for(l=(a=h[i]||[]).length,n.target||t.extend(n,{preventDefault:function(){n.defaultPrevented=!0},target:e,type:i}),c=0;c<l;c++)(u=a[c])&&!1===u.call(e,n)&&n.preventDefault();o&&!n.defaultPrevented&&o(n)},t.animate=function(e,i,n){var r,o,s,a,l="";t.isObject(n)||(n={duration:(a=arguments)[2],easing:a[3],complete:a[4]}),t.isNumber(n.duration)||(n.duration=400),n.easing="function"==typeof n.easing?n.easing:Math[n.easing]||Math.easeInOutSine,n.curAnim=t.merge(i),t.objectEach(i,(function(a,c){t.stop(e,c),s=new t.Fx(e,n,c),o=null,"d"===c?(s.paths=s.initPath(e,e.d,i.d),s.toD=i.d,r=0,o=1):e.attr?r=e.attr(c):(r=parseFloat(t.getStyle(e,c))||0,"opacity"!==c&&(l="px")),o||(o=a),o&&o.match&&o.match("px")&&(o=o.replace(/px/g,"")),s.run(r,o,l)}))},t.seriesType=function(e,i,n,r,o){var s=t.getOptions(),a=t.seriesTypes;return s.plotOptions[e]=t.merge(s.plotOptions[i],n),a[e]=t.extendClass(a[i]||function(){},r),a[e].prototype.type=e,o&&(a[e].prototype.pointClass=t.extendClass(t.Point,o)),a[e]},t.uniqueKey=(e=Math.random().toString(36).substring(2,9),i=0,function(){return"highcharts-"+e+"-"+i++}),o.jQuery&&(o.jQuery.fn.highcharts=function(){var e=[].slice.call(arguments);if(this[0])return e[0]?(new(t[t.isString(e[0])?e.shift():"Chart"])(this[0],e[0],e[1]),this):n[t.attr(this[0],"data-highcharts-chart")]})}(m),u=(c=m).each,h=c.isNumber,d=c.map,p=c.merge,f=c.pInt,c.Color=function(t){if(!(this instanceof c.Color))return new c.Color(t);this.init(t)},c.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[f(t[1]),f(t[2]),f(t[3]),parseFloat(t[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[f(t[1]),f(t[2]),f(t[3]),1]}}],names:{none:"rgba(255,255,255,0)",white:"#ffffff",black:"#000000"},init:function(t){var e,i,n,r,o;if(this.input=t=this.names[t&&t.toLowerCase?t.toLowerCase():""]||t,t&&t.stops)this.stops=d(t.stops,(function(t){return new c.Color(t[1])}));else if(t&&t.charAt&&"#"===t.charAt()&&(o=t.length,t=parseInt(t.substr(1),16),7===o?i=[(16711680&t)>>16,(65280&t)>>8,255&t,1]:4===o&&(i=[(3840&t)>>4|(3840&t)>>8,(240&t)>>4|240&t,(15&t)<<4|15&t,1])),!i)for(n=this.parsers.length;n--&&!i;)(e=(r=this.parsers[n]).regex.exec(t))&&(i=r.parse(e));this.rgba=i||[]},get:function(t){var e,i=this.input,n=this.rgba;return this.stops?((e=p(i)).stops=[].concat(e.stops),u(this.stops,(function(i,n){e.stops[n]=[e.stops[n][0],i.get(t)]}))):e=n&&h(n[0])?"rgb"===t||!t&&1===n[3]?"rgb("+n[0]+","+n[1]+","+n[2]+")":"a"===t?n[3]:"rgba("+n.join(",")+")":i,e},brighten:function(t){var e,i=this.rgba;if(this.stops)u(this.stops,(function(e){e.brighten(t)}));else if(h(t)&&0!==t)for(e=0;e<3;e++)i[e]+=f(255*t),i[e]<0&&(i[e]=0),i[e]>255&&(i[e]=255);return this},setOpacity:function(t){return this.rgba[3]=t,this},tweenTo:function(t,e){var i,n=this.rgba,r=t.rgba;return r.length&&n&&n.length?((i=1!==r[3]||1!==n[3])?"rgba(":"rgb(")+Math.round(r[0]+(n[0]-r[0])*(1-e))+","+Math.round(r[1]+(n[1]-r[1])*(1-e))+","+Math.round(r[2]+(n[2]-r[2])*(1-e))+(i?","+(r[3]+(n[3]-r[3])*(1-e)):"")+")":t.input||"none"}},c.color=function(t){return new c.Color(t)},function(t){var e,i,n=t.addEvent,r=t.animate,o=t.attr,s=t.charts,a=t.color,l=t.css,c=t.createElement,u=t.defined,h=t.deg2rad,d=t.destroyObjectProperties,p=t.doc,f=t.each,m=t.extend,g=t.erase,v=t.grep,y=t.hasTouch,b=t.inArray,w=t.isArray,x=t.isFirefox,_=t.isMS,k=t.isObject,C=t.isString,S=t.isWebKit,T=t.merge,A=t.noop,E=t.objectEach,P=t.pick,M=t.pInt,L=t.removeEvent,O=(t.splat,t.stop),D=t.svg,I=t.SVG_NS,$=t.symbolSizes,N=t.win;e=t.SVGElement=function(){return this},m(e.prototype,{opacity:1,SVG_NS:I,textProps:["direction","fontSize","fontWeight","fontFamily","fontStyle","color","lineHeight","width","textAlign","textDecoration","textOverflow","textOutline"],init:function(t,e){this.element="span"===e?c(e):p.createElementNS(this.SVG_NS,e),this.renderer=t},animate:function(e,i,n){var o=t.animObject(P(i,this.renderer.globalAnimation,!0));return 0!==o.duration?(n&&(o.complete=n),r(this,e,o)):(this.attr(e,null,n),o.step&&o.step.call(this)),this},colorGradient:function(e,i,n){var r,o,s,a,l,c,h,d,p,m,g,v,y=this.renderer,b=[];e.radialGradient?o="radialGradient":e.linearGradient&&(o="linearGradient"),o&&(s=e[o],l=y.gradients,h=e.stops,m=n.radialReference,w(s)&&(e[o]=s={x1:s[0],y1:s[1],x2:s[2],y2:s[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===o&&m&&!u(s.gradientUnits)&&(a=s,s=T(s,y.getRadialAttr(m,a),{gradientUnits:"userSpaceOnUse"})),E(s,(function(t,e){"id"!==e&&b.push(e,t)})),E(h,(function(t){b.push(t)})),l[b=b.join(",")]?g=l[b].attr("id"):(s.id=g=t.uniqueKey(),l[b]=c=y.createElement(o).attr(s).add(y.defs),c.radAttr=a,c.stops=[],f(h,(function(e){var i;0===e[1].indexOf("rgba")?(r=t.color(e[1]),d=r.get("rgb"),p=r.get("a")):(d=e[1],p=1),i=y.createElement("stop").attr({offset:e[0],"stop-color":d,"stop-opacity":p}).add(c),c.stops.push(i)}))),v="url("+y.url+"#"+g+")",n.setAttribute(i,v),n.gradient=b,e.toString=function(){return v})},applyTextOutline:function(e){var i,n,r,s,a,l,c=this.element;if(-1!==e.indexOf("contrast")&&({}.textOutline=e=e.replace(/contrast/g,this.renderer.getContrast(c.style.fill))),e=e.split(" "),r=e[e.length-1],(s=e[0])&&"none"!==s&&t.svg){for(this.fakeTS=!0,i=[].slice.call(c.getElementsByTagName("tspan")),this.ySetter=this.xSetter,s=s.replace(/(^[\d\.]+)(.*?)$/g,(function(t,e,i){return 2*e+i})),l=i.length;l--;)"highcharts-text-outline"===(n=i[l]).getAttribute("class")&&g(i,c.removeChild(n));a=c.firstChild,f(i,(function(t,e){var i;0===e&&(t.setAttribute("x",c.getAttribute("x")),e=c.getAttribute("y"),t.setAttribute("y",e||0),null===e&&c.setAttribute("y",0)),i=t.cloneNode(1),o(i,{class:"highcharts-text-outline",fill:r,stroke:r,"stroke-width":s,"stroke-linejoin":"round"}),c.insertBefore(i,a)}))}},attr:function(t,e,i,n){var r,o,s,a,l=this.element,c=this;return"string"==typeof t&&void 0!==e&&(r=t,(t={})[r]=e),"string"==typeof t?c=(this[t+"Getter"]||this._defaultGetter).call(this,t,l):(E(t,(function(e,i){s=!1,n||O(this,i),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)$/.test(i)&&(o||(this.symbolAttr(t),o=!0),s=!0),!this.rotation||"x"!==i&&"y"!==i||(this.doTransform=!0),s||((a=this[i+"Setter"]||this._defaultSetter).call(this,e,i,l),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(i)&&this.updateShadows(i,e,a))}),this),this.afterSetters()),i&&i(),c},afterSetters:function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},updateShadows:function(t,e,i){for(var n=this.shadows,r=n.length;r--;)i.call(n[r],"height"===t?Math.max(e-(n[r].cutHeight||0),0):"d"===t?this.d:e,t,n[r])},addClass:function(t,e){var i=this.attr("class")||"";return-1===i.indexOf(t)&&(e||(t=(i+(i?" ":"")+t).replace("  "," ")),this.attr("class",t)),this},hasClass:function(t){return-1!==b(t,(this.attr("class")||"").split(" "))},removeClass:function(t){return this.attr("class",(this.attr("class")||"").replace(t,""))},symbolAttr:function(t){var e=this;f(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],(function(i){e[i]=P(t[i],e[i])})),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")},crisp:function(t,e){var i,n=this,r={};return e=e||t.strokeWidth||0,i=Math.round(e)%2/2,t.x=Math.floor(t.x||n.x||0)+i,t.y=Math.floor(t.y||n.y||0)+i,t.width=Math.floor((t.width||n.width||0)-2*i),t.height=Math.floor((t.height||n.height||0)-2*i),u(t.strokeWidth)&&(t.strokeWidth=e),E(t,(function(t,e){n[e]!==t&&(n[e]=r[e]=t)})),r},css:function(t){var e,i,n=this.styles,r={},s=this.element,a="",c=!n,u=["textOutline","textOverflow","width"];return t&&t.color&&(t.fill=t.color),n&&E(t,(function(t,e){t!==n[e]&&(r[e]=t,c=!0)})),c&&(n&&(t=m(n,r)),e=this.textWidth=t&&t.width&&"auto"!==t.width&&"text"===s.nodeName.toLowerCase()&&M(t.width),this.styles=t,e&&!D&&this.renderer.forExport&&delete t.width,_&&!D?l(this.element,t):(i=function(t,e){return"-"+e.toLowerCase()},E(t,(function(t,e){-1===b(e,u)&&(a+=e.replace(/([A-Z])/g,i)+":"+t+";")})),a&&o(s,"style",a)),this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),t&&t.textOutline&&this.applyTextOutline(t.textOutline))),this},strokeWidth:function(){return this["stroke-width"]||0},on:function(t,e){var i=this,n=i.element;return y&&"click"===t?(n.ontouchstart=function(t){i.touchEventFired=Date.now(),t.preventDefault(),e.call(n,t)},n.onclick=function(t){(-1===N.navigator.userAgent.indexOf("Android")||Date.now()-(i.touchEventFired||0)>1100)&&e.call(n,t)}):n["on"+t]=e,this},setRadialReference:function(t){var e=this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(t){var e=this;return e.inverted=t,e.updateTransform(),e},updateTransform:function(){var t,e=this,i=e.translateX||0,n=e.translateY||0,r=e.scaleX,o=e.scaleY,s=e.inverted,a=e.rotation,l=e.matrix,c=e.element;s&&(i+=e.width,n+=e.height),t=["translate("+i+","+n+")"],u(l)&&t.push("matrix("+l.join(",")+")"),s?t.push("rotate(90) scale(-1,1)"):a&&t.push("rotate("+a+" "+P(this.rotationOriginX,c.getAttribute("x"),0)+" "+P(this.rotationOriginY,c.getAttribute("y")||0)+")"),(u(r)||u(o))&&t.push("scale("+P(r,1)+" "+P(o,1)+")"),t.length&&c.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,i){var n,r,o,s,a,l,c,u={},h=this.renderer,d=h.alignedObjects;return t?(this.alignOptions=t,this.alignByTranslate=e,i&&!C(i)||(this.alignTo=a=i||"renderer",g(d,this),d.push(this),i=null)):(t=this.alignOptions,e=this.alignByTranslate,a=this.alignTo),i=P(i,h[a],h),n=t.align,r=t.verticalAlign,o=(i.x||0)+(t.x||0),s=(i.y||0)+(t.y||0),"right"===n?l=1:"center"===n&&(l=2),l&&(o+=(i.width-(t.width||0))/l),u[e?"translateX":"x"]=Math.round(o),"bottom"===r?c=1:"middle"===r&&(c=2),c&&(s+=(i.height-(t.height||0))/c),u[e?"translateY":"y"]=Math.round(s),this[this.placed?"animate":"attr"](u),this.placed=!0,this.alignAttr=u,this},getBBox:function(t,e){var i,n,r,o,s,a,l,c,d=this,p=d.renderer,g=d.element,v=d.styles,y=d.textStr,b=p.cache,w=p.cacheKeys;if(s=(o=P(e,d.rotation))*h,a=v&&v.fontSize,u(y)&&(-1===(c=y.toString()).indexOf("<")&&(c=c.replace(/[0-9]/g,"0")),c+=["",o||0,a,v&&v.width,v&&v.textOverflow].join(",")),c&&!t&&(i=b[c]),!i){if(g.namespaceURI===d.SVG_NS||p.forExport){try{(l=this.fakeTS&&function(t){f(g.querySelectorAll(".highcharts-text-outline"),(function(e){e.style.display=t}))})&&l("none"),i=g.getBBox?m({},g.getBBox()):{width:g.offsetWidth,height:g.offsetHeight},l&&l("")}catch(t){}(!i||i.width<0)&&(i={width:0,height:0})}else i=d.htmlGetBBox();if(p.isSVG&&(n=i.width,r=i.height,v&&"11px"===v.fontSize&&17===Math.round(r)&&(i.height=r=14),o&&(i.width=Math.abs(r*Math.sin(s))+Math.abs(n*Math.cos(s)),i.height=Math.abs(r*Math.cos(s))+Math.abs(n*Math.sin(s)))),c&&i.height>0){for(;w.length>250;)delete b[w.shift()];b[c]||w.push(c),b[c]=i}}return i},show:function(t){return this.attr({visibility:t?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,i=this.renderer,n=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&i.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:i.box).appendChild(n),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t,e,i=this,n=i.element||{},r=i.renderer.isSVG&&"SPAN"===n.nodeName&&i.parentGroup,o=n.ownerSVGElement;if(n.onclick=n.onmouseout=n.onmouseover=n.onmousemove=n.point=null,O(i),i.clipPath&&o&&(f(o.querySelectorAll("[clip-path],[CLIP-PATH]"),(function(t){t.getAttribute("clip-path").match(RegExp('[("]#'+i.clipPath.element.id+'[)"]'))&&t.removeAttribute("clip-path")})),i.clipPath=i.clipPath.destroy()),i.stops){for(e=0;e<i.stops.length;e++)i.stops[e]=i.stops[e].destroy();i.stops=null}for(i.safeRemoveChild(n),i.destroyShadows();r&&r.div&&0===r.div.childNodes.length;)t=r.parentGroup,i.safeRemoveChild(r.div),delete r.div,r=t;return i.alignTo&&g(i.renderer.alignedObjects,i),E(i,(function(t,e){delete i[e]})),null},shadow:function(t,e,i){var n,r,s,a,l,c,u=[],h=this.element;if(t){if(!this.shadows){for(a=P(t.width,3),l=(t.opacity||.15)/a,c=this.parentInverted?"(-1,-1)":"("+P(t.offsetX,1)+", "+P(t.offsetY,1)+")",n=1;n<=a;n++)r=h.cloneNode(0),s=2*a+1-2*n,o(r,{isShadow:"true",stroke:t.color||"#000000","stroke-opacity":l*n,"stroke-width":s,transform:"translate"+c,fill:"none"}),i&&(o(r,"height",Math.max(o(r,"height")-s,0)),r.cutHeight=s),e?e.element.appendChild(r):h.parentNode&&h.parentNode.insertBefore(r,h),u.push(r);this.shadows=u}}else this.destroyShadows();return this},destroyShadows:function(){f(this.shadows||[],(function(t){this.safeRemoveChild(t)}),this),this.shadows=void 0},xGetter:function(t){return"circle"===this.element.nodeName&&("x"===t?t="cx":"y"===t&&(t="cy")),this._defaultGetter(t)},_defaultGetter:function(t){var e=P(this[t],this.element?this.element.getAttribute(t):null,0);return/^[\-0-9\.]+$/.test(e)&&(e=parseFloat(e)),e},dSetter:function(t,e,i){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),
this[e]!==t&&(i.setAttribute(e,t),this[e]=t)},dashstyleSetter:function(t){var e,i=this["stroke-width"];if("inherit"===i&&(i=1),t=t&&t.toLowerCase()){for(e=(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",")).length;e--;)t[e]=M(t[e])*i;t=t.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){var e={left:"start",center:"middle",right:"end"};this.element.setAttribute("text-anchor",e[t])},opacitySetter:function(t,e,i){this[e]=t,i.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=p.createElementNS(this.SVG_NS,"title"),this.element.appendChild(e)),e.firstChild&&e.removeChild(e.firstChild),e.appendChild(p.createTextNode(String(P(t),"").replace(/<[^>]*>/g,"")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,i){"string"==typeof t?i.setAttribute(e,t):t&&this.colorGradient(t,e,i)},visibilitySetter:function(t,e,i){"inherit"===t?i.removeAttribute(e):this[e]!==t&&i.setAttribute(e,t),this[e]=t},zIndexSetter:function(t,e){var i,n,r,o,s,a,l=this.renderer,c=this.parentGroup,h=(c||l).element||l.box,d=this.element,p=h===l.box,f=this.added;if(u(t)&&(d.zIndex=t,t=+t,this[e]===t&&(f=!1),this[e]=t),f){for((t=this.zIndex)&&c&&(c.handleZ=!0),a=(i=h.childNodes).length-1;a>=0&&!o;a--)r=(n=i[a]).zIndex,s=!u(r),n!==d&&(t<0&&s&&!p&&!a?(h.insertBefore(d,i[a]),o=!0):(M(r)<=t||s&&(!u(t)||t>=0))&&(h.insertBefore(d,i[a+1]||null),o=!0));o||(h.insertBefore(d,i[p?3:0]||null),o=!0)}return o},_defaultSetter:function(t,e,i){i.setAttribute(e,t)}}),e.prototype.yGetter=e.prototype.xGetter,e.prototype.translateXSetter=e.prototype.translateYSetter=e.prototype.rotationSetter=e.prototype.verticalAlignSetter=e.prototype.rotationOriginXSetter=e.prototype.rotationOriginYSetter=e.prototype.scaleXSetter=e.prototype.scaleYSetter=e.prototype.matrixSetter=function(t,e){this[e]=t,this.doTransform=!0},e.prototype["stroke-widthSetter"]=e.prototype.strokeSetter=function(t,i,n){this[i]=t,this.stroke&&this["stroke-width"]?(e.prototype.fillSetter.call(this,this.stroke,"stroke",n),n.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===i&&0===t&&this.hasStroke&&(n.removeAttribute("stroke"),this.hasStroke=!1)},i=t.SVGRenderer=function(){this.init.apply(this,arguments)},m(i.prototype,{Element:e,SVG_NS:I,init:function(t,e,i,r,s,a){var c,u,h,d,f=this;u=(c=f.createElement("svg").attr({version:"1.1",class:"highcharts-root"}).css(this.getStyle(r))).element,t.appendChild(u),o(t,"dir","ltr"),-1===t.innerHTML.indexOf("xmlns")&&o(u,"xmlns",this.SVG_NS),f.isSVG=!0,this.box=u,this.boxWrapper=c,f.alignedObjects=[],this.url=(x||S)&&p.getElementsByTagName("base").length?N.location.href.replace(/#.*?$/,"").replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(p.createTextNode("Created with Highcharts 6.0.3")),f.defs=this.createElement("defs").add(),f.allowHTML=a,f.forExport=s,f.gradients={},f.cache={},f.cacheKeys=[],f.imgCount=0,f.setSize(e,i,!1),x&&t.getBoundingClientRect&&((h=function(){l(t,{left:0,top:0}),d=t.getBoundingClientRect(),l(t,{left:Math.ceil(d.left)-d.left+"px",top:Math.ceil(d.top)-d.top+"px"})})(),f.unSubPixelFix=n(N,"resize",h))},getStyle:function(t){return this.style=m({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t),this.style},setStyle:function(t){this.boxWrapper.css(this.getStyle(t))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this,e=t.defs;return t.box=null,t.boxWrapper=t.boxWrapper.destroy(),d(t.gradients||{}),t.gradients=null,e&&(t.defs=e.destroy()),t.unSubPixelFix&&t.unSubPixelFix(),t.alignedObjects=null,null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:A,getRadialAttr:function(t,e){return{cx:t[0]-t[2]/2+e.cx*t[2],cy:t[1]-t[2]/2+e.cy*t[2],r:e.r*t[2]}},getSpanWidth:function(t,e){var i=this,n=t.getBBox(!0).width;return!D&&i.forExport&&(n=i.measureSpanWidth(e.firstChild.data,t.styles)),n},applyEllipsis:function(t,e,i,n){var r,o,s,a=this,l=t.rotation,c=0,u=i.length,h=function(t){e.removeChild(e.firstChild),t&&e.appendChild(p.createTextNode(t))};if(t.rotation=0,s=(o=a.getSpanWidth(t,e))>n){for(;c<=u;)r=Math.ceil((c+u)/2),h(i.substring(0,r)+"\u2026"),o=a.getSpanWidth(t,e),c===u?c=u+1:o>n?u=r-1:c=r;0===u&&h("")}return t.rotation=l,s},escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot"},buildText:function(t){var e,i,n,r,s,a,c,u=t.element,h=this,d=h.forExport,m=P(t.textStr,"").toString(),g=-1!==m.indexOf("<"),y=u.childNodes,b=o(u,"x"),w=t.styles,x=t.textWidth,_=w&&w.lineHeight,k=w&&w.textOutline,C=w&&"ellipsis"===w.textOverflow,S=w&&"nowrap"===w.whiteSpace,T=w&&w.fontSize,A=y.length,L=x&&!t.added&&this.box,O=function(t){var e;return e=/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:T||h.style.fontSize||12,_?M(_):h.fontMetrics(e,t.getAttribute("style")?t:u).h},$=function(t){return E(h.escapes,(function(e,i){t=t.replace(new RegExp(e,"g"),i)})),t};if((a=[m,C,S,_,k,T,x].join(","))!==t.textCache){for(t.textCache=a;A--;)u.removeChild(y[A]);g||k||C||x||-1!==m.indexOf(" ")?(i=/<.*class="([^"]+)".*>/,n=/<.*style="([^"]+)".*>/,r=/<.*href="([^"]+)".*>/,L&&L.appendChild(u),e=g?m.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[m],e=v(e,(function(t){return""!==t})),f(e,(function(e,a){var m,g=0;e=e.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),m=e.split("|||"),f(m,(function(e){if(""!==e||1===m.length){var f,v,y={},w=p.createElementNS(h.SVG_NS,"tspan");if(i.test(e)&&(f=e.match(i)[1],o(w,"class",f)),n.test(e)&&(v=e.match(n)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),o(w,"style",v)),r.test(e)&&!d&&(o(w,"onclick",'location.href="'+e.match(r)[1]+'"'),o(w,"class","highcharts-anchor"),l(w,{cursor:"pointer"}))," "!==(e=$(e.replace(/<[a-zA-Z\/](.|\n)*?>/g,"")||" "))){if(w.appendChild(p.createTextNode(e)),g?y.dx=0:a&&null!==b&&(y.x=b),o(w,y),u.appendChild(w),!g&&c&&(!D&&d&&l(w,{display:"block"}),o(w,"dy",O(w))),x){var _,k,T=e.replace(/([^\^])-/g,"$1- ").split(" "),A=m.length>1||a||T.length>1&&!S,E=[],P=O(w),M=t.rotation;for(C&&(s=h.applyEllipsis(t,w,e,x));!C&&A&&(T.length||E.length);)t.rotation=0,_=(k=h.getSpanWidth(t,w))>x,void 0===s&&(s=_),_&&1!==T.length?(w.removeChild(w.firstChild),E.unshift(T.pop())):(T=E,E=[],T.length&&!S&&(w=p.createElementNS(I,"tspan"),o(w,{dy:P,x:b}),v&&o(w,"style",v),u.appendChild(w)),k>x&&(x=k)),T.length&&w.appendChild(p.createTextNode(T.join(" ").replace(/- /g,"-")));t.rotation=M}g++}}})),c=c||u.childNodes.length})),s&&t.attr("title",t.textStr),L&&L.removeChild(u),k&&t.applyTextOutline&&t.applyTextOutline(k)):u.appendChild(p.createTextNode($(m)))}},getContrast:function(t){return(t=a(t).rgba)[0]+t[1]+t[2]>510?"#000000":"#FFFFFF"},button:function(t,e,i,r,o,s,a,l,c){var u,h,d,p,f=this.label(t,e,i,c,null,null,null,null,"button"),g=0;return f.attr(T({padding:8,r:2},o)),o=T({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},o),u=o.style,delete o.style,s=T(o,{fill:"#e6e6e6"},s),h=s.style,delete s.style,a=T(o,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},a),d=a.style,delete a.style,l=T(o,{style:{color:"#cccccc"}},l),p=l.style,delete l.style,n(f.element,_?"mouseover":"mouseenter",(function(){3!==g&&f.setState(1)})),n(f.element,_?"mouseout":"mouseleave",(function(){3!==g&&f.setState(g)})),f.setState=function(t){1!==t&&(f.state=g=t),f.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t||0]),f.attr([o,s,a,l][t||0]).css([u,h,d,p][t||0])},f.attr(o).css(m({cursor:"default"},u)),f.on("click",(function(t){3!==g&&r.call(f,t)}))},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=Math.round(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=Math.round(t[2])+e%2/2),t},path:function(t){var e={fill:"none"};return w(t)?e.d=t:k(t)&&m(e,t),this.createElement("path").attr(e)},circle:function(t,e,i){var n=k(t)?t:{x:t,y:e,r:i},r=this.createElement("circle");return r.xSetter=r.ySetter=function(t,e,i){i.setAttribute("c"+e,t)},r.attr(n)},arc:function(t,e,i,n,r,o){var s,a;return k(t)?(e=(a=t).y,i=a.r,n=a.innerR,r=a.start,o=a.end,t=a.x):a={innerR:n,start:r,end:o},(s=this.symbol("arc",t,e,i,i,a)).r=i,s},rect:function(t,e,i,n,r,s){r=k(t)?t.r:r;var a=this.createElement("rect"),l=k(t)?t:void 0===t?{}:{x:t,y:e,width:Math.max(i,0),height:Math.max(n,0)};return void 0!==s&&(l.strokeWidth=s,l=a.crisp(l)),l.fill="none",r&&(l.r=r),a.rSetter=function(t,e,i){o(i,{rx:t,ry:t})},a.attr(l)},setSize:function(t,e,i){var n=this,r=n.alignedObjects,o=r.length;for(n.width=t,n.height=e,n.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:P(i,!0)?void 0:0});o--;)r[o].align()},g:function(t){var e=this.createElement("g");return t?e.attr({class:"highcharts-"+t}):e},image:function(t,e,i,n,r){var o,s={preserveAspectRatio:"none"};return arguments.length>1&&m(s,{x:e,y:i,width:n,height:r}),(o=this.createElement("image").attr(s)).element.setAttributeNS?o.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):o.element.setAttribute("hc-svg-href",t),o},symbol:function(t,e,i,n,r,o){var a,h,d,g=this,v=/^url\((.*?)\)$/,y=v.test(t),b=!y&&(this.symbols[t]?t:"circle"),w=b&&this.symbols[b],x=u(e)&&w&&w.call(this.symbols,Math.round(e),Math.round(i),n,r,o);return w?((a=this.path(x)).attr("fill","none"),m(a,{symbolName:b,x:e,y:i,width:n,height:r}),o&&m(a,o)):y&&(h=t.match(v)[1],(a=this.image(h)).imgwidth=P($[h]&&$[h].width,o&&o.width),a.imgheight=P($[h]&&$[h].height,o&&o.height),d=function(){a.attr({width:a.width,height:a.height})},f(["width","height"],(function(t){a[t+"Setter"]=function(t,e){var i={},n=this["img"+e],r="width"===e?"translateX":"translateY";this[e]=t,u(n)&&(this.element&&this.element.setAttribute(e,n),this.alignByTranslate||(i[r]=((this[e]||0)-n)/2,this.attr(i)))}})),u(e)&&a.attr({x:e,y:i}),a.isImg=!0,u(a.imgwidth)&&u(a.imgheight)?d():(a.attr({width:0,height:0}),c("img",{onload:function(){var t=s[g.chartIndex];0===this.width&&(l(this,{position:"absolute",top:"-999em"}),p.body.appendChild(this)),$[h]={width:this.width,height:this.height},a.imgwidth=this.width,a.imgheight=this.height,a.element&&d(),this.parentNode&&this.parentNode.removeChild(this),g.imgCount--,!g.imgCount&&t&&t.onload&&t.onload()},src:h}),this.imgCount++)),a},symbols:{circle:function(t,e,i,n){return this.arc(t+i/2,e+n/2,i/2,n/2,{start:0,end:2*Math.PI,open:!1})},square:function(t,e,i,n){return["M",t,e,"L",t+i,e,t+i,e+n,t,e+n,"Z"]},triangle:function(t,e,i,n){return["M",t+i/2,e,"L",t+i,e+n,t,e+n,"Z"]},"triangle-down":function(t,e,i,n){return["M",t,e,"L",t+i,e,t+i/2,e+n,"Z"]},diamond:function(t,e,i,n){return["M",t+i/2,e,"L",t+i,e+n/2,t+i/2,e+n,t,e+n/2,"Z"]},arc:function(t,e,i,n,r){var o,s=r.start,a=r.r||i,l=r.r||n||i,c=.001,h=Math.abs(r.end-r.start-2*Math.PI)<c,d=r.end-c,p=r.innerR,f=P(r.open,h),m=Math.cos(s),g=Math.sin(s),v=Math.cos(d),y=Math.sin(d),b=r.end-s-Math.PI<c?0:1;return o=["M",t+a*m,e+l*g,"A",a,l,0,b,1,t+a*v,e+l*y],u(p)&&o.push(f?"M":"L",t+p*v,e+p*y,"A",p,p,0,b,0,t+p*m,e+p*g),o.push(f?"":"Z"),o},callout:function(t,e,i,n,r){var o,s=6,a=6,l=Math.min(r&&r.r||0,i,n),c=l+a,u=r&&r.anchorX,h=r&&r.anchorY;return o=["M",t+l,e,"L",t+i-l,e,"C",t+i,e,t+i,e,t+i,e+l,"L",t+i,e+n-l,"C",t+i,e+n,t+i,e+n,t+i-l,e+n,"L",t+l,e+n,"C",t,e+n,t,e+n,t,e+n-l,"L",t,e+l,"C",t,e,t,e,t+l,e],u&&u>i?h>e+c&&h<e+n-c?o.splice(13,3,"L",t+i,h-a,t+i+s,h,t+i,h+a,t+i,e+n-l):o.splice(13,3,"L",t+i,n/2,u,h,t+i,n/2,t+i,e+n-l):u&&u<0?h>e+c&&h<e+n-c?o.splice(33,3,"L",t,h+a,t-s,h,t,h-a,t,e+l):o.splice(33,3,"L",t,n/2,u,h,t,n/2,t,e+l):h&&h>n&&u>t+c&&u<t+i-c?o.splice(23,3,"L",u+a,e+n,u,e+n+s,u-a,e+n,t+l,e+n):h&&h<0&&u>t+c&&u<t+i-c&&o.splice(3,3,"L",u-a,e,u,e-s,u+a,e,i-l,e),o}},clipRect:function(e,i,n,r){var o,s=t.uniqueKey(),a=this.createElement("clipPath").attr({id:s}).add(this.defs);return(o=this.rect(e,i,n,r,0).add(a)).id=s,o.clipPath=a,o.count=0,o},text:function(t,e,i,n){var r,o=this,s={};return!n||!o.allowHTML&&o.forExport?(s.x=Math.round(e||0),i&&(s.y=Math.round(i)),(t||0===t)&&(s.text=t),r=o.createElement("text").attr(s),n||(r.xSetter=function(t,e,i){var n,r,o=i.getElementsByTagName("tspan"),s=i.getAttribute(e);for(r=0;r<o.length;r++)(n=o[r]).getAttribute(e)===s&&n.setAttribute(e,t);i.setAttribute(e,t)}),r):o.html(t,e,i)},fontMetrics:function(t,e){var i;return t=t||e&&e.style&&e.style.fontSize||this.style&&this.style.fontSize,{h:i=(t=/px/.test(t)?M(t):/em/.test(t)?parseFloat(t)*(e?this.fontMetrics(null,e.parentNode).f:16):12)<24?t+3:Math.round(1.2*t),b:Math.round(.8*i),f:t}},rotCorr:function(t,e,i){var n=t;return e&&i&&(n=Math.max(n*Math.cos(e*h),4)),{x:-t/3*Math.sin(e*h),y:n}},label:function(i,n,r,o,s,a,l,c,h){var d,p,g,v,y,b,w,x,_,k,C,S,A,E=this,P=E.g("button"!==h&&"label"),M=P.text=E.text("",0,0,l).attr({zIndex:1}),O=0,D=3,I=0,$={},N=/^url\((.*?)\)$/.test(o),z=N;h&&P.addClass("highcharts-"+h),z=N,k=function(){return(x||0)%2/2},C=function(){var t,e=M.element.style,i={};p=(void 0===g||void 0===v||w)&&u(M.textStr)&&M.getBBox(),P.width=(g||p.width||0)+2*D+I,P.height=(v||p.height||0)+2*D,_=D+E.fontMetrics(e&&e.fontSize,M).b,z&&(d||(P.box=d=E.symbols[o]||N?E.symbol(o):E.rect(),d.addClass(("button"===h?"":"highcharts-label-box")+(h?" highcharts-"+h+"-box":"")),d.add(P),t=k(),i.x=t,i.y=(c?-_:0)+t),i.width=Math.round(P.width),i.height=Math.round(P.height),d.attr(m(i,$)),$={})},S=function(){var t,e=I+D;t=c?0:_,u(g)&&p&&("center"===w||"right"===w)&&(e+={center:.5,right:1}[w]*(g-p.width)),e===M.x&&t===M.y||(M.attr("x",e),void 0!==t&&M.attr("y",t)),M.x=e,M.y=t},A=function(t,e){d?d.attr(t,e):$[t]=e},P.onAdd=function(){M.add(P),P.attr({text:i||0===i?i:"",x:n,y:r}),d&&u(s)&&P.attr({anchorX:s,anchorY:a})},P.widthSetter=function(e){g=t.isNumber(e)?e:null},P.heightSetter=function(t){v=t},P["text-alignSetter"]=function(t){w=t},P.paddingSetter=function(t){u(t)&&t!==D&&(D=P.padding=t,S())},P.paddingLeftSetter=function(t){u(t)&&t!==I&&(I=t,S())},P.alignSetter=function(t){(t={left:0,center:.5,right:1}[t])!==O&&(O=t,p&&P.attr({x:y}))},P.textSetter=function(t){void 0!==t&&M.textSetter(t),C(),S()},P["stroke-widthSetter"]=function(t,e){t&&(z=!0),x=this["stroke-width"]=t,A(e,t)},P.strokeSetter=P.fillSetter=P.rSetter=function(t,e){"r"!==e&&("fill"===e&&t&&(z=!0),P[e]=t),A(e,t)},P.anchorXSetter=function(t,e){s=P.anchorX=t,A(e,Math.round(t)-k()-y)},P.anchorYSetter=function(t,e){a=P.anchorY=t,A(e,t-b)},P.xSetter=function(t){P.x=t,O&&(t-=O*((g||p.width)+2*D)),y=Math.round(t),P.attr("translateX",y)},P.ySetter=function(t){b=P.y=Math.round(t),P.attr("translateY",b)};var j=P.css;return m(P,{css:function(t){if(t){var e={};t=T(t),f(P.textProps,(function(i){void 0!==t[i]&&(e[i]=t[i],delete t[i])})),M.css(e)}return j.call(P,t)},getBBox:function(){return{width:p.width+2*D,height:p.height+2*D,x:p.x-D,y:p.y-D}},shadow:function(t){return t&&(C(),d&&d.shadow(t)),P},destroy:function(){L(P.element,"mouseenter"),L(P.element,"mouseleave"),M&&(M=M.destroy()),d&&(d=d.destroy()),e.prototype.destroy.call(P),P=E=C=S=A=null}})}}),t.Renderer=i}(m),function(t){var e=t.attr,i=t.createElement,n=t.css,r=t.defined,o=t.each,s=t.extend,a=t.isFirefox,l=t.isMS,c=t.isWebKit,u=t.pick,h=t.pInt,d=t.SVGElement,p=t.SVGRenderer,f=t.win,m=t.wrap;s(d.prototype,{htmlCss:function(t){var e=this,i=e.element,r=t&&"SPAN"===i.tagName&&t.width;return r&&(delete t.width,e.textWidth=r,e.updateTransform()),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),e.styles=s(e.styles,t),n(e.element,t),e},htmlGetBBox:function(){var t=this.element;return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var t=this,e=t.renderer,i=t.element,s=t.translateX||0,a=t.translateY||0,l=t.x||0,u=t.y||0,d=t.textAlign||"left",p={left:0,center:.5,right:1}[d],f=t.styles;if(n(i,{marginLeft:s,marginTop:a}),t.shadows&&o(t.shadows,(function(t){n(t,{marginLeft:s+1,marginTop:a+1})})),t.inverted&&o(i.childNodes,(function(t){e.invertChild(t,i)})),"SPAN"===i.tagName){var m,g=t.rotation,v=h(t.textWidth),y=f&&f.whiteSpace,b=[g,d,i.innerHTML,t.textWidth,t.textAlign].join(",");b!==t.cTT&&(m=e.fontMetrics(i.style.fontSize).b,r(g)&&t.setSpanRotation(g,p,m),n(i,{width:"",whiteSpace:y||"nowrap"}),i.offsetWidth>v&&/[ \-]/.test(i.textContent||i.innerText)&&n(i,{width:v+"px",display:"block",whiteSpace:y||"normal"}),t.getSpanCorrection(i.offsetWidth,m,p,g,d)),n(i,{left:l+(t.xCorr||0)+"px",top:u+(t.yCorr||0)+"px"}),c&&(m=i.offsetHeight),t.cTT=b}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,i){var r={},o=this.renderer.getTransformKey();r[o]=r.transform="rotate("+t+"deg)",r[o+(a?"Origin":"-origin")]=r.transformOrigin=100*e+"% "+i+"px",n(this.element,r)},getSpanCorrection:function(t,e,i){this.xCorr=-t*i,this.yCorr=-e}}),s(p.prototype,{getTransformKey:function(){return l&&!/Edge/.test(f.navigator.userAgent)?"-ms-transform":c?"-webkit-transform":a?"MozTransform":f.opera?"-o-transform":""},html:function(t,n,r){var a=this.createElement("span"),c=a.element,h=a.renderer,d=h.isSVG,p=function(t,e){o(["opacity","visibility"],(function(i){m(t,i+"Setter",(function(t,i,n,r){t.call(this,i,n,r),e[n]=i}))}))};return a.textSetter=function(t){t!==c.innerHTML&&delete this.bBox,this.textStr=t,c.innerHTML=u(t,""),a.htmlUpdateTransform()},d&&p(a,a.element.style),a.xSetter=a.ySetter=a.alignSetter=a.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),a[e]=t,a.htmlUpdateTransform()},a.attr({text:t,x:Math.round(n),y:Math.round(r)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:"absolute"}),c.style.whiteSpace="nowrap",a.css=a.htmlCss,d&&(a.add=function(t){var n,r,u=h.box.parentNode,d=[];if(this.parentGroup=t,t){if(!(n=t.div)){for(r=t;r;)d.push(r),r=r.parentGroup;o(d.reverse(),(function(t){function r(e,i){t[i]=e,l?o[h.getTransformKey()]="translate("+(t.x||t.translateX)+"px,"+(t.y||t.translateY)+"px)":"translateX"===i?o.left=e+"px":o.top=e+"px",t.doTransform=!0}var o,c=e(t.element,"class");c&&(c={className:c}),n=t.div=t.div||i("div",c,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px",display:t.display,opacity:t.opacity,pointerEvents:t.styles&&t.styles.pointerEvents},n||u),o=n.style,s(t,{classSetter:function(t){this.element.setAttribute("class",t),n.className=t},on:function(){return d[0].div&&a.on.apply({element:d[0].div},arguments),t},translateXSetter:r,translateYSetter:r}),p(t,o)}))}}else n=u;return n.appendChild(c),a.added=!0,a.alignOnAdd&&a.htmlUpdateTransform(),a}),a}})}(m),function(t){function e(){var e=t.defaultOptions.global,i=c.moment;if(e.timezone){if(i)return function(t){return-i.tz(t,e.timezone).utcOffset()};t.error(25)}return e.useUTC&&e.getTimezoneOffset}function i(){var i,n,o=t.defaultOptions.global,s=o.useUTC,l=s?"getUTC":"get",u=s?"setUTC":"set",h=["Minutes","Hours","Day","Date","Month","FullYear"],d=h.concat(["Milliseconds","Seconds"]);for(t.Date=i=o.Date||c.Date,i.hcTimezoneOffset=s&&o.timezoneOffset,i.hcGetTimezoneOffset=e(),i.hcMakeTime=function(t,e,n,o,l,c){var u;return s?(u=i.UTC.apply(0,arguments),u+=r(u)):u=new i(t,e,a(n,1),a(o,0),a(l,0),a(c,0)).getTime(),u},n=0;n<h.length;n++)i["hcGet"+h[n]]=l+h[n];for(n=0;n<d.length;n++)i["hcSet"+d[n]]=u+d[n]}var n=t.color,r=t.getTZOffset,o=t.isTouchDevice,s=t.merge,a=t.pick,l=t.svg,c=t.win;t.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0},chart:{borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:l,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:o?25:10,backgroundColor:n("#f7f7f7").setOpacity(.85).get(),borderWidth:1,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}},t.setOptions=function(e){return t.defaultOptions=s(!0,t.defaultOptions,e),i(),t.defaultOptions},t.getOptions=function(){return t.defaultOptions},t.defaultPlotOptions=t.defaultOptions.plotOptions,i()}(m),function(t){var e=t.correctFloat,i=t.defined,n=t.destroyObjectProperties,r=t.isNumber,o=t.merge,s=t.pick,a=t.deg2rad;t.Tick=function(t,e,i,n){this.axis=t,this.pos=e,this.type=i||"",this.isNew=!0,this.isNewLabel=!0,i||n||this.addLabel()},t.Tick.prototype={addLabel:function(){var t,n,r=this,a=r.axis,l=a.options,c=a.chart,u=a.categories,h=a.names,d=r.pos,p=l.labels,f=a.tickPositions,m=d===f[0],g=d===f[f.length-1],v=u?s(u[d],h[d],d):d,y=r.label,b=f.info;a.isDatetimeAxis&&b&&(n=l.dateTimeLabelFormats[b.higherRanks[d]||b.unitName]),r.isFirst=m,r.isLast=g,t=a.labelFormatter.call({axis:a,chart:c,isFirst:m,isLast:g,dateTimeLabelFormat:n,value:a.isLog?e(a.lin2log(v)):v,pos:d}),i(y)?y&&y.attr({text:t}):(r.label=y=i(t)&&p.enabled?c.renderer.text(t,0,0,p.useHTML).css(o(p.style)).add(a.labelGroup):null,r.labelLength=y&&y.getBBox().width,r.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,i,n=this.axis,r=t.x,o=n.chart.chartWidth,l=n.chart.spacing,c=s(n.labelLeft,Math.min(n.pos,l[3])),u=s(n.labelRight,Math.max(n.pos+n.len,o-l[1])),h=this.label,d=this.rotation,p={left:0,center:.5,right:1}[n.labelAlign],f=h.getBBox().width,m=n.getSlotWidth(),g=m,v=p,y=1,b={};d?d<0&&r-p*f<c?i=Math.round(r/Math.cos(d*a)-c):d>0&&r+p*f>u&&(i=Math.round((o-r)/Math.cos(d*a))):(e=r+(1-p)*f,r-p*f<c?g=t.x+g*(1-p)-c:e>u&&(g=u-t.x+g*p,y=-1),(g=Math.min(m,g))<m&&"center"===n.labelAlign&&(t.x+=y*(m-g-v*(m-Math.min(f,g)))),(f>g||n.autoRotation&&(h.styles||{}).width)&&(i=g)),i&&(b.width=i,(n.options.labels.style||{}).textOverflow||(b.textOverflow="ellipsis"),h.css(b))},getPosition:function(t,e,i,n){var r=this.axis,o=r.chart,s=n&&o.oldChartHeight||o.chartHeight;return{x:t?r.translate(e+i,null,null,n)+r.transB:r.left+r.offset+(r.opposite?(n&&o.oldChartWidth||o.chartWidth)-r.right-r.left:0),y:t?s-r.bottom+r.offset-(r.opposite?r.height:0):s-r.translate(e+i,null,null,n)-r.transB}},getLabelPosition:function(t,e,n,r,o,s,l,c){var u,h=this.axis,d=h.transA,p=h.reversed,f=h.staggerLines,m=h.tickRotCorr||{x:0,y:0},g=o.y;return i(g)||(g=0===h.side?n.rotation?-8:-n.getBBox().height:2===h.side?m.y+8:Math.cos(n.rotation*a)*(m.y-n.getBBox(!1,0).height/2)),t=t+o.x+m.x-(s&&r?s*d*(p?-1:1):0),e=e+g-(s&&!r?s*d*(p?1:-1):0),f&&(u=l/(c||1)%f,h.opposite&&(u=f-u-1),e+=u*(h.labelOffset/f)),{x:t,y:Math.round(e)}},getMarkPath:function(t,e,i,n,r,o){return o.crispLine(["M",t,e,"L",t+(r?0:-i),e+(r?i:0)],n)},renderGridLine:function(t,e,i){var n,r=this,o=r.axis,s=o.options,a=r.gridLine,l={},c=r.pos,u=r.type,h=o.tickmarkOffset,d=o.chart.renderer,p=u?u+"Grid":"grid",f=s[p+"LineWidth"],m=s[p+"LineColor"],g=s[p+"LineDashStyle"];a||(l.stroke=m,l["stroke-width"]=f,g&&(l.dashstyle=g),u||(l.zIndex=1),t&&(l.opacity=0),r.gridLine=a=d.path().attr(l).addClass("highcharts-"+(u?u+"-":"")+"grid-line").add(o.gridGroup)),!t&&a&&(n=o.getPlotLinePath(c+h,a.strokeWidth()*i,t,!0))&&a[r.isNew?"attr":"animate"]({d:n,opacity:e})},renderMark:function(t,e,i){var n=this,r=n.axis,o=r.options,a=r.chart.renderer,l=n.type,c=l?l+"Tick":"tick",u=r.tickSize(c),h=n.mark,d=!h,p=t.x,f=t.y,m=s(o[c+"Width"],!l&&r.isXAxis?1:0),g=o[c+"Color"];u&&(r.opposite&&(u[0]=-u[0]),d&&(n.mark=h=a.path().addClass("highcharts-"+(l?l+"-":"")+"tick").add(r.axisGroup),h.attr({stroke:g,"stroke-width":m})),h[d?"attr":"animate"]({d:n.getMarkPath(p,f,u[0],h.strokeWidth()*i,r.horiz,a),opacity:e}))},renderLabel:function(t,e,i,n){var o=this,a=o.axis,l=a.horiz,c=a.options,u=o.label,h=c.labels,d=h.step,p=a.tickmarkOffset,f=!0,m=t.x,g=t.y;u&&r(m)&&(u.xy=t=o.getLabelPosition(m,g,u,l,h,p,n,d),o.isFirst&&!o.isLast&&!s(c.showFirstLabel,1)||o.isLast&&!o.isFirst&&!s(c.showLastLabel,1)?f=!1:!l||a.isRadial||h.step||h.rotation||e||0===i||o.handleOverflow(t),d&&n%d&&(f=!1),f&&r(t.y)?(t.opacity=i,u[o.isNewLabel?"attr":"animate"](t),o.isNewLabel=!1):(u.attr("y",-9999),o.isNewLabel=!0))},render:function(t,e,i){var n=this,r=n.axis,o=r.horiz,a=n.pos,l=r.tickmarkOffset,c=n.getPosition(o,a,l,e),u=c.x,h=c.y,d=o&&u===r.pos+r.len||!o&&h===r.pos?-1:1;i=s(i,1),this.isActive=!0,this.renderGridLine(e,i,d),this.renderMark(c,i,d),this.renderLabel(c,e,i,t),n.isNew=!1},destroy:function(){n(this,this.axis)}}}(m);var g=function(t){var e=t.addEvent,i=t.animObject,n=t.arrayMax,r=t.arrayMin,o=t.color,s=t.correctFloat,a=t.defaultOptions,l=t.defined,c=t.deg2rad,u=t.destroyObjectProperties,h=t.each,d=t.extend,p=t.fireEvent,f=t.format,m=t.getMagnitude,g=t.grep,v=t.inArray,y=t.isArray,b=t.isNumber,w=t.isString,x=t.merge,_=t.normalizeTickInterval,k=t.objectEach,C=t.pick,S=t.removeEvent,T=t.splat,A=t.syncTimeout,E=t.Tick,P=function(){this.init.apply(this,arguments)};return t.extend(P.prototype,{defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,labels:{enabled:!0,style:{color:"#666666",cursor:"default",fontSize:"11px"},x:0},maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",minPadding:.01,startOfWeek:1,startOnTick:!1,tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{allowOverlap:!1,enabled:!1,formatter:function(){return t.numberFormat(this.total,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"#000000",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(t,i){var n=i.isX,r=this;r.chart=t,r.horiz=t.inverted&&!r.isZAxis?!n:n,r.isXAxis=n,r.coll=r.coll||(n?"xAxis":"yAxis"),r.opposite=i.opposite,r.side=i.side||(r.horiz?r.opposite?0:2:r.opposite?1:3),r.setOptions(i);var o=this.options,s=o.type,a="datetime"===s;r.labelFormatter=o.labels.formatter||r.defaultLabelFormatter,r.userOptions=i,r.minPixelPadding=0,r.reversed=o.reversed,r.visible=!1!==o.visible,r.zoomEnabled=!1!==o.zoomEnabled,r.hasNames="category"===s||!0===o.categories,r.categories=o.categories||r.hasNames,r.names=r.names||[],r.plotLinesAndBandsGroups={},r.isLog="logarithmic"===s,r.isDatetimeAxis=a,r.positiveValuesOnly=r.isLog&&!r.allowNegativeLog,r.isLinked=l(o.linkedTo),r.ticks={},r.labelEdge=[],r.minorTicks={},r.plotLinesAndBands=[],r.alternateBands={},r.len=0,r.minRange=r.userMinRange=o.minRange||o.maxZoom,r.range=o.range,r.offset=o.offset||0,r.stacks={},r.oldStacks={},r.stacksTouched=0,r.max=null,r.min=null,r.crosshair=C(o.crosshair,T(t.options.tooltip.crosshairs)[n?0:1],!1);var c=r.options.events;-1===v(r,t.axes)&&(n?t.axes.splice(t.xAxis.length,0,r):t.axes.push(r),t[r.coll].push(r)),r.series=r.series||[],t.inverted&&!r.isZAxis&&n&&void 0===r.reversed&&(r.reversed=!0),k(c,(function(t,i){e(r,i,t)})),r.lin2log=o.linearToLogConverter||r.lin2log,r.isLog&&(r.val2lin=r.log2lin,r.lin2val=r.lin2log)},setOptions:function(t){this.options=x(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],x(a[this.coll],t))},defaultLabelFormatter:function(){var e,i,n=this.axis,r=this.value,o=n.categories,s=this.dateTimeLabelFormat,l=a.lang,c=l.numericSymbols,u=l.numericSymbolMagnitude||1e3,h=c&&c.length,d=n.options.labels.format,p=n.isLog?Math.abs(r):n.tickInterval;if(d)i=f(d,this);else if(o)i=r;else if(s)i=t.dateFormat(s,r);else if(h&&p>=1e3)for(;h--&&void 0===i;)p>=(e=Math.pow(u,h+1))&&10*r%e==0&&null!==c[h]&&0!==r&&(i=t.numberFormat(r/e,-1)+c[h]);return void 0===i&&(i=Math.abs(r)>=1e4?t.numberFormat(r,-1):t.numberFormat(r,-1,void 0,"")),i},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.buildStacks&&t.buildStacks(),h(t.series,(function(i){if(i.visible||!e.options.chart.ignoreHiddenSeries){var o,s,a,c=i.options,u=c.threshold;t.hasVisibleSeries=!0,t.positiveValuesOnly&&u<=0&&(u=null),t.isXAxis?(o=i.xData).length&&(s=r(o),a=n(o),b(s)||s instanceof Date||(o=g(o,b),s=r(o)),t.dataMin=Math.min(C(t.dataMin,o[0],s),s),t.dataMax=Math.max(C(t.dataMax,o[0],a),a)):(i.getExtremes(),a=i.dataMax,s=i.dataMin,l(s)&&l(a)&&(t.dataMin=Math.min(C(t.dataMin,s),s),t.dataMax=Math.max(C(t.dataMax,a),a)),l(u)&&(t.threshold=u),c.softThreshold&&!t.positiveValuesOnly||(t.softThreshold=!1))}}))},translate:function(t,e,i,n,r,o){var s,a=this.linkedParent||this,l=1,c=0,u=n?a.oldTransA:a.transA,h=n?a.oldMin:a.min,d=a.minPixelPadding,p=(a.isOrdinal||a.isBroken||a.isLog&&r)&&a.lin2val;return u||(u=a.transA),i&&(l*=-1,c=a.len),a.reversed&&(c-=(l*=-1)*(a.sector||a.len)),e?(t=t*l+c,s=(t-=d)/u+h,p&&(s=a.lin2val(s))):(p&&(t=a.val2lin(t)),s=b(h)?l*(t-h)*u+c+l*d+(b(o)?u*o:0):void 0),s},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,i,n,r){var o,s,a,l,c,u=this,h=u.chart,d=u.left,p=u.top,f=i&&h.oldChartHeight||h.chartHeight,m=i&&h.oldChartWidth||h.chartWidth,g=u.transB,v=function(t,e,i){return(t<e||t>i)&&(n?t=Math.min(Math.max(e,t),i):c=!0),t};return r=C(r,u.translate(t,null,null,i)),o=a=Math.round(r+g),s=l=Math.round(f-r-g),b(r)?u.horiz?(s=p,l=f-u.bottom,o=a=v(o,d,d+u.width)):(o=d,a=m-u.right,s=l=v(s,p,p+u.height)):(c=!0,n=!1),c&&!n?null:h.renderer.crispLine(["M",o,s,"L",a,l],e||1)},getLinearTickPositions:function(t,e,i){var n,r,o,a=s(Math.floor(e/t)*t),l=s(Math.ceil(i/t)*t),c=[];if(s(a+t)===a&&(o=20),this.single)return[e];for(n=a;n<=l&&(c.push(n),(n=s(n+t,o))!==r);)r=n;return c},getMinorTickInterval:function(){var t=this.options
;return!0===t.minorTicks?C(t.minorTickInterval,"auto"):!1===t.minorTicks?null:t.minorTickInterval},getMinorTickPositions:function(){var t,e=this,i=e.options,n=e.tickPositions,r=e.minorTickInterval,o=[],s=e.pointRangePadding||0,a=e.min-s,l=e.max+s,c=l-a;if(c&&c/r<e.len/3)if(e.isLog)h(this.paddedTicks,(function(t,i,n){i&&o.push.apply(o,e.getLogTickPositions(r,n[i-1],n[i],!0))}));else if(e.isDatetimeAxis&&"auto"===this.getMinorTickInterval())o=o.concat(e.getTimeTicks(e.normalizeTimeTickInterval(r),a,l,i.startOfWeek));else for(t=a+(n[0]-a)%r;t<=l&&t!==o[0];t+=r)o.push(t);return 0!==o.length&&e.trimTicks(o),o},adjustForMinRange:function(){var t,e,i,o,s,a,c,u,d,p,f=this,m=f.options,g=f.min,v=f.max;f.isXAxis&&void 0===f.minRange&&!f.isLog&&(l(m.min)||l(m.max)?f.minRange=null:(h(f.series,(function(t){for(a=t.xData,c=t.xIncrement?1:a.length-1,o=c;o>0;o--)s=a[o]-a[o-1],(void 0===i||s<i)&&(i=s)})),f.minRange=Math.min(5*i,f.dataMax-f.dataMin))),v-g<f.minRange&&(e=f.dataMax-f.dataMin>=f.minRange,u=[g-(t=((p=f.minRange)-v+g)/2),C(m.min,g-t)],e&&(u[2]=f.isLog?f.log2lin(f.dataMin):f.dataMin),d=[(g=n(u))+p,C(m.max,g+p)],e&&(d[2]=f.isLog?f.log2lin(f.dataMax):f.dataMax),(v=r(d))-g<p&&(u[0]=v-p,u[1]=C(m.min,v-p),g=n(u))),f.min=g,f.max=v},getClosest:function(){var t;return this.categories?t=1:h(this.series,(function(e){var i=e.closestPointRange,n=e.visible||!e.chart.options.chart.ignoreHiddenSeries;!e.noSharedTooltip&&l(i)&&n&&(t=l(t)?Math.min(t,i):i)})),t},nameToX:function(t){var e,i=y(this.categories),n=i?this.categories:this.names,r=t.options.x;return t.series.requireSorting=!1,l(r)||(r=!1===this.options.uniqueNames?t.series.autoIncrement():v(t.name,n)),-1===r?i||(e=n.length):e=r,void 0!==e&&(this.names[e]=t.name),e},updateNames:function(){var t=this;this.names.length>0&&(this.names.length=0,this.minRange=this.userMinRange,h(this.series||[],(function(e){e.xIncrement=null,e.points&&!e.isDirtyData||(e.processData(),e.generatePoints()),h(e.points,(function(i,n){var r;i.options&&void 0!==(r=t.nameToX(i))&&r!==i.x&&(i.x=r,e.xData[n]=r)}))})))},setAxisTranslation:function(t){var e,i,n=this,r=n.max-n.min,o=n.axisPointRange||0,s=0,a=0,l=n.linkedParent,c=!!n.categories,u=n.transA,d=n.isXAxis;(d||c||o)&&(e=n.getClosest(),l?(s=l.minPointOffset,a=l.pointRangePadding):h(n.series,(function(t){var i=c?1:d?C(t.options.pointRange,e,0):n.axisPointRange||0,r=t.options.pointPlacement;o=Math.max(o,i),n.single||(s=Math.max(s,w(r)?0:i/2),a=Math.max(a,"on"===r?0:i))})),i=n.ordinalSlope&&e?n.ordinalSlope/e:1,n.minPointOffset=s*=i,n.pointRangePadding=a*=i,n.pointRange=Math.min(o,r),d&&(n.closestPointRange=e)),t&&(n.oldTransA=u),n.translationSlope=n.transA=u=n.options.staticScale||n.len/(r+a||1),n.transB=n.horiz?n.left:n.bottom,n.minPixelPadding=u*s},minFromRange:function(){return this.max-this.range},setTickInterval:function(e){var i,n,r,o,a,c,u,d=this,f=d.chart,g=d.options,v=d.isLog,y=d.log2lin,w=d.isDatetimeAxis,x=d.isXAxis,k=d.isLinked,S=g.maxPadding,T=g.minPadding,A=g.tickInterval,E=g.tickPixelInterval,P=d.categories,M=d.threshold,L=d.softThreshold;w||P||k||this.getTickAmount(),c=C(d.userMin,g.min),u=C(d.userMax,g.max),k?(d.linkedParent=f[d.coll][g.linkedTo],n=d.linkedParent.getExtremes(),d.min=C(n.min,n.dataMin),d.max=C(n.max,n.dataMax),g.type!==d.linkedParent.options.type&&t.error(11,1)):(!L&&l(M)&&(d.dataMin>=M?(o=M,T=0):d.dataMax<=M&&(a=M,S=0)),d.min=C(c,o,d.dataMin),d.max=C(u,a,d.dataMax)),v&&(d.positiveValuesOnly&&!e&&Math.min(d.min,C(d.dataMin,d.min))<=0&&t.error(10,1),d.min=s(y(d.min),15),d.max=s(y(d.max),15)),d.range&&l(d.max)&&(d.userMin=d.min=c=Math.max(d.dataMin,d.minFromRange()),d.userMax=u=d.max,d.range=null),p(d,"foundExtremes"),d.beforePadding&&d.beforePadding(),d.adjustForMinRange(),P||d.axisPointRange||d.usePercentage||k||!l(d.min)||!l(d.max)||(i=d.max-d.min)&&(!l(c)&&T&&(d.min-=i*T),!l(u)&&S&&(d.max+=i*S)),b(g.softMin)&&(d.min=Math.min(d.min,g.softMin)),b(g.softMax)&&(d.max=Math.max(d.max,g.softMax)),b(g.floor)&&(d.min=Math.max(d.min,g.floor)),b(g.ceiling)&&(d.max=Math.min(d.max,g.ceiling)),L&&l(d.dataMin)&&(M=M||0,!l(c)&&d.min<M&&d.dataMin>=M?d.min=M:!l(u)&&d.max>M&&d.dataMax<=M&&(d.max=M)),d.min===d.max||void 0===d.min||void 0===d.max?d.tickInterval=1:k&&!A&&E===d.linkedParent.options.tickPixelInterval?d.tickInterval=A=d.linkedParent.tickInterval:d.tickInterval=C(A,this.tickAmount?(d.max-d.min)/Math.max(this.tickAmount-1,1):void 0,P?1:(d.max-d.min)*E/Math.max(d.len,E)),x&&!e&&h(d.series,(function(t){t.processData(d.min!==d.oldMin||d.max!==d.oldMax)})),d.setAxisTranslation(!0),d.beforeSetTickPositions&&d.beforeSetTickPositions(),d.postProcessTickInterval&&(d.tickInterval=d.postProcessTickInterval(d.tickInterval)),d.pointRange&&!A&&(d.tickInterval=Math.max(d.pointRange,d.tickInterval)),r=C(g.minTickInterval,d.isDatetimeAxis&&d.closestPointRange),!A&&d.tickInterval<r&&(d.tickInterval=r),w||v||A||(d.tickInterval=_(d.tickInterval,null,m(d.tickInterval),C(g.allowDecimals,!(d.tickInterval>.5&&d.tickInterval<5&&d.max>1e3&&d.max<9999)),!!this.tickAmount)),this.tickAmount||(d.tickInterval=d.unsquish()),this.setTickPositions()},setTickPositions:function(){var t,e=this.options,i=e.tickPositions,n=this.getMinorTickInterval(),r=e.tickPositioner,o=e.startOnTick,s=e.endOnTick;this.tickmarkOffset=this.categories&&"between"===e.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===n&&this.tickInterval?this.tickInterval/5:n,this.single=this.min===this.max&&l(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==e.allowDecimals),this.tickPositions=t=i&&i.slice(),t||((t=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,e.units),this.min,this.max,e.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max)).length>this.len&&(t=[t[0],t.pop()])[0]===t[1]&&(t.length=1),this.tickPositions=t,r&&(r=r.apply(this,[this.min,this.max]))&&(this.tickPositions=t=r)),this.paddedTicks=t.slice(0),this.trimTicks(t,o,s),this.isLinked||(this.single&&t.length<2&&(this.min-=.5,this.max+=.5),i||r||this.adjustTickAmount())},trimTicks:function(t,e,i){var n=t[0],r=t[t.length-1],o=this.minPointOffset||0;if(!this.isLinked){if(e&&n!==-1/0)this.min=n;else for(;this.min-o>t[0];)t.shift();if(i)this.max=r;else for(;this.max+o<t[t.length-1];)t.pop();0===t.length&&l(n)&&t.push((r+n)/2)}},alignToOthers:function(){var t,e={},i=this.options;return!1===this.chart.options.chart.alignTicks||!1===i.alignTicks||this.isLog||h(this.chart[this.coll],(function(i){var n=i.options,r=[i.horiz?n.left:n.top,n.width,n.height,n.pane].join(",");i.series.length&&(e[r]?t=!0:e[r]=1)})),t},getTickAmount:function(){var t=this.options,e=t.tickAmount,i=t.tickPixelInterval;!l(t.tickInterval)&&this.len<i&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(e=2),!e&&this.alignToOthers()&&(e=Math.ceil(this.len/i)+1),e<4&&(this.finalTickAmt=e,e=5),this.tickAmount=e},adjustTickAmount:function(){var t,e,i=this.tickInterval,n=this.tickPositions,r=this.tickAmount,o=this.finalTickAmt,a=n&&n.length;if(a<r){for(;n.length<r;)n.push(s(n[n.length-1]+i));this.transA*=(a-1)/(r-1),this.max=n[n.length-1]}else a>r&&(this.tickInterval*=2,this.setTickPositions());if(l(o)){for(t=e=n.length;t--;)(3===o&&t%2==1||o<=2&&t>0&&t<e-1)&&n.splice(t,1);this.finalTickAmt=void 0}},setScale:function(){var t,e,i=this;i.oldMin=i.min,i.oldMax=i.max,i.oldAxisLength=i.len,i.setAxisSize(),e=i.len!==i.oldAxisLength,h(i.series,(function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(t=!0)})),e||t||i.isLinked||i.forceRedraw||i.userMin!==i.oldUserMin||i.userMax!==i.oldUserMax||i.alignToOthers()?(i.resetStacks&&i.resetStacks(),i.forceRedraw=!1,i.getSeriesExtremes(),i.setTickInterval(),i.oldUserMin=i.userMin,i.oldUserMax=i.userMax,i.isDirty||(i.isDirty=e||i.min!==i.oldMin||i.max!==i.oldMax)):i.cleanStacks&&i.cleanStacks()},setExtremes:function(t,e,i,n,r){var o=this,s=o.chart;i=C(i,!0),h(o.series,(function(t){delete t.kdTree})),r=d(r,{min:t,max:e}),p(o,"setExtremes",r,(function(){o.userMin=t,o.userMax=e,o.eventArgs=r,i&&s.redraw(n)}))},zoom:function(t,e){var i=this.dataMin,n=this.dataMax,r=this.options,o=Math.min(i,C(r.min,i)),s=Math.max(n,C(r.max,n));return t===this.min&&e===this.max||(this.allowZoomOutside||(l(i)&&(t<o&&(t=o),t>s&&(t=s)),l(n)&&(e<o&&(e=o),e>s&&(e=s))),this.displayBtn=void 0!==t||void 0!==e,this.setExtremes(t,e,!1,void 0,{trigger:"zoom"})),!0},setAxisSize:function(){var e=this.chart,i=this.options,n=i.offsets||[0,0,0,0],r=this.horiz,o=this.width=Math.round(t.relativeLength(C(i.width,e.plotWidth-n[3]+n[1]),e.plotWidth)),s=this.height=Math.round(t.relativeLength(C(i.height,e.plotHeight-n[0]+n[2]),e.plotHeight)),a=this.top=Math.round(t.relativeLength(C(i.top,e.plotTop+n[0]),e.plotHeight,e.plotTop)),l=this.left=Math.round(t.relativeLength(C(i.left,e.plotLeft+n[3]),e.plotWidth,e.plotLeft));this.bottom=e.chartHeight-s-a,this.right=e.chartWidth-o-l,this.len=Math.max(r?o:s,0),this.pos=r?l:a},getExtremes:function(){var t=this,e=t.isLog,i=t.lin2log;return{min:e?s(i(t.min)):t.min,max:e?s(i(t.max)):t.max,dataMin:t.dataMin,dataMax:t.dataMax,userMin:t.userMin,userMax:t.userMax}},getThreshold:function(t){var e=this,i=e.isLog,n=e.lin2log,r=i?n(e.min):e.min,o=i?n(e.max):e.max;return null===t||r>t?t=r:o<t&&(t=o),e.translate(t,0,1,0,1)},autoLabelAlign:function(t){var e=(C(t,0)-90*this.side+720)%360;return e>15&&e<165?"right":e>195&&e<345?"left":"center"},tickSize:function(t){var e=this.options,i=e[t+"Length"],n=C(e[t+"Width"],"tick"===t&&this.isXAxis?1:0);if(n&&i)return"inside"===e[t+"Position"]&&(i=-i),[i,n]},labelMetrics:function(){var t=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[t]&&this.ticks[t].label)},unsquish:function(){var t,e,i,n=this.options.labels,r=this.horiz,o=this.tickInterval,s=o,a=this.len/(((this.categories?1:0)+this.max-this.min)/o),u=n.rotation,d=this.labelMetrics(),p=Number.MAX_VALUE,f=function(t){var e=t/(a||1);return(e=e>1?Math.ceil(e):1)*o};return r?(i=!n.staggerLines&&!n.step&&(l(u)?[u]:a<C(n.autoRotationLimit,80)&&n.autoRotation))&&h(i,(function(i){var n;(i===u||i&&i>=-90&&i<=90)&&(n=(e=f(Math.abs(d.h/Math.sin(c*i))))+Math.abs(i/360))<p&&(p=n,t=i,s=e)})):n.step||(s=f(d.h)),this.autoRotation=i,this.labelRotation=C(t,u),s},getSlotWidth:function(){var t=this.chart,e=this.horiz,i=this.options.labels,n=Math.max(this.tickPositions.length-(this.categories?0:1),1),r=t.margin[3];return e&&(i.step||0)<2&&!i.rotation&&(this.staggerLines||1)*this.len/n||!e&&(i.style&&parseInt(i.style.width,10)||r&&r-t.spacing[3]||.33*t.chartWidth)},renderUnsquish:function(){var t,e,i,n,r=this.chart,o=r.renderer,s=this.tickPositions,a=this.ticks,l=this.options.labels,c=this.horiz,u=this.getSlotWidth(),d=Math.max(1,Math.round(u-2*(l.padding||5))),p={},f=this.labelMetrics(),m=l.style&&l.style.textOverflow,g=0;if(w(l.rotation)||(p.rotation=l.rotation||0),h(s,(function(t){(t=a[t])&&t.labelLength>g&&(g=t.labelLength)})),this.maxLabelLength=g,this.autoRotation)g>d&&g>f.h?p.rotation=this.labelRotation:this.labelRotation=0;else if(u&&(t={width:d+"px"},!m))for(t.textOverflow="clip",i=s.length;!c&&i--;)n=s[i],(e=a[n].label)&&(e.styles&&"ellipsis"===e.styles.textOverflow?e.css({textOverflow:"clip"}):a[n].labelLength>u&&e.css({width:u+"px"}),e.getBBox().height>this.len/s.length-(f.h-f.f)&&(e.specCss={textOverflow:"ellipsis"}));p.rotation&&(t={width:(g>.5*r.chartHeight?.33*r.chartHeight:r.chartHeight)+"px"},m||(t.textOverflow="ellipsis")),this.labelAlign=l.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(p.align=this.labelAlign),h(s,(function(e){var i=a[e],n=i&&i.label;n&&(n.attr(p),t&&n.css(x(t,n.specCss)),delete n.specCss,i.rotation=p.rotation)})),this.tickRotCorr=o.rotCorr(f.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||l(this.min)&&l(this.max)&&this.tickPositions&&this.tickPositions.length>0},addTitle:function(t){var e,i=this,n=i.chart.renderer,r=i.horiz,o=i.opposite,s=i.options.title;i.axisTitle||((e=s.textAlign)||(e=(r?{low:"left",middle:"center",high:"right"}:{low:o?"right":"left",middle:"center",high:o?"left":"right"})[s.align]),i.axisTitle=n.text(s.text,0,0,s.useHTML).attr({zIndex:7,rotation:s.rotation||0,align:e}).addClass("highcharts-axis-title").css(s.style).add(i.axisGroup),i.axisTitle.isNew=!0),s.style.width||i.isRadial||i.axisTitle.css({width:i.len}),i.axisTitle[t?"show":"hide"](!0)},generateTick:function(t){var e=this.ticks;e[t]?e[t].addLabel():e[t]=new E(this,t)},getOffset:function(){var t,e,i,n,r,o,s=this,a=s.chart,c=a.renderer,u=s.options,d=s.tickPositions,p=s.ticks,f=s.horiz,m=s.side,g=a.inverted&&!s.isZAxis?[1,0,3,2][m]:m,v=0,y=0,b=u.title,w=u.labels,x=0,_=a.axisOffset,S=a.clipOffset,T=[-1,1,1,-1][m],A=u.className,E=s.axisParent,P=this.tickSize("tick");t=s.hasData(),s.showAxis=e=t||C(u.showEmpty,!0),s.staggerLines=s.horiz&&w.staggerLines,s.axisGroup||(s.gridGroup=c.g("grid").attr({zIndex:u.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(A||"")).add(E),s.axisGroup=c.g("axis").attr({zIndex:u.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(A||"")).add(E),s.labelGroup=c.g("axis-labels").attr({zIndex:w.zIndex||7}).addClass("highcharts-"+s.coll.toLowerCase()+"-labels "+(A||"")).add(E)),t||s.isLinked?(h(d,(function(t,e){s.generateTick(t,e)})),s.renderUnsquish(),!1===w.reserveSpace||0!==m&&2!==m&&{1:"left",3:"right"}[m]!==s.labelAlign&&"center"!==s.labelAlign||h(d,(function(t){x=Math.max(p[t].getLabelSize(),x)})),s.staggerLines&&(x*=s.staggerLines,s.labelOffset=x*(s.opposite?-1:1))):k(p,(function(t,e){t.destroy(),delete p[e]})),b&&b.text&&!1!==b.enabled&&(s.addTitle(e),e&&!1!==b.reserveSpace&&(s.titleOffset=v=s.axisTitle.getBBox()[f?"height":"width"],i=b.offset,y=l(i)?0:C(b.margin,f?5:10))),s.renderLine(),s.offset=T*C(u.offset,_[m]),s.tickRotCorr=s.tickRotCorr||{x:0,y:0},o=0===m?-s.labelMetrics().h:2===m?s.tickRotCorr.y:0,n=Math.abs(x)+y,x&&(n-=o,n+=T*(f?C(w.y,s.tickRotCorr.y+8*T):w.x)),s.axisTitleMargin=C(i,n),_[m]=Math.max(_[m],s.axisTitleMargin+v+T*s.offset,n,t&&d.length&&P?P[0]+T*s.offset:0),r=u.offset?0:2*Math.floor(s.axisLine.strokeWidth()/2),S[g]=Math.max(S[g],r)},getLinePath:function(t){var e=this.chart,i=this.opposite,n=this.offset,r=this.horiz,o=this.left+(i?this.width:0)+n,s=e.chartHeight-this.bottom-(i?this.height:0)+n;return i&&(t*=-1),e.renderer.crispLine(["M",r?this.left:o,r?s:this.top,"L",r?e.chartWidth-this.right:o,r?s:e.chartHeight-this.bottom],t)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var t=this.horiz,e=this.left,i=this.top,n=this.len,r=this.options.title,o=t?e:i,s=this.opposite,a=this.offset,l=r.x||0,c=r.y||0,u=this.axisTitle,h=this.chart.renderer.fontMetrics(r.style&&r.style.fontSize,u),d=Math.max(u.getBBox(null,0).height-h.h-1,0),p={low:o+(t?0:n),middle:o+n/2,high:o+(t?n:0)}[r.align],f=(t?i+this.height:e)+(t?1:-1)*(s?-1:1)*this.axisTitleMargin+[-d,d,h.f,-d][this.side];return{x:t?p+l:f+(s?this.width:0)+a+l,y:t?f+c-(s?this.height:0)+a:p+c}},renderMinorTick:function(t){var e=this.chart.hasRendered&&b(this.oldMin),i=this.minorTicks;i[t]||(i[t]=new E(this,t,"minor")),e&&i[t].isNew&&i[t].render(null,!0),i[t].render(null,!1,1)},renderTick:function(t,e){var i=this.isLinked,n=this.ticks,r=this.chart.hasRendered&&b(this.oldMin);(!i||t>=this.min&&t<=this.max)&&(n[t]||(n[t]=new E(this,t)),r&&n[t].isNew&&n[t].render(e,!0,.1),n[t].render(e))},render:function(){var e,n,r=this,o=r.chart,s=o.renderer,a=r.options,l=r.isLog,c=r.lin2log,u=r.isLinked,d=r.tickPositions,p=r.axisTitle,f=r.ticks,m=r.minorTicks,g=r.alternateBands,v=a.stackLabels,y=a.alternateGridColor,w=r.tickmarkOffset,x=r.axisLine,_=r.showAxis,C=i(s.globalAnimation);if(r.labelEdge.length=0,r.overlap=!1,h([f,m,g],(function(t){k(t,(function(t){t.isActive=!1}))})),(r.hasData()||u)&&(r.minorTickInterval&&!r.categories&&h(r.getMinorTickPositions(),(function(t){r.renderMinorTick(t)})),d.length&&(h(d,(function(t,e){r.renderTick(t,e)})),w&&(0===r.min||r.single)&&(f[-1]||(f[-1]=new E(r,-1,null,!0)),f[-1].render(-1))),y&&h(d,(function(i,s){n=void 0!==d[s+1]?d[s+1]+w:r.max-w,s%2==0&&i<r.max&&n<=r.max+(o.polar?-w:w)&&(g[i]||(g[i]=new t.PlotLineOrBand(r)),e=i+w,g[i].options={from:l?c(e):e,to:l?c(n):n,color:y},g[i].render(),g[i].isActive=!0)})),r._addedPlotLB||(h((a.plotLines||[]).concat(a.plotBands||[]),(function(t){r.addPlotBandOrLine(t)})),r._addedPlotLB=!0)),h([f,m,g],(function(t){var e,i=[],n=C.duration,r=function(){for(e=i.length;e--;)t[i[e]]&&!t[i[e]].isActive&&(t[i[e]].destroy(),delete t[i[e]])};k(t,(function(t,e){t.isActive||(t.render(e,!1,0),t.isActive=!1,i.push(e))})),A(r,t!==g&&o.hasRendered&&n?n:0)})),x&&(x[x.isPlaced?"animate":"attr"]({d:this.getLinePath(x.strokeWidth())}),x.isPlaced=!0,x[_?"show":"hide"](!0)),p&&_){var S=r.getTitlePosition();b(S.y)?(p[p.isNew?"attr":"animate"](S),p.isNew=!1):(p.attr("y",-9999),p.isNew=!0)}v&&v.enabled&&r.renderStackTotals(),r.isDirty=!1},redraw:function(){this.visible&&(this.render(),h(this.plotLinesAndBands,(function(t){t.render()}))),h(this.series,(function(t){t.isDirty=!0}))},keepProps:["extKey","hcEvents","names","series","userMax","userMin"],destroy:function(t){var e,i,n=this,r=n.stacks,o=n.plotLinesAndBands;if(t||S(n),k(r,(function(t,e){u(t),r[e]=null})),h([n.ticks,n.minorTicks,n.alternateBands],(function(t){u(t)})),o)for(i=o.length;i--;)o[i].destroy();for(e in h(["stackTotalGroup","axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross"],(function(t){n[t]&&(n[t]=n[t].destroy())})),n.plotLinesAndBandsGroups)n.plotLinesAndBandsGroups[e]=n.plotLinesAndBandsGroups[e].destroy();k(n,(function(t,e){-1===v(e,n.keepProps)&&delete n[e]}))},drawCrosshair:function(t,e){var i,n,r,s=this.crosshair,a=C(s.snap,!0),c=this.cross;if(t||(t=this.cross&&this.cross.e),this.crosshair&&!1!==(l(e)||!a)){if(a?l(e)&&(n=this.isXAxis?e.plotX:this.len-e.plotY):n=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),l(n)&&(i=this.getPlotLinePath(e&&(this.isXAxis?e.x:C(e.stackY,e.y)),null,null,null,n)||null),!l(i))return void this.hideCrosshair();r=this.categories&&!this.isRadial,c||(this.cross=c=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(r?"category ":"thin ")+s.className).attr({zIndex:C(s.zIndex,2)}).add(),c.attr({stroke:s.color||(r?o("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":C(s.width,1)}).css({"pointer-events":"none"}),s.dashStyle&&c.attr({dashstyle:s.dashStyle})),c.show().attr({d:i}),r&&!s.width&&c.attr({"stroke-width":this.transA}),this.cross.e=t}else this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}}),t.Axis=P,P}(m);return function(t){var e=t.Axis,i=t.Date,n=t.dateFormat,r=t.defaultOptions,o=t.defined,s=t.each,a=t.extend,l=t.getMagnitude,c=t.getTZOffset,u=t.normalizeTickInterval,h=t.pick,d=t.timeUnits;e.prototype.getTimeTicks=function(t,e,l,u){var p,f,m,g,v=[],y={},b=r.global.useUTC,w=new i(e-Math.max(c(e),c(l))),x=i.hcMakeTime,_=t.unitRange,k=t.count;if(o(e)){w[i.hcSetMilliseconds](_>=d.second?0:k*Math.floor(w.getMilliseconds()/k)),_>=d.second&&w[i.hcSetSeconds](_>=d.minute?0:k*Math.floor(w.getSeconds()/k)),_>=d.minute&&w[i.hcSetMinutes](_>=d.hour?0:k*Math.floor(w[i.hcGetMinutes]()/k)),_>=d.hour&&w[i.hcSetHours](_>=d.day?0:k*Math.floor(w[i.hcGetHours]()/k)),_>=d.day&&w[i.hcSetDate](_>=d.month?1:k*Math.floor(w[i.hcGetDate]()/k)),_>=d.month&&(w[i.hcSetMonth](_>=d.year?0:k*Math.floor(w[i.hcGetMonth]()/k)),f=w[i.hcGetFullYear]()),_>=d.year&&(f-=f%k,w[i.hcSetFullYear](f)),_===d.week&&w[i.hcSetDate](w[i.hcGetDate]()-w[i.hcGetDay]()+h(u,1)),f=w[i.hcGetFullYear]();var C=w[i.hcGetMonth](),S=w[i.hcGetDate](),T=w[i.hcGetHours]();(i.hcTimezoneOffset||i.hcGetTimezoneOffset)&&(g=(!b||!!i.hcGetTimezoneOffset)&&(l-e>4*d.month||c(e)!==c(l)),w=w.getTime(),m=c(w),w=new i(w+m));var A=w.getTime();for(p=1;A<l;)v.push(A),_===d.year?A=x(f+p*k,0):_===d.month?A=x(f,C+p*k):!g||_!==d.day&&_!==d.week?g&&_===d.hour?A=x(f,C,S,T+p*k,0,0,m)-m:A+=_*k:A=x(f,C,S+p*k*(_===d.day?1:7)),p++;v.push(A),_<=d.hour&&v.length<1e4&&s(v,(function(t){t%18e5==0&&"000000000"===n("%H%M%S%L",t)&&(y[t]="day")}))}return v.info=a(t,{higherRanks:y,totalRange:_*k}),v},e.prototype.normalizeTimeTickInterval=function(t,e){var i,n=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],r=n[n.length-1],o=d[r[0]],s=r[1];for(i=0;i<n.length;i++){if(r=n[i],o=d[r[0]],s=r[1],n[i+1])if(t<=(o*s[s.length-1]+d[n[i+1][0]])/2)break}return o===d.year&&t<5*o&&(s=[1,2,5]),{unitRange:o,count:u(t/o,s,"year"===r[0]?Math.max(l(t/o),1):1),unitName:r[0]}}}(m),function(t){var e=t.Axis,i=t.getMagnitude,n=t.map,r=t.normalizeTickInterval,o=t.pick;e.prototype.getLogTickPositions=function(t,e,s,a){var l=this,c=l.options,u=l.len,h=l.lin2log,d=l.log2lin,p=[];if(a||(l._minorAutoInterval=null),t>=.5)t=Math.round(t),p=l.getLinearTickPositions(t,e,s);else if(t>=.08){var f,m,g,v,y,b,w;for(f=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],m=Math.floor(e);m<s+1&&!w;m++)for(v=f.length,g=0;g<v&&!w;g++)(y=d(h(m)*f[g]))>e&&(!a||b<=s)&&void 0!==b&&p.push(b),b>s&&(w=!0),b=y}else{var x=h(e),_=h(s),k=a?this.getMinorTickInterval():c.tickInterval,C="auto"===k?null:k,S=c.tickPixelInterval/(a?5:1),T=a?u/l.tickPositions.length:u;t=o(C,l._minorAutoInterval,(_-x)*S/(T||1)),t=r(t,null,i(t)),p=n(l.getLinearTickPositions(t,x,_),d),a||(l._minorAutoInterval=t/5)}return a||(l.tickInterval=t),p},e.prototype.log2lin=function(t){return Math.log(t)/Math.LN10},e.prototype.lin2log=function(t){return Math.pow(10,t)}}(m),function(t,e){var i=t.arrayMax,n=t.arrayMin,r=t.defined,o=t.destroyObjectProperties,s=t.each,a=t.erase,l=t.merge,c=t.pick;t.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},t.PlotLineOrBand.prototype={render:function(){var e,i=this,n=i.axis,o=n.horiz,s=i.options,a=s.label,u=i.label,h=s.to,d=s.from,p=s.value,f=r(d)&&r(h),m=r(p),g=i.svgElem,v=!g,y=[],b=s.color,w=c(s.zIndex,0),x=s.events,_={class:"highcharts-plot-"+(f?"band ":"line ")+(s.className||"")},k={},C=n.chart.renderer,S=f?"bands":"lines",T=n.log2lin;if(n.isLog&&(d=T(d),h=T(h),p=T(p)),m?(_={stroke:b,"stroke-width":s.width},s.dashStyle&&(_.dashstyle=s.dashStyle)):f&&(b&&(_.fill=b),s.borderWidth&&(_.stroke=s.borderColor,_["stroke-width"]=s.borderWidth)),k.zIndex=w,S+="-"+w,(e=n.plotLinesAndBandsGroups[S])||(n.plotLinesAndBandsGroups[S]=e=C.g("plot-"+S).attr(k).add()),v&&(i.svgElem=g=C.path().attr(_).add(e)),m)y=n.getPlotLinePath(p,g.strokeWidth());else{if(!f)return;y=n.getPlotBandPath(d,h,s)}return v&&y&&y.length?(g.attr({d:y}),x&&t.objectEach(x,(function(t,e){g.on(e,(function(t){x[e].apply(i,[t])}))}))):g&&(y?(g.show(),g.animate({d:y})):(g.hide(),u&&(i.label=u=u.destroy()))),a&&r(a.text)&&y&&y.length&&n.width>0&&n.height>0&&!y.flat?(a=l({align:o&&f&&"center",x:o?!f&&4:10,verticalAlign:!o&&f&&"middle",y:o?f?16:10:f?6:-4,rotation:o&&!f&&90},a),this.renderLabel(a,y,f,w)):u&&u.hide(),i},renderLabel:function(t,e,r,o){var s,a,l,c,u,h=this,d=h.label,p=h.axis.chart.renderer;d||((s={align:t.textAlign||t.align,rotation:t.rotation,class:"highcharts-plot-"+(r?"band":"line")+"-label "+(t.className||"")}).zIndex=o,h.label=d=p.text(t.text,0,0,t.useHTML).attr(s).add(),d.css(t.style)),a=e.xBounds||[e[1],e[4],r?e[6]:e[1]],l=e.yBounds||[e[2],e[5],r?e[7]:e[2]],c=n(a),u=n(l),d.align(t,!1,{x:c,y:u,width:i(a)-c,height:i(l)-u}),d.show()},destroy:function(){a(this.axis.plotLinesAndBands,this),delete this.axis,o(this)}},t.extend(e.prototype,{getPlotBandPath:function(t,e){var i,n,r=this.getPlotLinePath(e,null,null,!0),o=this.getPlotLinePath(t,null,null,!0),s=[],a=this.horiz,l=1,c=t<this.min&&e<this.min||t>this.max&&e>this.max;if(o&&r)for(c&&(n=o.toString()===r.toString(),l=0),i=0;i<o.length;i+=6)a&&r[i+1]===o[i+1]?(r[i+1]+=l,r[i+4]+=l):a||r[i+2]!==o[i+2]||(r[i+2]+=l,r[i+5]+=l),s.push("M",o[i+1],o[i+2],"L",o[i+4],o[i+5],r[i+4],r[i+5],r[i+1],r[i+2],"z"),s.flat=n;else o=null;return s},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(e,i){var n=new t.PlotLineOrBand(this,e).render(),r=this.userOptions;return n&&(i&&(r[i]=r[i]||[],r[i].push(e)),this.plotLinesAndBands.push(n)),n},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,i=this.options,n=this.userOptions,r=e.length;r--;)e[r].id===t&&e[r].destroy();s([i.plotLines||[],n.plotLines||[],i.plotBands||[],n.plotBands||[]],(function(e){for(r=e.length;r--;)e[r].id===t&&a(e,e[r])}))},removePlotBand:function(t){this.removePlotBandOrLine(t)},removePlotLine:function(t){this.removePlotBandOrLine(t)}})}(m,g),function(t){var e=t.dateFormat,i=t.each,n=t.extend,r=t.format,o=t.isNumber,s=t.map,a=t.merge,l=t.pick,c=t.splat,u=t.syncTimeout,h=t.timeUnits;t.Tooltip=function(){this.init.apply(this,arguments)},t.Tooltip.prototype={init:function(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=e.split&&!t.inverted,this.shared=e.shared||this.split},cleanSplit:function(t){i(this.chart.series,(function(e){var i=e&&e.tt;i&&(!i.isActive||t?e.tt=i.destroy():i.isActive=!1)}))},getLabel:function(){var t=this.chart.renderer,e=this.options;return this.label||(this.split?this.label=t.g("tooltip"):(this.label=t.label("",0,0,e.shape||"callout",null,null,e.useHTML,null,"tooltip").attr({padding:e.padding,r:e.borderRadius}),this.label.attr({fill:e.backgroundColor,"stroke-width":e.borderWidth}).css(e.style).shadow(e.shadow)),this.label.attr({zIndex:8}).add()),this.label},update:function(t){this.destroy(),a(!0,this.chart.options.tooltip.userOptions,t),this.init(this.chart,a(!0,this.options,t))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(t,e,i,r){var o=this,s=o.now,a=!1!==o.options.animation&&!o.isHidden&&(Math.abs(t-s.x)>1||Math.abs(e-s.y)>1),l=o.followPointer||o.len>1;n(s,{x:a?(2*s.x+t)/3:t,y:a?(s.y+e)/2:e,anchorX:l?void 0:a?(2*s.anchorX+i)/3:i,anchorY:l?void 0:a?(s.anchorY+r)/2:r}),o.getLabel().attr(s),a&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout((function(){o&&o.move(t,e,i,r)}),32))},hide:function(t){var e=this;clearTimeout(this.hideTimer),t=l(t,this.options.hideDelay,500),this.isHidden||(this.hideTimer=u((function(){e.getLabel()[t?"fadeOut":"hide"](),e.isHidden=!0}),t))},getAnchor:function(t,e){var n,r,o,a=this.chart,l=a.inverted,u=a.plotTop,h=a.plotLeft,d=0,p=0;return n=(t=c(t))[0].tooltipPos,this.followPointer&&e&&(void 0===e.chartX&&(e=a.pointer.normalize(e)),n=[e.chartX-a.plotLeft,e.chartY-u]),n||(i(t,(function(t){r=t.series.yAxis,o=t.series.xAxis,d+=t.plotX+(!l&&o?o.left-h:0),p+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!l&&r?r.top-u:0)})),d/=t.length,p/=t.length,n=[l?a.plotWidth-p:d,this.shared&&!l&&t.length>1&&e?e.chartY-u:l?a.plotHeight-d:p]),s(n,Math.round)},getPosition:function(t,e,i){var n,r=this.chart,o=this.distance,s={},a=r.inverted&&i.h||0,c=["y",r.chartHeight,e,i.plotY+r.plotTop,r.plotTop,r.plotTop+r.plotHeight],u=["x",r.chartWidth,t,i.plotX+r.plotLeft,r.plotLeft,r.plotLeft+r.plotWidth],h=!this.followPointer&&l(i.ttBelow,!r.inverted==!!i.negative),d=function(t,e,i,n,r,l){var c=i<n-o,u=n+o+i<e,d=n-o-i,p=n+o;if(h&&u)s[t]=p;else if(!h&&c)s[t]=d;else if(c)s[t]=Math.min(l-i,d-a<0?d:d-a);else{if(!u)return!1;s[t]=Math.max(r,p+a+i>e?p:p+a)}},p=function(t,e,i,n){var r;return n<o||n>e-o?r=!1:s[t]=n<i/2?1:n>e-i/2?e-i-2:n-i/2,r},f=function(t){var e=c;c=u,u=e,n=t},m=function(){!1!==d.apply(0,c)?!1!==p.apply(0,u)||n||(f(!0),m()):n?s.x=s.y=0:(f(!0),m())};return(r.inverted||this.len>1)&&f(),m(),s},defaultFormatter:function(t){var e,i=this.points||c(this);return(e=(e=[t.tooltipFooterHeaderFormatter(i[0])]).concat(t.bodyFormatter(i))).push(t.tooltipFooterHeaderFormatter(i[0],!0)),e},refresh:function(t,e){var n,r,o,s,a,u,h=this,d=h.options,p=t,f={},m=[],g=d.formatter||h.defaultFormatter,v=h.shared;d.enabled&&(clearTimeout(this.hideTimer),h.followPointer=c(p)[0].series.tooltipOptions.followPointer,r=(s=h.getAnchor(p,e))[0],o=s[1],!v||p.series&&p.series.noSharedTooltip?f=p.getLabelConfig():(i(p,(function(t){t.setState("hover"),m.push(t.getLabelConfig())})),(f={x:p[0].category,y:p[0].y}).points=m,p=p[0]),this.len=m.length,a=g.call(f,h),u=p.series,this.distance=l(u.tooltipOptions.distance,16),!1===a?this.hide():(n=h.getLabel(),h.isHidden&&n.attr({opacity:1}).show(),h.split?this.renderSplit(a,c(t)):(d.style.width||n.css({width:this.chart.spacingBox.width}),n.attr({text:a&&a.join?a.join(""):a}),n.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+l(p.colorIndex,u.colorIndex)),n.attr({stroke:d.borderColor||p.color||u.color||"#666666"}),h.updatePosition({plotX:r,plotY:o,negative:p.negative,ttBelow:p.ttBelow,h:s[2]||0})),this.isHidden=!1))},renderSplit:function(e,n){var r=this,o=[],s=this.chart,a=s.renderer,c=!0,u=this.options,h=0,d=this.getLabel();t.isString(e)&&(e=[!1,e]),i(e.slice(0,n.length+1),(function(t,e){if(!1!==t){var i,p,f,m,g=n[e-1]||{isHeader:!0,plotX:n[0].plotX},v=g.series||r,y=v.tt,b=g.series||{},w="highcharts-color-"+l(g.colorIndex,b.colorIndex,"none");y||(v.tt=y=a.label(null,null,null,"callout",null,null,u.useHTML).addClass("highcharts-tooltip-box "+w).attr({padding:u.padding,r:u.borderRadius,fill:u.backgroundColor,stroke:u.borderColor||g.color||b.color||"#333333","stroke-width":u.borderWidth}).add(d)),y.isActive=!0,y.attr({text:t}),y.css(u.style).shadow(u.shadow),m=(f=y.getBBox()).width+y.strokeWidth(),g.isHeader?(h=f.height,p=Math.max(0,Math.min(g.plotX+s.plotLeft-m/2,s.chartWidth-m))):p=g.plotX+s.plotLeft-l(u.distance,16)-m,p<0&&(c=!1),i=(g.series&&g.series.yAxis&&g.series.yAxis.pos)+(g.plotY||0),i-=s.plotTop,o.push({target:g.isHeader?s.plotHeight+h:i,rank:g.isHeader?1:0,size:v.tt.getBBox().height+1,point:g,x:p,tt:y})}})),this.cleanSplit(),t.distribute(o,s.plotHeight+h),i(o,(function(t){var e=t.point,i=e.series;t.tt.attr({visibility:void 0===t.pos?"hidden":"inherit",x:c||e.isHeader?t.x:e.plotX+s.plotLeft+l(u.distance,16),y:t.pos+s.plotTop,anchorX:e.isHeader?e.plotX+s.plotLeft:e.plotX+i.xAxis.pos,anchorY:e.isHeader?t.pos+s.plotTop-15:e.plotY+i.yAxis.pos})}))},updatePosition:function(t){var e=this.chart,i=this.getLabel(),n=(this.options.positioner||this.getPosition).call(this,i.width,i.height,t);this.move(Math.round(n.x),Math.round(n.y||0),t.plotX+e.plotLeft,t.plotY+e.plotTop)},getDateFormat:function(t,i,n,r){var o,s,a=e("%m-%d %H:%M:%S.%L",i),l="01-01 00:00:00.000",c={millisecond:15,second:12,minute:9,hour:6,day:3},u="millisecond";for(s in h){if(t===h.week&&+e("%w",i)===n&&a.substr(6)===l.substr(6)){s="week";break}if(h[s]>t){s=u;break}if(c[s]&&a.substr(c[s])!==l.substr(c[s]))break;"week"!==s&&(u=s)}return s&&(o=r[s]),o},getXDateFormat:function(t,e,i){var n=e.dateTimeLabelFormats,r=i&&i.closestPointRange;return(r?this.getDateFormat(r,t.x,i.options.startOfWeek,n):n.day)||n.year},tooltipFooterHeaderFormatter:function(t,e){var n=e?"footer":"header",s=t.series,a=s.tooltipOptions,l=a.xDateFormat,c=s.xAxis,u=c&&"datetime"===c.options.type&&o(t.key),h=a[n+"Format"];return u&&!l&&(l=this.getXDateFormat(t,a,c)),u&&l&&i(t.point&&t.point.tooltipDateKeys||["key"],(function(t){h=h.replace("{point."+t+"}","{point."+t+":"+l+"}")})),r(h,{point:t,series:s})},bodyFormatter:function(t){return s(t,(function(t){var e=t.series.tooltipOptions;return(e[(t.point.formatPrefix||"point")+"Formatter"]||t.point.tooltipFormatter).call(t.point,e[(t.point.formatPrefix||"point")+"Format"])}))}}}(m),function(t){var e=t,i=e.addEvent,n=e.attr,r=e.charts,o=e.color,s=e.css,a=e.defined,l=e.each,c=e.extend,u=e.find,h=e.fireEvent,d=e.isObject,p=e.offset,f=e.pick,m=e.splat,g=e.Tooltip;t.Pointer=function(t,e){this.init(t,e)},t.Pointer.prototype={init:function(t,e){this.options=e,this.chart=t,this.runChartClick=e.chart.events&&!!e.chart.events.click,this.pinchDown=[],this.lastValidTouch={},g&&(t.tooltip=new g(t,e.tooltip),this.followTouchMove=f(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(t){var e,i,n=this.chart,r=n.options.chart,o=r.zoomType||"",s=n.inverted;/touch/.test(t.type)&&(o=f(r.pinchType,o)),this.zoomX=e=/x/.test(o),this.zoomY=i=/y/.test(o),this.zoomHor=e&&!s||i&&s,this.zoomVert=i&&!s||e&&s,this.hasZoom=e||i},normalize:function(t,e){var i
;return i=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,e||(this.chartPosition=e=p(this.chart.container)),c(t,{chartX:Math.round(i.pageX-e.left),chartY:Math.round(i.pageY-e.top)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return l(this.chart.axes,(function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})})),e},findNearestKDPoint:function(t,e,i){var n,r=function(t,i){var n=t.distX-i.distX,r=t.dist-i.dist,o=(i.series.group&&i.series.group.zIndex)-(t.series.group&&t.series.group.zIndex);return 0!==n&&e?n:0!==r?r:0!==o?o:t.series.index>i.series.index?-1:1};return l(t,(function(t){var o=!(t.noSharedTooltip&&e)&&t.options.findNearestPointBy.indexOf("y")<0,s=t.searchPoint(i,o);d(s,!0)&&(!d(n,!0)||r(n,s)>0)&&(n=s)})),n},getPointFromEvent:function(t){for(var e,i=t.target;i&&!e;)e=i.point,i=i.parentNode;return e},getChartCoordinatesFromPoint:function(t,e){var i=t.series,n=i.xAxis,r=i.yAxis,o=f(t.clientX,t.plotX);if(n&&r)return e?{chartX:n.len+n.pos-o,chartY:r.len+r.pos-t.plotY}:{chartX:o+n.pos,chartY:t.plotY+r.pos}},getHoverData:function(t,i,n,r,o,s,a){var c,h=[],p=i,m=a&&a.isBoosting,g=!(!r||!t),v=p&&!p.stickyTracking,y=function(t){return t.visible&&!(!o&&t.directTouch)&&f(t.options.enableMouseTracking,!0)},b=v?[p]:e.grep(n,(function(t){return y(t)&&t.stickyTracking}));return p=(c=g?t:this.findNearestKDPoint(b,o,s))&&c.series,c&&(o&&!p.noSharedTooltip?(b=e.grep(n,(function(t){return y(t)&&!t.noSharedTooltip})),l(b,(function(t){var e=u(t.points,(function(t){return t.x===c.x&&!t.isNull}));d(e)&&(m&&(e=t.getPoint(e)),h.push(e))}))):h.push(c)),{hoverPoint:c,hoverSeries:p,hoverPoints:h}},runPointActions:function(t,n){var o,s,a,c,u=this,h=u.chart,d=h.series,p=h.tooltip&&h.tooltip.options.enabled?h.tooltip:void 0,m=!!p&&p.shared,g=n||h.hoverPoint,v=g&&g.series||h.hoverSeries,y=!!n||v&&v.directTouch&&u.isDirectTouch,b=this.getHoverData(g,v,d,y,m,t,{isBoosting:h.isBoosting});if(g=b.hoverPoint,c=b.hoverPoints,s=(v=b.hoverSeries)&&v.tooltipOptions.followPointer,o=m&&v&&!v.noSharedTooltip,g&&(g!==h.hoverPoint||p&&p.isHidden)){if(l(h.hoverPoints||[],(function(t){-1===e.inArray(t,c)&&t.setState()})),l(c||[],(function(t){t.setState("hover")})),h.hoverSeries!==v&&v.onMouseOver(),h.hoverPoint&&h.hoverPoint.firePointEvent("mouseOut"),!g.series)return;g.firePointEvent("mouseOver"),h.hoverPoints=c,h.hoverPoint=g,p&&p.refresh(o?c:g,t)}else s&&p&&!p.isHidden&&(a=p.getAnchor([{}],t),p.updatePosition({plotX:a[0],plotY:a[1]}));u.unDocMouseMove||(u.unDocMouseMove=i(h.container.ownerDocument,"mousemove",(function(t){var i=r[e.hoverChartIndex];i&&i.pointer.onDocumentMouseMove(t)}))),l(h.axes,(function(i){var n=f(i.crosshair.snap,!0),r=n?e.find(c,(function(t){return t.series[i.coll]===i})):void 0;r||!n?i.drawCrosshair(t,r):i.hideCrosshair()}))},reset:function(t,e){var i=this,n=i.chart,r=n.hoverSeries,o=n.hoverPoint,s=n.hoverPoints,a=n.tooltip,c=a&&a.shared?s:o;t&&c&&l(m(c),(function(e){e.series.isCartesian&&void 0===e.plotX&&(t=!1)})),t?a&&c&&(a.refresh(c),o&&(o.setState(o.state,!0),l(n.axes,(function(t){t.crosshair&&t.drawCrosshair(null,o)})))):(o&&o.onMouseOut(),s&&l(s,(function(t){t.setState()})),r&&r.onMouseOut(),a&&a.hide(e),i.unDocMouseMove&&(i.unDocMouseMove=i.unDocMouseMove()),l(n.axes,(function(t){t.hideCrosshair()})),i.hoverX=n.hoverPoints=n.hoverPoint=null)},scaleGroups:function(t,e){var i,n=this.chart;l(n.series,(function(r){i=t||r.getPlotBox(),r.xAxis&&r.xAxis.zoomEnabled&&r.group&&(r.group.attr(i),r.markerGroup&&(r.markerGroup.attr(i),r.markerGroup.clip(e?n.clipRect:null)),r.dataLabelsGroup&&r.dataLabelsGroup.attr(i))})),n.clipRect.attr(e||n.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,i,n=this.chart,r=n.options.chart,s=t.chartX,a=t.chartY,l=this.zoomHor,c=this.zoomVert,u=n.plotLeft,h=n.plotTop,d=n.plotWidth,p=n.plotHeight,f=this.selectionMarker,m=this.mouseDownX,g=this.mouseDownY,v=r.panKey&&t[r.panKey+"Key"];f&&f.touch||(s<u?s=u:s>u+d&&(s=u+d),a<h?a=h:a>h+p&&(a=h+p),this.hasDragged=Math.sqrt(Math.pow(m-s,2)+Math.pow(g-a,2)),this.hasDragged>10&&(e=n.isInsidePlot(m-u,g-h),n.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!v&&(f||(this.selectionMarker=f=n.renderer.rect(u,h,l?1:d,c?1:p,0).attr({fill:r.selectionMarkerFill||o("#335cad").setOpacity(.25).get(),class:"highcharts-selection-marker",zIndex:7}).add())),f&&l&&(i=s-m,f.attr({width:Math.abs(i),x:(i>0?0:i)+m})),f&&c&&(i=a-g,f.attr({height:Math.abs(i),y:(i>0?0:i)+g})),e&&!f&&r.panning&&n.pan(t,r.panning)))},drop:function(t){var e=this,i=this.chart,n=this.hasPinched;if(this.selectionMarker){var r,o={originalEvent:t,xAxis:[],yAxis:[]},u=this.selectionMarker,d=u.attr?u.attr("x"):u.x,p=u.attr?u.attr("y"):u.y,f=u.attr?u.attr("width"):u.width,m=u.attr?u.attr("height"):u.height;(this.hasDragged||n)&&(l(i.axes,(function(i){if(i.zoomEnabled&&a(i.min)&&(n||e[{xAxis:"zoomX",yAxis:"zoomY"}[i.coll]])){var s=i.horiz,l="touchend"===t.type?i.minPixelPadding:0,c=i.toValue((s?d:p)+l),u=i.toValue((s?d+f:p+m)-l);o[i.coll].push({axis:i,min:Math.min(c,u),max:Math.max(c,u)}),r=!0}})),r&&h(i,"selection",o,(function(t){i.zoom(c(t,n?{animation:!1}:null))}))),this.selectionMarker=this.selectionMarker.destroy(),n&&this.scaleGroups()}i&&(s(i.container,{cursor:i._cursor}),i.cancelClick=this.hasDragged>10,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),this.zoomOption(t),t.preventDefault&&t.preventDefault(),this.dragStart(t)},onDocumentMouseUp:function(t){r[e.hoverChartIndex]&&r[e.hoverChartIndex].pointer.drop(t)},onDocumentMouseMove:function(t){var e=this.chart,i=this.chartPosition;t=this.normalize(t,i),!i||this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||this.reset()},onContainerMouseLeave:function(t){var i=r[e.hoverChartIndex];i&&(t.relatedTarget||t.toElement)&&(i.pointer.reset(),i.pointer.chartPosition=null)},onContainerMouseMove:function(t){var i=this.chart;a(e.hoverChartIndex)&&r[e.hoverChartIndex]&&r[e.hoverChartIndex].mouseIsDown||(e.hoverChartIndex=i.index),(t=this.normalize(t)).returnValue=!1,"mousedown"===i.mouseIsDown&&this.drag(t),!this.inClass(t.target,"highcharts-tracker")&&!i.isInsidePlot(t.chartX-i.plotLeft,t.chartY-i.plotTop)||i.openMenu||this.runPointActions(t)},inClass:function(t,e){for(var i;t;){if(i=n(t,"class")){if(-1!==i.indexOf(e))return!0;if(-1!==i.indexOf("highcharts-container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries,i=t.relatedTarget||t.toElement;this.isDirectTouch=!1,!e||!i||e.stickyTracking||this.inClass(i,"highcharts-tooltip")||this.inClass(i,"highcharts-series-"+e.index)&&this.inClass(i,"highcharts-tracker")||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,i=e.hoverPoint,n=e.plotLeft,r=e.plotTop;t=this.normalize(t),e.cancelClick||(i&&this.inClass(t.target,"highcharts-tracker")?(h(i.series,"click",c(t,{point:i})),e.hoverPoint&&i.firePointEvent("click",t)):(c(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-n,t.chartY-r)&&h(e,"click",t)))},setDOMEvents:function(){var t=this,n=t.chart.container,r=n.ownerDocument;n.onmousedown=function(e){t.onContainerMouseDown(e)},n.onmousemove=function(e){t.onContainerMouseMove(e)},n.onclick=function(e){t.onContainerClick(e)},this.unbindContainerMouseLeave=i(n,"mouseleave",t.onContainerMouseLeave),e.unbindDocumentMouseUp||(e.unbindDocumentMouseUp=i(r,"mouseup",t.onDocumentMouseUp)),e.hasTouch&&(n.ontouchstart=function(e){t.onContainerTouchStart(e)},n.ontouchmove=function(e){t.onContainerTouchMove(e)},e.unbindDocumentTouchEnd||(e.unbindDocumentTouchEnd=i(r,"touchend",t.onDocumentTouchEnd)))},destroy:function(){var t=this;t.unDocMouseMove&&t.unDocMouseMove(),this.unbindContainerMouseLeave(),e.chartCount||(e.unbindDocumentMouseUp&&(e.unbindDocumentMouseUp=e.unbindDocumentMouseUp()),e.unbindDocumentTouchEnd&&(e.unbindDocumentTouchEnd=e.unbindDocumentTouchEnd())),clearInterval(t.tooltipTimeout),e.objectEach(t,(function(e,i){t[i]=null}))}}}(m),function(t){var e=t.charts,i=t.each,n=t.extend,r=t.map,o=t.noop,s=t.pick,a=t.Pointer;n(a.prototype,{pinchTranslate:function(t,e,i,n,r,o){this.zoomHor&&this.pinchTranslateDirection(!0,t,e,i,n,r,o),this.zoomVert&&this.pinchTranslateDirection(!1,t,e,i,n,r,o)},pinchTranslateDirection:function(t,e,i,n,r,o,s,a){var l,c,u,h,d,p,f=this.chart,m=t?"x":"y",g=t?"X":"Y",v="chart"+g,y=t?"width":"height",b=f["plot"+(t?"Left":"Top")],w=a||1,x=f.inverted,_=f.bounds[t?"h":"v"],k=1===e.length,C=e[0][v],S=i[0][v],T=!k&&e[1][v],A=!k&&i[1][v],E=function(){!k&&Math.abs(C-T)>20&&(w=a||Math.abs(S-A)/Math.abs(C-T)),u=(b-S)/w+C,l=f["plot"+(t?"Width":"Height")]/w};E(),(c=u)<_.min?(c=_.min,h=!0):c+l>_.max&&(c=_.max-l,h=!0),h?(S-=.8*(S-s[m][0]),k||(A-=.8*(A-s[m][1])),E()):s[m]=[S,A],x||(o[m]=u-b,o[y]=l),p=x?t?"scaleY":"scaleX":"scale"+g,d=x?1/w:w,r[y]=l,r[m]=c,n[p]=w,n["translate"+g]=d*b+(S-d*C)},pinch:function(t){var e=this,a=e.chart,l=e.pinchDown,c=t.touches,u=c.length,h=e.lastValidTouch,d=e.hasZoom,p=e.selectionMarker,f={},m=1===u&&(e.inClass(t.target,"highcharts-tracker")&&a.runTrackerClick||e.runChartClick),g={};u>1&&(e.initiated=!0),d&&e.initiated&&!m&&t.preventDefault(),r(c,(function(t){return e.normalize(t)})),"touchstart"===t.type?(i(c,(function(t,e){l[e]={chartX:t.chartX,chartY:t.chartY}})),h.x=[l[0].chartX,l[1]&&l[1].chartX],h.y=[l[0].chartY,l[1]&&l[1].chartY],i(a.axes,(function(t){if(t.zoomEnabled){var e=a.bounds[t.horiz?"h":"v"],i=t.minPixelPadding,n=t.toPixels(s(t.options.min,t.dataMin)),r=t.toPixels(s(t.options.max,t.dataMax)),o=Math.min(n,r),l=Math.max(n,r);e.min=Math.min(t.pos,o-i),e.max=Math.max(t.pos+t.len,l+i)}})),e.res=!0):e.followTouchMove&&1===u?this.runPointActions(e.normalize(t)):l.length&&(p||(e.selectionMarker=p=n({destroy:o,touch:!0},a.plotBox)),e.pinchTranslate(l,c,f,p,g,h),e.hasPinched=d,e.scaleGroups(f,g),e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(e,i){var n,r,o=this.chart;o.index!==t.hoverChartIndex&&this.onContainerMouseLeave({relatedTarget:!0}),t.hoverChartIndex=o.index,1===e.touches.length?(e=this.normalize(e),o.isInsidePlot(e.chartX-o.plotLeft,e.chartY-o.plotTop)&&!o.openMenu?(i&&this.runPointActions(e),"touchmove"===e.type&&(n=!!(r=this.pinchDown)[0]&&Math.sqrt(Math.pow(r[0].chartX-e.chartX,2)+Math.pow(r[0].chartY-e.chartY,2))>=4),s(n,!0)&&this.pinch(e)):i&&this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchStart:function(t){this.zoomOption(t),this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(i){e[t.hoverChartIndex]&&e[t.hoverChartIndex].pointer.drop(i)}})}(m),function(t){var e=t.addEvent,i=t.charts,n=t.css,r=t.doc,o=t.extend,s=t.hasTouch,a=t.noop,l=t.Pointer,c=t.removeEvent,u=t.win,h=t.wrap;if(!s&&(u.PointerEvent||u.MSPointerEvent)){var d={},p=!!u.PointerEvent,f=function(){var e=[];return e.item=function(t){return this[t]},t.objectEach(d,(function(t){e.push({pageX:t.pageX,pageY:t.pageY,target:t.target})})),e},m=function(e,n,r,o){"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!i[t.hoverChartIndex]||(o(e),i[t.hoverChartIndex].pointer[n]({type:r,target:e.currentTarget,preventDefault:a,touches:f()}))};o(l.prototype,{onContainerPointerDown:function(t){m(t,"onContainerTouchStart","touchstart",(function(t){d[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}}))},onContainerPointerMove:function(t){m(t,"onContainerTouchMove","touchmove",(function(t){d[t.pointerId]={pageX:t.pageX,pageY:t.pageY},d[t.pointerId].target||(d[t.pointerId].target=t.currentTarget)}))},onDocumentPointerUp:function(t){m(t,"onDocumentTouchEnd","touchend",(function(t){delete d[t.pointerId]}))},batchMSEvents:function(t){t(this.chart.container,p?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,p?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(r,p?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),h(l.prototype,"init",(function(t,e,i){t.call(this,e,i),this.hasZoom&&n(e.container,{"-ms-touch-action":"none","touch-action":"none"})})),h(l.prototype,"setDOMEvents",(function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(e)})),h(l.prototype,"destroy",(function(t){this.batchMSEvents(c),t.call(this)}))}}(m),function(t){var e=t,i=e.addEvent,n=e.css,r=e.discardElement,o=e.defined,s=e.each,a=e.isFirefox,l=e.marginNames,c=e.merge,u=e.pick,h=e.setAnimation,d=e.stableSort,p=e.win,f=e.wrap;t.Legend=function(t,e){this.init(t,e)},t.Legend.prototype={init:function(t,e){this.chart=t,this.setOptions(e),e.enabled&&(this.render(),i(this.chart,"endResize",(function(){this.legend.positionCheckboxes()})))},setOptions:function(t){var e=u(t.padding,8);this.options=t,this.itemStyle=t.itemStyle,this.itemHiddenStyle=c(this.itemStyle,t.itemHiddenStyle),this.itemMarginTop=t.itemMarginTop||0,this.padding=e,this.initialItemY=e-5,this.maxItemWidth=0,this.itemHeight=0,this.symbolWidth=u(t.symbolWidth,16),this.pages=[]},update:function(t,e){var i=this.chart;this.setOptions(c(!0,this.options,t)),this.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,u(e,!0)&&i.redraw()},colorizeItem:function(t,e){t.legendGroup[e?"removeClass":"addClass"]("highcharts-legend-item-hidden");var i=this,n=i.options,r=t.legendItem,o=t.legendLine,s=t.legendSymbol,a=i.itemHiddenStyle.color,l=e?n.itemStyle.color:a,c=e&&t.color||a,u=t.options&&t.options.marker,h={fill:c};r&&r.css({fill:l,color:l}),o&&o.attr({stroke:c}),s&&(u&&s.isMarker&&(h=t.pointAttribs(),e||(h.stroke=h.fill=a)),s.attr(h))},positionItem:function(t){var e=this,i=e.options,n=i.symbolPadding,r=!i.rtl,o=t._legendItemPos,s=o[0],a=o[1],l=t.checkbox,c=t.legendGroup;c&&c.element&&c.translate(r?s:e.legendWidth-s-2*n-4,a),l&&(l.x=s,l.y=a)},destroyItem:function(t){var e=t.checkbox;s(["legendItem","legendLine","legendSymbol","legendGroup"],(function(e){t[e]&&(t[e]=t[e].destroy())})),e&&r(t.checkbox)},destroy:function(){function t(t){this[t]&&(this[t]=this[t].destroy())}s(this.getAllItems(),(function(e){s(["legendItem","legendGroup"],t,e)})),s(["clipRect","up","down","pager","nav","box","title","group"],t,this),this.display=null},positionCheckboxes:function(){var t,e=this.group&&this.group.alignAttr,i=this.clipHeight||this.legendHeight,r=this.titleHeight;e&&(t=e.translateY,s(this.allItems,(function(o){var s,a=o.checkbox;a&&(s=t+r+a.y+(this.scrollOffset||0)+3,n(a,{left:e.translateX+o.checkboxOffset+a.x-20+"px",top:s+"px",display:s>t-6&&s<t+i-6?"":"none"}))}),this))},renderTitle:function(){var t,e=this.options,i=this.padding,n=e.title,r=0;n.text&&(this.title||(this.title=this.chart.renderer.label(n.text,i-3,i-4,null,null,null,e.useHTML,null,"legend-title").attr({zIndex:1}).css(n.style).add(this.group)),r=(t=this.title.getBBox()).height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:r})),this.titleHeight=r},setText:function(t){var i=this.options;t.legendItem.attr({text:i.labelFormat?e.format(i.labelFormat,t):i.labelFormatter.call(t)})},renderItem:function(t){var e,i,n,r=this,o=r.chart,s=o.renderer,a=r.options,l="horizontal"===a.layout,h=r.symbolWidth,d=a.symbolPadding,p=r.itemStyle,f=r.itemHiddenStyle,m=r.padding,g=l?u(a.itemDistance,20):0,v=!a.rtl,y=a.width,b=a.itemMarginBottom||0,w=r.itemMarginTop,x=t.legendItem,_=!t.series,k=!_&&t.series.drawLegendSymbol?t.series:t,C=k.options,S=r.createCheckboxForItem&&C&&C.showCheckbox,T=h+d+g+(S?20:0),A=a.useHTML,E=12,P=t.options.className;x||(t.legendGroup=s.g("legend-item").addClass("highcharts-"+k.type+"-series highcharts-color-"+t.colorIndex+(P?" "+P:"")+(_?" highcharts-series-"+t.index:"")).attr({zIndex:1}).add(r.scrollGroup),t.legendItem=x=s.text("",v?h+d:-d,r.baseline||0,A).css(c(t.visible?p:f)).attr({align:v?"left":"right",zIndex:2}).add(t.legendGroup),r.baseline||(E=p.fontSize,r.fontMetrics=s.fontMetrics(E,x),r.baseline=r.fontMetrics.f+3+w,x.attr("y",r.baseline)),r.symbolHeight=a.symbolHeight||r.fontMetrics.f,k.drawLegendSymbol(r,t),r.setItemEvents&&r.setItemEvents(t,x,A),S&&r.createCheckboxForItem(t)),r.colorizeItem(t,t.visible),p.width||x.css({width:(a.itemWidth||a.width||o.spacingBox.width)-T}),r.setText(t),i=x.getBBox(),n=t.checkboxOffset=a.itemWidth||t.legendItemWidth||i.width+T,r.itemHeight=e=Math.round(t.legendItemHeight||i.height||r.symbolHeight),l&&r.itemX-m+n>(y||o.spacingBox.width-2*m-a.x)&&(r.itemX=m,r.itemY+=w+r.lastLineHeight+b,r.lastLineHeight=0),r.maxItemWidth=Math.max(r.maxItemWidth,n),r.lastItemY=w+r.itemY+b,r.lastLineHeight=Math.max(e,r.lastLineHeight),t._legendItemPos=[r.itemX,r.itemY],l?r.itemX+=n:(r.itemY+=w+e+b,r.lastLineHeight=e),r.offsetWidth=y||Math.max((l?r.itemX-m-(t.checkbox?0:g):n)+m,r.offsetWidth)},getAllItems:function(){var t=[];return s(this.chart.series,(function(e){var i=e&&e.options;e&&u(i.showInLegend,!o(i.linkedTo)&&void 0,!0)&&(t=t.concat(e.legendItems||("point"===i.legendType?e.data:e)))})),t},adjustMargins:function(t,e){var i=this.chart,n=this.options,r=n.align.charAt(0)+n.verticalAlign.charAt(0)+n.layout.charAt(0);n.floating||s([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],(function(s,a){s.test(r)&&!o(t[a])&&(i[l[a]]=Math.max(i[l[a]],i.legend[(a+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][a]*n[a%2?"x":"y"]+u(n.margin,12)+e[a]))}))},render:function(){var t,e,i,n,r=this,o=r.chart,a=o.renderer,l=r.group,u=r.box,h=r.options,p=r.padding;r.itemX=p,r.itemY=r.initialItemY,r.offsetWidth=0,r.lastItemY=0,l||(r.group=l=a.g("legend").attr({zIndex:7}).add(),r.contentGroup=a.g().attr({zIndex:1}).add(l),r.scrollGroup=a.g().add(r.contentGroup)),r.renderTitle(),t=r.getAllItems(),d(t,(function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)})),h.reversed&&t.reverse(),r.allItems=t,r.display=e=!!t.length,r.lastLineHeight=0,s(t,(function(t){r.renderItem(t)})),i=(h.width||r.offsetWidth)+p,n=r.lastItemY+r.lastLineHeight+r.titleHeight,n=r.handleOverflow(n),n+=p,u||(r.box=u=a.rect().addClass("highcharts-legend-box").attr({r:h.borderRadius}).add(l),u.isNew=!0),u.attr({stroke:h.borderColor,"stroke-width":h.borderWidth||0,fill:h.backgroundColor||"none"}).shadow(h.shadow),i>0&&n>0&&(u[u.isNew?"attr":"animate"](u.crisp.call({},{x:0,y:0,width:i,height:n},u.strokeWidth())),u.isNew=!1),u[e?"show":"hide"](),r.legendWidth=i,r.legendHeight=n,s(t,(function(t){r.positionItem(t)})),e&&l.align(c(h,{width:i,height:n}),!0,"spacingBox"),o.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e,i,n=this,r=this.chart,o=r.renderer,a=this.options,l=a.y,c="top"===a.verticalAlign,h=this.padding,d=r.spacingBox.height+(c?-l:l)-h,p=a.maxHeight,f=this.clipRect,m=a.navigation,g=u(m.animation,!0),v=m.arrowSize||12,y=this.nav,b=this.pages,w=this.allItems,x=function(t){"number"==typeof t?f.attr({height:t}):f&&(n.clipRect=f.destroy(),n.contentGroup.clip()),n.contentGroup.div&&(n.contentGroup.div.style.clip=t?"rect("+h+"px,9999px,"+(h+t)+"px,0)":"auto")};return"horizontal"!==a.layout||"middle"===a.verticalAlign||a.floating||(d/=2),p&&(d=Math.min(d,p)),b.length=0,t>d&&!1!==m.enabled?(this.clipHeight=e=Math.max(d-20-this.titleHeight-h,0),this.currentPage=u(this.currentPage,1),this.fullHeight=t,s(w,(function(t,n){var r=t._legendItemPos[1],o=Math.round(t.legendItem.getBBox().height),s=b.length;(!s||r-b[s-1]>e&&(i||r)!==b[s-1])&&(b.push(i||r),s++),n===w.length-1&&r+o-b[s-1]>e&&b.push(r),r!==i&&(i=r)})),f||(f=n.clipRect=o.clipRect(0,h,9999,0),n.contentGroup.clip(f)),x(e),y||(this.nav=y=o.g().attr({zIndex:1}).add(this.group),this.up=o.symbol("triangle",0,0,v,v).on("click",(function(){n.scroll(-1,g)})).add(y),this.pager=o.text("",15,10).addClass("highcharts-legend-navigation").css(m.style).add(y),this.down=o.symbol("triangle-down",0,0,v,v).on("click",(function(){n.scroll(1,g)})).add(y)),n.scroll(0),t=d):y&&(x(),this.nav=y.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var i=this.pages,n=i.length,r=this.currentPage+t,o=this.clipHeight,s=this.options.navigation,a=this.pager,l=this.padding;r>n&&(r=n),r>0&&(void 0!==e&&h(e,this.chart),this.nav.attr({translateX:l,translateY:o+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({class:1===r?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),a.attr({text:r+"/"+n}),this.down.attr({x:18+this.pager.getBBox().width,class:r===n?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.up.attr({fill:1===r?s.inactiveColor:s.activeColor}).css({cursor:1===r?"default":"pointer"}),this.down.attr({fill:r===n?s.inactiveColor:s.activeColor}).css({cursor:r===n?"default":"pointer"}),this.scrollOffset=-i[r-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=r,this.positionCheckboxes())}},e.LegendSymbolMixin={drawRectangle:function(t,e){var i=t.options,n=t.symbolHeight,r=i.squareSymbol,o=r?n:t.symbolWidth;e.legendSymbol=this.chart.renderer.rect(r?(t.symbolWidth-n)/2:0,t.baseline-n+1,o,n,u(t.options.symbolRadius,n/2)).addClass("highcharts-point").attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e,i,n=this.options,r=n.marker,o=t.symbolWidth,s=t.symbolHeight,a=s/2,l=this.chart.renderer,h=this.legendGroup,d=t.baseline-Math.round(.3*t.fontMetrics.b),p={};p={"stroke-width":n.lineWidth||0},n.dashStyle&&(p.dashstyle=n.dashStyle),this.legendLine=l.path(["M",0,d,"L",o,d]).addClass("highcharts-graph").attr(p).add(h),r&&!1!==r.enabled&&(e=Math.min(u(r.radius,a),a),0===this.symbol.indexOf("url")&&(r=c(r,{width:s,height:s}),e=0),this.legendSymbol=i=l.symbol(this.symbol,o/2-e,d-e,2*e,2*e,r).addClass("highcharts-point").add(h),i.isMarker=!0)}},(/Trident\/7\.0/.test(p.navigator.userAgent)||a)&&f(t.Legend.prototype,"positionItem",(function(t,e){var i=this,n=function(){e._legendItemPos&&t.call(i,e)};n(),setTimeout(n)}))}(m),function(t){var e=t.addEvent,i=t.animate,n=t.animObject,r=t.attr,o=t.doc,s=t.Axis,a=t.createElement,l=t.defaultOptions,c=t.discardElement,u=t.charts,h=t.css,d=t.defined,p=t.each,f=t.extend,m=t.find,g=t.fireEvent,v=t.grep,y=t.isNumber,b=t.isObject,w=t.isString,x=t.Legend,_=t.marginNames,k=t.merge,C=t.objectEach,S=t.Pointer,T=t.pick,A=t.pInt,E=t.removeEvent,P=t.seriesTypes,M=t.splat,L=t.svg,O=t.syncTimeout,D=t.win,I=t.Chart=function(){this.getArgs.apply(this,arguments)};t.chart=function(t,e,i){return new I(t,e,i)},f(I.prototype,{callbacks:[],getArgs:function(){var t=[].slice.call(arguments);(w(t[0])||t[0].nodeName)&&(this.renderTo=t.shift()),this.init(t[0],t[1])},init:function(i,n){var r,o,s=i.series,a=i.plotOptions||{};for(o in i.series=null,(r=k(l,i)).plotOptions)r.plotOptions[o].tooltip=a[o]&&k(a[o].tooltip)||void 0;r.tooltip.userOptions=i.chart&&i.chart.forExport&&i.tooltip.userOptions||i.tooltip,r.series=i.series=s,this.userOptions=i;var c=r.chart,h=c.events;this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=n,this.isResizing=0,this.options=r,this.axes=[],this.series=[],this.hasCartesianSeries=c.showAxes;var d=this;d.index=u.length,u.push(d),t.chartCount++,h&&C(h,(function(t,i){e(d,i,t)})),d.xAxis=[],d.yAxis=[],d.pointCount=d.colorCounter=d.symbolCounter=0,d.firstRender()},initSeries:function(e){var i,n=this.options.chart,r=e.type||n.type||n.defaultSeriesType,o=P[r];return o||t.error(17,!0),(i=new o).init(this,e),i},orderSeries:function(t){for(var e=this.series,i=t||0;i<e.length;i++)e[i]&&(e[i].index=i,e[i].name=e[i].name||"Series "+(e[i].index+1))},isInsidePlot:function(t,e,i){var n=i?e:t,r=i?t:e;return n>=0&&n<=this.plotWidth&&r>=0&&r<=this.plotHeight},redraw:function(e){var i,n,r,o,s=this,a=s.axes,l=s.series,c=s.pointer,u=s.legend,h=s.isDirtyLegend,d=s.hasCartesianSeries,m=s.isDirtyBox,v=s.renderer,y=v.isHidden(),b=[];for(s.setResponsive&&s.setResponsive(!1),t.setAnimation(e,s),y&&s.temporaryDisplay(),s.layOutTitles(),r=l.length;r--;)if((o=l[r]).options.stacking&&(i=!0,o.isDirty)){n=!0;break}if(n)for(r=l.length;r--;)(o=l[r]).options.stacking&&(o.isDirty=!0);p(l,(function(t){t.isDirty&&"point"===t.options.legendType&&(t.updateTotals&&t.updateTotals(),h=!0),t.isDirtyData&&g(t,"updatedData")})),h&&u.options.enabled&&(u.render(),s.isDirtyLegend=!1),i&&s.getStacks(),d&&p(a,(function(t){t.updateNames(),t.setScale()})),s.getMargins(),d&&(p(a,(function(t){t.isDirty&&(m=!0)})),p(a,(function(t){var e=t.min+","+t.max;t.extKey!==e&&(t.extKey=e,b.push((function(){g(t,"afterSetExtremes",f(t.eventArgs,t.getExtremes())),delete t.eventArgs}))),(m||i)&&t.redraw()}))),m&&s.drawChartBox(),g(s,"predraw"),p(l,(function(t){(m||t.isDirty)&&t.visible&&t.redraw(),t.isDirtyData=!1})),c&&c.reset(!0),v.draw(),g(s,"redraw"),g(s,"render"),y&&s.temporaryDisplay(!0),p(b,(function(t){t.call()}))},get:function(t){function e(e){return e.id===t||e.options&&e.options.id===t}var i,n,r=this.series;for(i=m(this.axes,e)||m(this.series,e),n=0;!i&&n<r.length;n++)i=m(r[n].points||[],e);return i},getAxes:function(){var t,e=this,i=this.options,n=i.xAxis=M(i.xAxis||{}),r=i.yAxis=M(i.yAxis||{});p(n,(function(t,e){t.index=e,t.isX=!0})),p(r,(function(t,e){t.index=e})),t=n.concat(r),p(t,(function(t){new s(e,t)}))},getSelectedPoints:function(){var t=[];return p(this.series,(function(e){t=t.concat(v(e.data||[],(function(t){return t.selected})))})),t},getSelectedSeries:function(){return v(this.series,(function(t){return t.selected}))},setTitle:function(t,e,i){var n,r,o=this,s=o.options;n=s.title=k({style:{color:"#333333",fontSize:s.isStock?"16px":"18px"}},s.title,t),r=s.subtitle=k({style:{color:"#666666"}},s.subtitle,e),p([["title",t,n],["subtitle",e,r]],(function(t,e){var i=t[0],n=o[i],r=t[1],s=t[2];n&&r&&(o[i]=n=n.destroy()),s&&!n&&(o[i]=o.renderer.text(s.text,0,0,s.useHTML).attr({align:s.align,class:"highcharts-"+i,zIndex:s.zIndex||4}).add(),o[i].update=function(t){o.setTitle(!e&&t,e&&t)},o[i].css(s.style))})),o.layOutTitles(i)},layOutTitles:function(t){var e,i=0,n=this.renderer,r=this.spacingBox;p(["title","subtitle"],(function(t){var e,o=this[t],s=this.options[t],a="title"===t?-3:s.verticalAlign?0:i+2;o&&(e=s.style.fontSize,e=n.fontMetrics(e,o).b,o.css({width:(s.width||r.width+s.widthAdjust)+"px"}).align(f({y:a+e},s),!1,"spacingBox"),s.floating||s.verticalAlign||(i=Math.ceil(i+o.getBBox(s.useHTML).height)))}),this),e=this.titleOffset!==i,this.titleOffset=i,!this.isDirtyBox&&e&&(this.isDirtyBox=e,this.hasRendered&&T(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=this,i=e.options.chart,n=i.width,r=i.height,o=e.renderTo;d(n)||(e.containerWidth=t.getStyle(o,"width")),d(r)||(e.containerHeight=t.getStyle(o,"height")),e.chartWidth=Math.max(0,n||e.containerWidth||600),e.chartHeight=Math.max(0,t.relativeLength(r,e.chartWidth)||(e.containerHeight>1?e.containerHeight:400))},temporaryDisplay:function(e){var i,n=this.renderTo;if(e)for(;n&&n.style;)n.hcOrigStyle&&(t.css(n,n.hcOrigStyle),delete n.hcOrigStyle),n.hcOrigDetached&&(o.body.removeChild(n),n.hcOrigDetached=!1),n=n.parentNode;else for(;n&&n.style&&(o.body.contains(n)||n.parentNode||(n.hcOrigDetached=!0,o.body.appendChild(n)),("none"===t.getStyle(n,"display",!1)||n.hcOricDetached)&&(n.hcOrigStyle={display:n.style.display,height:n.style.height,overflow:n.style.overflow},i={display:"block",overflow:"hidden"},n!==this.renderTo&&(i.height=0),t.css(n,i),n.offsetWidth||n.style.setProperty("display","block","important")),(n=n.parentNode)!==o.body););},setClassName:function(t){this.container.className="highcharts-container "+(t||"")},getContainer:function(){var e,i,n,s,l,c,h=this,d=h.options,p=d.chart,m=h.renderTo,g="data-highcharts-chart",v=t.uniqueKey();m||(h.renderTo=m=p.renderTo),w(m)&&(h.renderTo=m=o.getElementById(m)),m||t.error(13,!0),s=A(r(m,g)),y(s)&&u[s]&&u[s].hasRendered&&u[s].destroy(),r(m,g,h.index),m.innerHTML="",p.skipClone||m.offsetWidth||h.temporaryDisplay(),h.getChartSize(),i=h.chartWidth,n=h.chartHeight,c=f({position:"relative",overflow:"hidden",width:i+"px",height:n+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},p.style),e=a("div",{id:v},c,m),h.container=e,h._cursor=e.style.cursor,l=t[p.renderer]||t.Renderer,h.renderer=new l(e,i,n,null,p.forExport,d.exporting&&d.exporting.allowHTML),h.setClassName(p.className),h.renderer.setStyle(p.style),h.renderer.chartIndex=h.index},getMargins:function(t){var e=this,i=e.spacing,n=e.margin,r=e.titleOffset;e.resetMargins(),r&&!d(n[0])&&(e.plotTop=Math.max(e.plotTop,r+e.options.title.margin+i[0])),e.legend&&e.legend.display&&e.legend.adjustMargins(n,i),e.extraMargin&&(e[e.extraMargin.type]=(e[e.extraMargin.type]||0)+e.extraMargin.value),e.adjustPlotArea&&e.adjustPlotArea(),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],i=t.margin;t.hasCartesianSeries&&p(t.axes,(function(t){t.visible&&t.getOffset()})),p(_,(function(n,r){d(i[r])||(t[n]+=e[r])})),t.setChartSize()},reflow:function(e){var i=this,n=i.options.chart,r=i.renderTo,s=d(n.width)&&d(n.height),a=n.width||t.getStyle(r,"width"),l=n.height||t.getStyle(r,"height"),c=e?e.target:D;s||i.isPrinting||!a||!l||c!==D&&c!==o||(a===i.containerWidth&&l===i.containerHeight||(clearTimeout(i.reflowTimeout),i.reflowTimeout=O((function(){i.container&&i.setSize(void 0,void 0,!1)}),e?100:0)),i.containerWidth=a,i.containerHeight=l)},initReflow:function(){var t,i=this;t=e(D,"resize",(function(t){i.reflow(t)})),e(i,"destroy",t)},setSize:function(e,r,o){var s,a=this,l=a.renderer;a.isResizing+=1,t.setAnimation(o,a),a.oldChartHeight=a.chartHeight,a.oldChartWidth=a.chartWidth,void 0!==e&&(a.options.chart.width=e),void 0!==r&&(a.options.chart.height=r),a.getChartSize(),((s=l.globalAnimation)?i:h)(a.container,{width:a.chartWidth+"px",height:a.chartHeight+"px"},s),a.setChartSize(!0),l.setSize(a.chartWidth,a.chartHeight,o),p(a.axes,(function(t){t.isDirty=!0,t.setScale()})),a.isDirtyLegend=!0,a.isDirtyBox=!0,a.layOutTitles(),a.getMargins(),a.redraw(o),a.oldChartHeight=null,g(a,"resize"),O((function(){a&&g(a,"endResize",null,(function(){a.isResizing-=1}))}),n(s).duration)},setChartSize:function(t){var e,i,n,r,o,s,a,l=this,c=l.inverted,u=l.renderer,h=l.chartWidth,d=l.chartHeight,f=l.options.chart,m=l.spacing,g=l.clipOffset;l.plotLeft=n=Math.round(l.plotLeft),l.plotTop=r=Math.round(l.plotTop),l.plotWidth=o=Math.max(0,Math.round(h-n-l.marginRight)),l.plotHeight=s=Math.max(0,Math.round(d-r-l.marginBottom)),l.plotSizeX=c?s:o,l.plotSizeY=c?o:s,l.plotBorderWidth=f.plotBorderWidth||0,l.spacingBox=u.spacingBox={x:m[3],y:m[0],width:h-m[3]-m[1],height:d-m[0]-m[2]},l.plotBox=u.plotBox={x:n,y:r,width:o,height:s},a=2*Math.floor(l.plotBorderWidth/2),e=Math.ceil(Math.max(a,g[3])/2),i=Math.ceil(Math.max(a,g[0])/2),l.clipBox={x:e,y:i,width:Math.floor(l.plotSizeX-Math.max(a,g[1])/2-e),height:Math.max(0,Math.floor(l.plotSizeY-Math.max(a,g[2])/2-i))},t||p(l.axes,(function(t){t.setAxisSize(),t.setAxisTranslation()}))},resetMargins:function(){var t=this,e=t.options.chart;p(["margin","spacing"],(function(i){var n=e[i],r=b(n)?n:[n,n,n,n];p(["Top","Right","Bottom","Left"],(function(n,o){t[i][o]=T(e[i+n],r[o])}))})),p(_,(function(e,i){t[e]=T(t.margin[i],t.spacing[i])})),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e,i,n=this,r=n.options.chart,o=n.renderer,s=n.chartWidth,a=n.chartHeight,l=n.chartBackground,c=n.plotBackground,u=n.plotBorder,h=n.plotBGImage,d=r.backgroundColor,p=r.plotBackgroundColor,f=r.plotBackgroundImage,m=n.plotLeft,g=n.plotTop,v=n.plotWidth,y=n.plotHeight,b=n.plotBox,w=n.clipRect,x=n.clipBox,_="animate";l||(n.chartBackground=l=o.rect().addClass("highcharts-background").add(),_="attr"),e=(t=r.borderWidth||0)+(r.shadow?8:0),i={fill:d||"none"},(t||l["stroke-width"])&&(i.stroke=r.borderColor,i["stroke-width"]=t),l.attr(i).shadow(r.shadow),l[_]({x:e/2,y:e/2,width:s-e-t%2,height:a-e-t%2,r:r.borderRadius}),_="animate",c||(_="attr",n.plotBackground=c=o.rect().addClass("highcharts-plot-background").add()),c[_](b),c.attr({fill:p||"none"}).shadow(r.plotShadow),f&&(h?h.animate(b):n.plotBGImage=o.image(f,m,g,v,y).add()),w?w.animate({width:x.width,height:x.height}):n.clipRect=o.clipRect(x),_="animate",u||(_="attr",n.plotBorder=u=o.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),u.attr({stroke:r.plotBorderColor,"stroke-width":r.plotBorderWidth||0,fill:"none"}),u[_](u.crisp({x:m,y:g,width:v,height:y},-u.strokeWidth())),n.isDirtyBox=!1},propFromSeries:function(){var t,e,i,n=this,r=n.options.chart,o=n.options.series;p(["inverted","angular","polar"],(function(s){for(t=P[r.type||r.defaultSeriesType],i=r[s]||t&&t.prototype[s],e=o&&o.length;!i&&e--;)(t=P[o[e].type])&&t.prototype[s]&&(i=!0);n[s]=i}))},linkSeries:function(){var t=this,e=t.series;p(e,(function(t){t.linkedSeries.length=0})),p(e,(function(e){var i=e.options.linkedTo
;w(i)&&(i=":previous"===i?t.series[e.index-1]:t.get(i))&&i.linkedParent!==e&&(i.linkedSeries.push(e),e.linkedParent=i,e.visible=T(e.options.visible,i.options.visible,e.visible))}))},renderSeries:function(){p(this.series,(function(t){t.translate(),t.render()}))},renderLabels:function(){var t=this,e=t.options.labels;e.items&&p(e.items,(function(i){var n=f(e.style,i.style),r=A(n.left)+t.plotLeft,o=A(n.top)+t.plotTop+12;delete n.left,delete n.top,t.renderer.text(i.html,r,o).attr({zIndex:2}).css(n).add()}))},render:function(){var t,e,i,n,r=this,o=r.axes,s=r.renderer,a=r.options;r.setTitle(),r.legend=new x(r,a.legend),r.getStacks&&r.getStacks(),r.getMargins(!0),r.setChartSize(),t=r.plotWidth,e=r.plotHeight=Math.max(r.plotHeight-21,0),p(o,(function(t){t.setScale()})),r.getAxisMargins(),i=t/r.plotWidth>1.1,n=e/r.plotHeight>1.05,(i||n)&&(p(o,(function(t){(t.horiz&&i||!t.horiz&&n)&&t.setTickInterval(!0)})),r.getMargins()),r.drawChartBox(),r.hasCartesianSeries&&p(o,(function(t){t.visible&&t.render()})),r.seriesGroup||(r.seriesGroup=s.g("series-group").attr({zIndex:3}).add()),r.renderSeries(),r.renderLabels(),r.addCredits(),r.setResponsive&&r.setResponsive(),r.hasRendered=!0},addCredits:function(t){var e=this;(t=k(!0,this.options.credits,t)).enabled&&!this.credits&&(this.credits=this.renderer.text(t.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",(function(){t.href&&(D.location.href=t.href)})).attr({align:t.position.align,zIndex:8}).css(t.style).add().align(t.position),this.credits.update=function(t){e.credits=e.credits.destroy(),e.addCredits(t)})},destroy:function(){var e,i=this,n=i.axes,r=i.series,o=i.container,s=o&&o.parentNode;for(g(i,"destroy"),i.renderer.forExport?t.erase(u,i):u[i.index]=void 0,t.chartCount--,i.renderTo.removeAttribute("data-highcharts-chart"),E(i),e=n.length;e--;)n[e]=n[e].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),e=r.length;e--;)r[e]=r[e].destroy();p(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"],(function(t){var e=i[t];e&&e.destroy&&(i[t]=e.destroy())})),o&&(o.innerHTML="",E(o),s&&c(o)),C(i,(function(t,e){delete i[e]}))},isReadyToRender:function(){var t=this;return!(!L&&D==D.top&&"complete"!==o.readyState)||(o.attachEvent("onreadystatechange",(function(){o.detachEvent("onreadystatechange",t.firstRender),"complete"===o.readyState&&t.firstRender()})),!1)},firstRender:function(){var t=this,e=t.options;t.isReadyToRender()&&(t.getContainer(),g(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),p(e.series||[],(function(e){t.initSeries(e)})),t.linkSeries(),g(t,"beforeRender"),S&&(t.pointer=new S(t,e)),t.render(),!t.renderer.imgCount&&t.onload&&t.onload(),t.temporaryDisplay(!0))},onload:function(){p([this.callback].concat(this.callbacks),(function(t){t&&void 0!==this.index&&t.apply(this,[this])}),this),g(this,"load"),g(this,"render"),d(this.index)&&!1!==this.options.chart.reflow&&this.initReflow(),this.onload=null}})}(m),function(t){var e,i=t,n=i.each,r=i.extend,o=i.erase,s=i.fireEvent,a=i.format,l=i.isArray,c=i.isNumber,u=i.pick,h=i.removeEvent;t.Point=e=function(){},t.Point.prototype={init:function(t,e,i){var n,r,o=this,s=t.chart.options.chart.colorCount;return o.series=t,o.color=t.color,o.applyOptions(e,i),t.options.colorByPoint?(n=t.options.colors||t.chart.options.colors,o.color=o.color||n[t.colorCounter],s=n.length,r=t.colorCounter,t.colorCounter++,t.colorCounter===s&&(t.colorCounter=0)):r=t.colorIndex,o.colorIndex=u(o.colorIndex,r),t.chart.pointCount++,o},applyOptions:function(t,i){var n=this,o=n.series,s=o.options.pointValKey||o.pointValKey;return t=e.prototype.optionsToObject.call(this,t),r(n,t),n.options=n.options?r(n.options,t):t,t.group&&delete n.group,s&&(n.y=n[s]),n.isNull=u(n.isValid&&!n.isValid(),null===n.x||!c(n.y,!0)),n.selected&&(n.state="select"),"name"in n&&void 0===i&&o.xAxis&&o.xAxis.hasNames&&(n.x=o.xAxis.nameToX(n)),void 0===n.x&&o&&(n.x=void 0===i?o.autoIncrement(n):i),n},optionsToObject:function(t){var e,i={},n=this.series,r=n.options.keys,o=r||n.pointArrayMap||["y"],s=o.length,a=0,u=0;if(c(t)||null===t)i[o[0]]=t;else if(l(t))for(!r&&t.length>s&&("string"===(e=typeof t[0])?i.name=t[0]:"number"===e&&(i.x=t[0]),a++);u<s;)r&&void 0===t[a]||(i[o[u]]=t[a]),a++,u++;else"object"==typeof t&&(i=t,t.dataLabels&&(n._hasPointLabels=!0),t.marker&&(n._hasPointMarkers=!0));return i},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},getZone:function(){var t,e=this.series,i=e.zones,n=e.zoneAxis||"y",r=0;for(t=i[r];this[n]>=t.value;)t=i[++r];return t&&t.color&&!this.options.color&&(this.color=t.color),t},destroy:function(){var t,e=this,i=e.series.chart,n=i.hoverPoints;for(t in i.pointCount--,n&&(e.setState(),o(n,e),n.length||(i.hoverPoints=null)),e===i.hoverPoint&&e.onMouseOut(),(e.graphic||e.dataLabel)&&(h(e),e.destroyElements()),e.legendItem&&i.legend.destroyItem(e),e)e[t]=null},destroyElements:function(){for(var t,e=this,i=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],n=6;n--;)e[t=i[n]]&&(e[t]=e[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,i=e.tooltipOptions,r=u(i.valueDecimals,""),o=i.valuePrefix||"",s=i.valueSuffix||"";return n(e.pointArrayMap||["y"],(function(e){e="{point."+e,(o||s)&&(t=t.replace(e+"}",o+e+"}"+s)),t=t.replace(e+"}",e+":,."+r+"f}")})),a(t,{point:this,series:this.series})},firePointEvent:function(t,e,i){var n=this,r=this.series.options;(r.point.events[t]||n.options&&n.options.events&&n.options.events[t])&&this.importEvents(),"click"===t&&r.allowPointSelect&&(i=function(t){n.select&&n.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),s(this,t,e,i)},visible:!0}}(m),function(t){var e=t.addEvent,i=t.animObject,n=t.arrayMax,r=t.arrayMin,o=t.correctFloat,s=t.Date,a=t.defaultOptions,l=t.defaultPlotOptions,c=t.defined,u=t.each,h=t.erase,d=t.extend,p=t.fireEvent,f=t.grep,m=t.isArray,g=t.isNumber,v=t.isString,y=t.LegendSymbolMixin,b=t.merge,w=t.objectEach,x=t.pick,_=t.Point,k=t.removeEvent,C=t.splat,S=t.SVGElement,T=t.syncTimeout,A=t.win;t.Series=t.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",radius:4,states:{hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":t.numberFormat(this.y,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},{isCartesian:!0,pointClass:_,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",init:function(t,i){var n,r,o=this,s=t.series;o.chart=t,o.options=i=o.setOptions(i),o.linkedSeries=[],o.bindAxes(),d(o,{name:i.name,state:"",visible:!1!==i.visible,selected:!0===i.selected}),n=i.events,w(n,(function(t,i){e(o,i,t)})),(n&&n.click||i.point&&i.point.events&&i.point.events.click||i.allowPointSelect)&&(t.runTrackerClick=!0),o.getColor(),o.getSymbol(),u(o.parallelArrays,(function(t){o[t+"Data"]=[]})),o.setData(i.data,!1),o.isCartesian&&(t.hasCartesianSeries=!0),s.length&&(r=s[s.length-1]),o._i=x(r&&r._i,-1)+1,t.orderSeries(this.insert(s))},insert:function(t){var e,i=this.options.index;if(g(i)){for(e=t.length;e--;)if(i>=x(t[e].options.index,t[e]._i)){t.splice(e+1,0,this);break}-1===e&&t.unshift(this),e+=1}else t.push(this);return x(e,t.length-1)},bindAxes:function(){var e,i=this,n=i.options,r=i.chart;u(i.axisTypes||[],(function(o){u(r[o],(function(t){e=t.options,(n[o]===e.index||void 0!==n[o]&&n[o]===e.id||void 0===n[o]&&0===e.index)&&(i.insert(t.series),i[o]=t,t.isDirty=!0)})),i[o]||i.optionalAxis===o||t.error(18,!0)}))},updateParallelArrays:function(t,e){var i=t.series,n=arguments,r=g(e)?function(n){var r="y"===n&&i.toYData?i.toYData(t):t[n];i[n+"Data"][e]=r}:function(t){Array.prototype[e].apply(i[t+"Data"],Array.prototype.slice.call(n,2))};u(i.parallelArrays,r)},autoIncrement:function(){var t,e,i=this.options,n=this.xIncrement,r=i.pointIntervalUnit;return n=x(n,i.pointStart,0),this.pointInterval=e=x(this.pointInterval,i.pointInterval,1),r&&(t=new s(n),"day"===r?t=+t[s.hcSetDate](t[s.hcGetDate]()+e):"month"===r?t=+t[s.hcSetMonth](t[s.hcGetMonth]()+e):"year"===r&&(t=+t[s.hcSetFullYear](t[s.hcGetFullYear]()+e)),e=t-n),this.xIncrement=n+e,n},setOptions:function(t){var e,i,n=this.chart,r=n.options,o=r.plotOptions,s=(n.userOptions||{}).plotOptions||{},l=o[this.type];return this.userOptions=t,e=b(l,o.series,t),this.tooltipOptions=b(a.tooltip,a.plotOptions.series&&a.plotOptions.series.tooltip,a.plotOptions[this.type].tooltip,r.tooltip.userOptions,o.series&&o.series.tooltip,o[this.type].tooltip,t.tooltip),this.stickyTracking=x(t.stickyTracking,s[this.type]&&s[this.type].stickyTracking,s.series&&s.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||e.stickyTracking),null===l.marker&&delete e.marker,this.zoneAxis=e.zoneAxis,i=this.zones=(e.zones||[]).slice(),!e.negativeColor&&!e.negativeFillColor||e.zones||i.push({value:e[this.zoneAxis+"Threshold"]||e.threshold||0,className:"highcharts-negative",color:e.negativeColor,fillColor:e.negativeFillColor}),i.length&&c(i[i.length-1].value)&&i.push({color:this.color,fillColor:this.fillColor}),e},getCyclic:function(t,e,i){var n,r,o=this.chart,s=this.userOptions,a=t+"Index",l=t+"Counter",u=i?i.length:x(o.options.chart[t+"Count"],o[t+"Count"]);e||(r=x(s[a],s["_"+a]),c(r)?n=r:(o.series.length||(o[l]=0),s["_"+a]=n=o[l]%u,o[l]+=1),i&&(e=i[n])),void 0!==n&&(this[a]=n),this[t]=e},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||l[this.type].color,this.chart.options.colors)},getSymbol:function(){var t=this.options.marker;this.getCyclic("symbol",t.symbol,this.chart.options.symbols)},drawLegendSymbol:y.drawLineMarker,setData:function(e,i,n,r){var o,s,a,l=this,c=l.points,h=c&&c.length||0,d=l.options,p=l.chart,f=null,y=l.xAxis,b=d.turboThreshold,w=this.xData,_=this.yData,k=l.pointArrayMap,C=k&&k.length;if(o=(e=e||[]).length,i=x(i,!0),!1!==r&&o&&h===o&&!l.cropped&&!l.hasGroupedData&&l.visible)u(e,(function(t,e){c[e].update&&t!==d.data[e]&&c[e].update(t,!1,null,!1)}));else{if(l.xIncrement=null,l.colorCounter=0,u(this.parallelArrays,(function(t){l[t+"Data"].length=0})),b&&o>b){for(s=0;null===f&&s<o;)f=e[s],s++;if(g(f))for(s=0;s<o;s++)w[s]=this.autoIncrement(),_[s]=e[s];else if(m(f))if(C)for(s=0;s<o;s++)a=e[s],w[s]=a[0],_[s]=a.slice(1,C+1);else for(s=0;s<o;s++)a=e[s],w[s]=a[0],_[s]=a[1];else t.error(12)}else for(s=0;s<o;s++)void 0!==e[s]&&(a={series:l},l.pointClass.prototype.applyOptions.apply(a,[e[s]]),l.updateParallelArrays(a,s));for(_&&v(_[0])&&t.error(14,!0),l.data=[],l.options.data=l.userOptions.data=e,s=h;s--;)c[s]&&c[s].destroy&&c[s].destroy();y&&(y.minRange=y.userMinRange),l.isDirty=p.isDirtyBox=!0,l.isDirtyData=!!c,n=!1}"point"===d.legendType&&(this.processData(),this.generatePoints()),i&&p.redraw(n)},processData:function(e){var i,n,r,o,s,a,l,c,u=this,h=u.xData,d=u.yData,p=h.length,f=0,m=u.xAxis,g=u.options,v=g.cropThreshold,y=u.getExtremesFromAll||g.getExtremesFromAll,b=u.isCartesian,w=m&&m.val2lin,x=m&&m.isLog,_=u.requireSorting;if(b&&!u.isDirty&&!m.isDirty&&!u.yAxis.isDirty&&!e)return!1;for(m&&(l=(a=m.getExtremes()).min,c=a.max),b&&u.sorted&&!y&&(!v||p>v||u.forceCrop)&&(h[p-1]<l||h[0]>c?(h=[],d=[]):(h[0]<l||h[p-1]>c)&&(h=(i=this.cropData(u.xData,u.yData,l,c)).xData,d=i.yData,f=i.start,n=!0)),s=h.length||1;--s;)(r=x?w(h[s])-w(h[s-1]):h[s]-h[s-1])>0&&(void 0===o||r<o)?o=r:r<0&&_&&(t.error(15),_=!1);u.cropped=n,u.cropStart=f,u.processedXData=h,u.processedYData=d,u.closestPointRange=o},cropData:function(t,e,i,n){var r,o,s=t.length,a=0,l=s,c=x(this.cropShoulder,1);for(r=0;r<s;r++)if(t[r]>=i){a=Math.max(0,r-c);break}for(o=r;o<s;o++)if(t[o]>n){l=o+c;break}return{xData:t.slice(a,l),yData:e.slice(a,l),start:a,end:l}},generatePoints:function(){var t,e,i,n,r=this,o=r.options,s=o.data,a=r.data,l=r.processedXData,c=r.processedYData,u=r.pointClass,h=l.length,d=r.cropStart||0,p=r.hasGroupedData,f=o.keys,m=[];if(!a&&!p){var g=[];g.length=s.length,a=r.data=g}for(f&&p&&(r.options.keys=!1),n=0;n<h;n++)e=d+n,p?(i=(new u).init(r,[l[n]].concat(C(c[n])))).dataGroup=r.groupMap[n]:(i=a[e])||void 0===s[e]||(a[e]=i=(new u).init(r,s[e],l[n])),i&&(i.index=e,m[n]=i);if(r.options.keys=f,a&&(h!==(t=a.length)||p))for(n=0;n<t;n++)n!==d||p||(n+=h),a[n]&&(a[n].destroyElements(),a[n].plotX=void 0);r.data=a,r.points=m},getExtremes:function(t){var e,i,o,s,a,l,c,u=this.xAxis,h=this.yAxis,d=this.processedXData,p=[],f=0,v=u.getExtremes(),y=v.min,b=v.max;for(e=(t=t||this.stackedYData||this.processedYData||[]).length,l=0;l<e;l++)if(s=d[l],a=t[l],i=(g(a,!0)||m(a))&&(!h.positiveValuesOnly||a.length||a>0),o=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(d[l+1]||s)>=y&&(d[l-1]||s)<=b,i&&o)if(c=a.length)for(;c--;)null!==a[c]&&(p[f++]=a[c]);else p[f++]=a;this.dataMin=r(p),this.dataMax=n(p)},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t,e,i,n,r,s=this,a=s.options,l=a.stacking,u=s.xAxis,h=u.categories,d=s.yAxis,p=s.points,f=p.length,m=!!s.modifyValue,v=a.pointPlacement,y="between"===v||g(v),b=a.threshold,w=a.startFromThreshold?b:0,_=Number.MAX_VALUE;for("between"===v&&(v=.5),g(v)&&(v*=x(a.pointRange||u.pointRange)),t=0;t<f;t++){var k,C,S=p[t],T=S.x,A=S.y,E=S.low,P=l&&d.stacks[(s.negStacks&&A<(w?0:b)?"-":"")+s.stackKey];d.positiveValuesOnly&&null!==A&&A<=0&&(S.isNull=!0),S.plotX=e=o(Math.min(Math.max(-1e5,u.translate(T,0,0,0,1,v,"flags"===this.type)),1e5)),l&&s.visible&&!S.isNull&&P&&P[T]&&(r=s.getStackIndicator(r,T,s.index),E=(C=(k=P[T]).points[r.key])[0],A=C[1],E===w&&r.key===P[T].base&&(E=x(b,d.min)),d.positiveValuesOnly&&E<=0&&(E=null),S.total=S.stackTotal=k.total,S.percentage=k.total&&S.y/k.total*100,S.stackY=A,k.setOffset(s.pointXOffset||0,s.barW||0)),S.yBottom=c(E)?d.translate(E,0,1,0,1):null,m&&(A=s.modifyValue(A,S)),S.plotY=i="number"==typeof A&&A!==1/0?Math.min(Math.max(-1e5,d.translate(A,0,1,0,1)),1e5):void 0,S.isInside=void 0!==i&&i>=0&&i<=d.len&&e>=0&&e<=u.len,S.clientX=y?o(u.translate(T,0,0,0,1,v)):e,S.negative=S.y<(b||0),S.category=h&&void 0!==h[S.x]?h[S.x]:S.x,S.isNull||(void 0!==n&&(_=Math.min(_,Math.abs(e-n))),n=e),S.zone=this.zones.length&&S.getZone()}s.closestPointRangePx=_},getValidPoints:function(t,e){var i=this.chart;return f(t||this.points||[],(function(t){return!(e&&!i.isInsidePlot(t.plotX,t.plotY,i.inverted))&&!t.isNull}))},setClip:function(t){var e=this.chart,i=this.options,n=e.renderer,r=e.inverted,o=this.clipBox,s=o||e.clipBox,a=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,s.height,i.xAxis,i.yAxis].join(","),l=e[a],c=e[a+"m"];l||(t&&(s.width=0,r&&(s.x=e.plotSizeX),e[a+"m"]=c=n.clipRect(r?e.plotSizeX+99:-99,r?-e.plotLeft:-e.plotTop,99,r?e.chartWidth:e.chartHeight)),e[a]=l=n.clipRect(s),l.count={length:0}),t&&(l.count[this.index]||(l.count[this.index]=!0,l.count.length+=1)),!1!==i.clip&&(this.group.clip(t||o?l:e.clipRect),this.markerGroup.clip(c),this.sharedClipKey=a),t||(l.count[this.index]&&(delete l.count[this.index],l.count.length-=1),0===l.count.length&&a&&e[a]&&(o||(e[a]=e[a].destroy()),e[a+"m"]&&(e[a+"m"]=e[a+"m"].destroy())))},animate:function(t){var e,n,r=this,o=r.chart,s=i(r.options.animation);t?r.setClip(s):((e=o[n=this.sharedClipKey])&&e.animate({width:o.plotSizeX,x:0},s),o[n+"m"]&&o[n+"m"].animate({width:o.plotSizeX+99,x:0},s),r.animate=null)},afterAnimate:function(){this.setClip(),p(this,"afterAnimate"),this.finishedAnimating=!0},drawPoints:function(){var t,e,i,n,r,o,s,a,l,c=this,u=c.points,h=c.chart,d=c.options.marker,p=c[c.specialGroup]||c.markerGroup,f=c.xAxis,m=x(d.enabled,!!f.isRadial||null,c.closestPointRangePx>=2*d.radius);if(!1!==d.enabled||c._hasPointMarkers)for(t=0;t<u.length;t++)n=(e=u[t]).graphic,r=e.marker||{},o=!!e.marker,s=m&&void 0===r.enabled||r.enabled,a=e.isInside,s&&!e.isNull?(i=x(r.symbol,c.symbol),e.hasImage=0===i.indexOf("url"),l=c.markerAttribs(e,e.selected&&"select"),n?n[a?"show":"hide"](!0).animate(l):a&&(l.width>0||e.hasImage)&&(e.graphic=n=h.renderer.symbol(i,l.x,l.y,l.width,l.height,o?r:d).add(p)),n&&n.attr(c.pointAttribs(e,e.selected&&"select")),n&&n.addClass(e.getClassName(),!0)):n&&(e.graphic=n.destroy())},markerAttribs:function(t,e){var i,n,r,o=this.options.marker,s=t.marker||{},a=x(s.radius,o.radius);return e&&(i=o.states[e],n=s.states&&s.states[e],a=x(n&&n.radius,i&&i.radius,a+(i&&i.radiusPlus||0))),t.hasImage&&(a=0),r={x:Math.floor(t.plotX)-a,y:t.plotY-a},a&&(r.width=r.height=2*a),r},pointAttribs:function(t,e){var i,n,r,o,s=this.options.marker,a=t&&t.options,l=a&&a.marker||{},c=this.color,u=a&&a.color,h=t&&t.color,d=x(l.lineWidth,s.lineWidth),p=t&&t.zone&&t.zone.color;return c=u||p||h||c,r=l.fillColor||s.fillColor||c,o=l.lineColor||s.lineColor||c,e&&(i=s.states[e],n=l.states&&l.states[e]||{},d=x(n.lineWidth,i.lineWidth,d+x(n.lineWidthPlus,i.lineWidthPlus,0)),r=n.fillColor||i.fillColor||r,o=n.lineColor||i.lineColor||o),{stroke:o,"stroke-width":d,fill:r}},destroy:function(){var t,e,i,n=this,r=n.chart,o=/AppleWebKit\/533/.test(A.navigator.userAgent),s=n.data||[];for(p(n,"destroy"),k(n),u(n.axisTypes||[],(function(t){(i=n[t])&&i.series&&(h(i.series,n),i.isDirty=i.forceRedraw=!0)})),n.legendItem&&n.chart.legend.destroyItem(n),t=s.length;t--;)(e=s[t])&&e.destroy&&e.destroy();n.points=null,clearTimeout(n.animationTimeout),w(n,(function(t,e){t instanceof S&&!t.survive&&t[o&&"group"===e?"hide":"destroy"]()})),r.hoverSeries===n&&(r.hoverSeries=null),h(r.series,n),r.orderSeries(),w(n,(function(t,e){delete n[e]}))},getGraphPath:function(t,e,i){var n,r,o=this,s=o.options,a=s.step,l=[],h=[];return(n=(t=t||o.points).reversed)&&t.reverse(),(a={right:1,center:2}[a]||a&&3)&&n&&(a=4-a),!s.connectNulls||e||i||(t=this.getValidPoints(t)),u(t,(function(n,u){var d,p=n.plotX,f=n.plotY,m=t[u-1];(n.leftCliff||m&&m.rightCliff)&&!i&&(r=!0),n.isNull&&!c(e)&&u>0?r=!s.connectNulls:n.isNull&&!e?r=!0:(0===u||r?d=["M",n.plotX,n.plotY]:o.getPointSpline?d=o.getPointSpline(t,n,u):a?(d=1===a?["L",m.plotX,f]:2===a?["L",(m.plotX+p)/2,m.plotY,"L",(m.plotX+p)/2,f]:["L",p,m.plotY]).push("L",p,f):d=["L",p,f],h.push(n.x),a&&h.push(n.x),l.push.apply(l,d),r=!1)})),l.xMap=h,o.graphPath=l,l},drawGraph:function(){var t=this,e=this.options,i=(this.gappedPath||this.getGraphPath).call(this),n=[["graph","highcharts-graph",e.lineColor||this.color,e.dashStyle]];u(this.zones,(function(i,r){n.push(["zone-graph-"+r,"highcharts-graph highcharts-zone-graph-"+r+" "+(i.className||""),i.color||t.color,i.dashStyle||e.dashStyle])})),u(n,(function(n,r){var o,s=n[0],a=t[s];a?(a.endX=t.preventGraphAnimation?null:i.xMap,a.animate({d:i})):i.length&&(t[s]=t.chart.renderer.path(i).addClass(n[1]).attr({zIndex:1}).add(t.group),o={stroke:n[2],"stroke-width":e.lineWidth,fill:t.fillGraph&&t.color||"none"},n[3]?o.dashstyle=n[3]:"square"!==e.linecap&&(o["stroke-linecap"]=o["stroke-linejoin"]="round"),a=t[s].attr(o).shadow(r<2&&e.shadow)),a&&(a.startX=i.xMap,a.isArea=i.isArea)}))},applyZones:function(){var t,e,i,n,r,o,s,a,l,c=this,h=this.chart,d=h.renderer,p=this.zones,f=this.clips||[],m=this.graph,g=this.area,v=Math.max(h.chartWidth,h.chartHeight),y=this[(this.zoneAxis||"y")+"Axis"],b=h.inverted,w=!1;p.length&&(m||g)&&y&&void 0!==y.min&&(r=y.reversed,o=y.horiz,m&&m.hide(),g&&g.hide(),n=y.getExtremes(),u(p,(function(u,p){t=r?o?h.plotWidth:0:o?0:y.toPixels(n.min),t=Math.min(Math.max(x(e,t),0),v),e=Math.min(Math.max(Math.round(y.toPixels(x(u.value,n.max),!0)),0),v),w&&(t=e=y.toPixels(n.max)),s=Math.abs(t-e),a=Math.min(t,e),l=Math.max(t,e),y.isXAxis?(i={x:b?l:a,y:0,width:s,height:v},o||(i.x=h.plotHeight-i.x)):(i={x:0,y:b?l:a,width:v,height:s},o&&(i.y=h.plotWidth-i.y)),b&&d.isVML&&(i=y.isXAxis?{x:0,y:r?a:l,height:i.width,width:h.chartWidth}:{x:i.y-h.plotLeft-h.spacingBox.x,y:0,width:i.height,height:h.chartHeight}),f[p]?f[p].animate(i):(f[p]=d.clipRect(i),m&&c["zone-graph-"+p].clip(f[p]),g&&c["zone-area-"+p].clip(f[p])),w=u.value>n.max})),this.clips=f)},invertGroups:function(t){function i(){u(["group","markerGroup"],(function(e){r[e]&&(o.renderer.isVML&&r[e].attr({width:r.yAxis.len,height:r.xAxis.len}),r[e].width=r.yAxis.len,r[e].height=r.xAxis.len,r[e].invert(t))}))}var n,r=this,o=r.chart;r.xAxis&&(n=e(o,"resize",i),e(r,"destroy",n),i(t),r.invertGroups=i)},plotGroup:function(t,e,i,n,r){var o=this[t],s=!o;return s&&(this[t]=o=this.chart.renderer.g().attr({zIndex:n||.1}).add(r)),o.addClass("highcharts-"+e+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(c(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(o.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),o.attr({visibility:i})[s?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){var t=this.chart,e=this.xAxis,i=this.yAxis;return t.inverted&&(e=i,i=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:i?i.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,n=e.chart,r=e.options,o=!!e.animate&&n.renderer.isSVG&&i(r.animation).duration,s=e.visible?"inherit":"hidden",a=r.zIndex,l=e.hasRendered,c=n.seriesGroup,u=n.inverted;t=e.plotGroup("group","series",s,a,c),e.markerGroup=e.plotGroup("markerGroup","markers",s,a,c),o&&e.animate(!0),t.inverted=!!e.isCartesian&&u,e.drawGraph&&(e.drawGraph(),e.applyZones()),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&!1!==e.options.enableMouseTracking&&e.drawTracker(),e.invertGroups(u),!1===r.clip||e.sharedClipKey||l||t.clip(n.clipRect),o&&e.animate(),l||(e.animationTimeout=T((function(){e.afterAnimate()}),o)),e.isDirty=!1,e.hasRendered=!0},redraw:function(){var t=this,e=t.chart,i=t.isDirty||t.isDirtyData,n=t.group,r=t.xAxis,o=t.yAxis;n&&(e.inverted&&n.attr({width:e.plotWidth,height:e.plotHeight}),n.animate({translateX:x(r&&r.left,e.plotLeft),translateY:x(o&&o.top,e.plotTop)})),t.translate(),t.render(),i&&delete this.kdTree},kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var i=this,n=i.xAxis,r=i.yAxis,o=i.chart.inverted;return this.searchKDTree({clientX:o?n.len-t.chartY+n.pos:t.chartX-n.pos,plotY:o?r.len-t.chartX+r.pos:t.chartY-r.pos},e)},buildKDTree:function(){function t(e,n,r){var o,s,a=e&&e.length;if(a)return o=i.kdAxisArray[n%r],e.sort((function(t,e){return t[o]-e[o]})),{point:e[s=Math.floor(a/2)],left:t(e.slice(0,s),n+1,r),right:t(e.slice(s+1),n+1,r)}}function e(){i.kdTree=t(i.getValidPoints(null,!i.directTouch),n,n),i.buildingKdTree=!1}this.buildingKdTree=!0;var i=this,n=i.options.findNearestPointBy.indexOf("y")>-1?2:1;delete i.kdTree,T(e,i.options.kdNow?0:1)},searchKDTree:function(t,e){function i(t,e){var i=c(t[o])&&c(e[o])?Math.pow(t[o]-e[o],2):null,n=(i||0)+((c(t[s])&&c(e[s])?Math.pow(t[s]-e[s],2):null)||0);e.dist=c(n)?Math.sqrt(n):Number.MAX_VALUE,e.distX=c(i)?Math.sqrt(i):Number.MAX_VALUE}function n(t,e,o,s){var l,c,u,h,d,p=e.point,f=r.kdAxisArray[o%s],m=p;return i(t,p),u=(l=t[f]-p[f])<0?"right":"left",e[c=l<0?"left":"right"]&&(m=(h=n(t,e[c],o+1,s))[a]<m[a]?h:p),e[u]&&Math.sqrt(l*l)<m[a]&&(m=(d=n(t,e[u],o+1,s))[a]<m[a]?d:m),m}var r=this,o=this.kdAxisArray[0],s=this.kdAxisArray[1],a=e?"distX":"dist",l=r.options.findNearestPointBy.indexOf("y")>-1?2:1;if(this.kdTree||this.buildingKdTree||this.buildKDTree(),this.kdTree)return n(t,this.kdTree,l,l)}})}(m),function(t){var e=t.Axis,i=t.Chart,n=t.correctFloat,r=t.defined,o=t.destroyObjectProperties,s=t.each,a=t.format,l=t.objectEach,c=t.pick,u=t.Series;t.StackItem=function(t,e,i,n,r){var o=t.chart.inverted;this.axis=t,this.isNegative=i,this.options=e,this.x=n,this.total=null,this.points={},this.stack=r,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:e.align||(o?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(o?"middle":i?"bottom":"top"),y:c(e.y,o?4:i?14:-6),x:c(e.x,o?i?-6:6:0)},this.textAlign=e.textAlign||(o?i?"right":"left":"center")},t.StackItem.prototype={destroy:function(){o(this,this.axis)},render:function(t){var e=this.options,i=e.format,n=i?a(i,this):e.formatter.call(this);this.label?this.label.attr({text:n,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(n,null,null,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:"hidden"}).add(t)},setOffset:function(t,e){var i,n=this,r=n.axis,o=r.chart,s=r.translate(r.usePercentage?100:n.total,0,0,0,1),a=r.translate(0),l=Math.abs(s-a),c=o.xAxis[0].translate(n.x)+t,u=n.getStackBox(o,n,c,s,e,l),h=n.label;h&&(h.align(n.alignOptions,null,u),i=h.alignAttr,h[!1===n.options.crop||o.isInsidePlot(i.x,i.y)?"show":"hide"](!0))},getStackBox:function(t,e,i,n,r,o){var s=e.axis.reversed,a=t.inverted,l=t.plotHeight,c=e.isNegative&&!s||!e.isNegative&&s;return{x:a?c?n:n-o:i,y:a?l-i-r:c?l-n-o:l-n,width:a?o:r,height:a?r:o}}},i.prototype.getStacks=function(){var t=this;s(t.yAxis,(function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)})),s(t.series,(function(e){!e.options.stacking||!0!==e.visible&&!1!==t.options.chart.ignoreHiddenSeries||(e.stackKey=e.type+c(e.options.stack,""))}))},e.prototype.buildStacks=function(){var t,e=this.series,i=c(this.options.reversedStacks,!0),n=e.length;if(!this.isXAxis){for(this.usePercentage=!1,t=n;t--;)e[i?t:n-t-1].setStackedPoints();for(t=0;t<n;t++)e[t].modifyStacks()}},e.prototype.renderStackTotals=function(){var t=this,e=t.chart,i=e.renderer,n=t.stacks,r=t.stackTotalGroup;r||(t.stackTotalGroup=r=i.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),r.translate(e.plotLeft,e.plotTop),l(n,(function(t){l(t,(function(t){t.render(r)}))}))},e.prototype.resetStacks=function(){var t=this,e=t.stacks;t.isXAxis||l(e,(function(e){l(e,(function(i,n){i.touched<t.stacksTouched?(i.destroy(),delete e[n]):(i.total=null,i.cum=null)}))}))},e.prototype.cleanStacks=function(){var t;this.isXAxis||(this.oldStacks&&(t=this.stacks=this.oldStacks),l(t,(function(t){l(t,(function(t){t.cum=t.total}))})))},u.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var e,i,o,s,a,l,u,h,d,p=this,f=p.processedXData,m=p.processedYData,g=[],v=m.length,y=p.options,b=y.threshold,w=y.startFromThreshold?b:0,x=y.stack,_=y.stacking,k=p.stackKey,C="-"+k,S=p.negStacks,T=p.yAxis,A=T.stacks,E=T.oldStacks;for(T.stacksTouched+=1,u=0;u<v;u++)h=f[u],d=m[u],l=(e=p.getStackIndicator(e,h,p.index)).key,A[a=(i=S&&d<(w?0:b))?C:k]||(A[a]={}),A[a][h]||(E[a]&&E[a][h]?(A[a][h]=E[a][h],A[a][h].total=null):A[a][h]=new t.StackItem(T,T.options.stackLabels,i,h,x)),o=A[a][h],null!==d&&(o.points[l]=o.points[p.index]=[c(o.cum,w)],r(o.cum)||(o.base=l),o.touched=T.stacksTouched,e.index>0&&!1===p.singleStacks&&(o.points[l][0]=o.points[p.index+","+h+",0"][0])),"percent"===_?(s=i?k:C,S&&A[s]&&A[s][h]?(s=A[s][h],o.total=s.total=Math.max(s.total,o.total)+Math.abs(d)||0):o.total=n(o.total+(Math.abs(d)||0))):o.total=n(o.total+(d||0)),o.cum=c(o.cum,w)+(d||0),null!==d&&(o.points[l].push(o.cum),g[u]=o.cum);"percent"===_&&(T.usePercentage=!0),this.stackedYData=g,T.oldStacks={}}},u.prototype.modifyStacks=function(){var t,e=this,i=e.stackKey,n=e.yAxis.stacks,r=e.processedXData,o=e.options.stacking;e[o+"Stacker"]&&s([i,"-"+i],(function(i){for(var s,a,l,c=r.length;c--;)s=r[c],t=e.getStackIndicator(t,s,e.index,i),(l=(a=n[i]&&n[i][s])&&a.points[t.key])&&e[o+"Stacker"](l,a,c)}))},u.prototype.percentStacker=function(t,e,i){var r=e.total?100/e.total:0;t[0]=n(t[0]*r),t[1]=n(t[1]*r),this.stackedYData[i]=t[1]},u.prototype.getStackIndicator=function(t,e,i,n){return!r(t)||t.x!==e||n&&t.key!==n?t={x:e,index:0,key:n}:t.index++,t.key=[i,e,t.index].join(","),t}}(m),function(t){var e=t.addEvent,i=t.animate,n=t.Axis,r=t.Chart,o=t.createElement,s=t.css,a=t.defined,l=t.each,c=t.erase,u=t.extend,h=t.fireEvent,d=t.inArray,p=t.isNumber,f=t.isObject,m=t.isArray,g=t.merge,v=t.objectEach,y=t.pick,b=t.Point,w=t.Series,x=t.seriesTypes,_=t.setAnimation,k=t.splat;u(r.prototype,{addSeries:function(t,e,i){var n,r=this;return t&&(e=y(e,!0),h(r,"addSeries",{options:t},(function(){n=r.initSeries(t),r.isDirtyLegend=!0,r.linkSeries(),e&&r.redraw(i)}))),n},addAxis:function(t,e,i,r){var o,s=e?"xAxis":"yAxis",a=this.options,l=g(t,{index:this[s].length,isX:e});return o=new n(this,l),a[s]=k(a[s]||{}),a[s].push(l),y(i,!0)&&this.redraw(r),o},showLoading:function(t){var n=this,r=n.options,a=n.loadingDiv,l=r.loading,c=function(){a&&s(a,{left:n.plotLeft+"px",top:n.plotTop+"px",width:n.plotWidth+"px",height:n.plotHeight+"px"})};a||(n.loadingDiv=a=o("div",{className:"highcharts-loading highcharts-loading-hidden"},null,n.container),n.loadingSpan=o("span",{className:"highcharts-loading-inner"},null,a),e(n,"redraw",c)),a.className="highcharts-loading",n.loadingSpan.innerHTML=t||r.lang.loading,s(a,u(l.style,{zIndex:10})),s(n.loadingSpan,l.labelStyle),n.loadingShown||(s(a,{opacity:0,display:""}),i(a,{opacity:l.style.opacity||.5},{duration:l.showDuration||0})),n.loadingShown=!0,c()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",i(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){s(e,{display:"none"})}})),this.loadingShown=!1},propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","tooltip"],update:function(t,e,i){var n,r,o,s,c=this,u={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},h=t.chart,f=[];h&&(g(!0,c.options.chart,h),"className"in h&&c.setClassName(h.className),("inverted"in h||"polar"in h)&&(c.propFromSeries(),n=!0),"alignTicks"in h&&(n=!0),v(h,(function(t,e){-1!==d("chart."+e,c.propsRequireUpdateSeries)&&(r=!0),-1!==d(e,c.propsRequireDirtyBox)&&(c.isDirtyBox=!0)})),"style"in h&&c.renderer.setStyle(h.style)),t.colors&&(this.options.colors=t.colors),t.plotOptions&&g(!0,this.options.plotOptions,t.plotOptions),v(t,(function(t,e){c[e]&&"function"==typeof c[e].update?c[e].update(t,!1):"function"==typeof c[u[e]]&&c[u[e]](t),"chart"!==e&&-1!==d(e,c.propsRequireUpdateSeries)&&(r=!0)})),l(["xAxis","yAxis","zAxis","series","colorAxis","pane"],(function(e){t[e]&&(l(k(t[e]),(function(t,n){var r=a(t.id)&&c.get(t.id)||c[e][n];r&&r.coll===e&&(r.update(t,!1),i&&(r.touched=!0)),!r&&i&&("series"===e?c.addSeries(t,!1).touched=!0:"xAxis"!==e&&"yAxis"!==e||(c.addAxis(t,"xAxis"===e,!1).touched=!0))})),i&&l(c[e],(function(t){t.touched?delete t.touched:f.push(t)})))})),l(f,(function(t){t.remove(!1)})),n&&l(c.axes,(function(t){t.update({},!1)})),r&&l(c.series,(function(t){t.update({},!1)})),t.loading&&g(!0,c.options.loading,t.loading),o=h&&h.width,s=h&&h.height,p(o)&&o!==c.chartWidth||p(s)&&s!==c.chartHeight?c.setSize(o,s):y(e,!0)&&c.redraw()},setSubtitle:function(t){this.setTitle(void 0,t)}}),u(b.prototype,{update:function(t,e,i,n){function r(){s.applyOptions(t),null===s.y&&l&&(s.graphic=l.destroy()),f(t,!0)&&(l&&l.element&&t&&t.marker&&void 0!==t.marker.symbol&&(s.graphic=l.destroy()),t&&t.dataLabels&&s.dataLabel&&(s.dataLabel=s.dataLabel.destroy()),s.connector&&(s.connector=s.connector.destroy())),o=s.index,a.updateParallelArrays(s,o),u.data[o]=f(u.data[o],!0)||f(t,!0)?s.options:t,a.isDirty=a.isDirtyData=!0,!a.fixedBox&&a.hasCartesianSeries&&(c.isDirtyBox=!0),"point"===u.legendType&&(c.isDirtyLegend=!0),e&&c.redraw(i)}var o,s=this,a=s.series,l=s.graphic,c=a.chart,u=a.options;e=y(e,!0),!1===n?r():s.firePointEvent("update",{options:t},r)},remove:function(t,e){this.series.removePoint(d(this,this.series.data),t,e)}}),u(w.prototype,{addPoint:function(t,e,i,n){
var r,o,s,a,l=this,c=l.options,u=l.data,h=l.chart,d=l.xAxis,p=d&&d.hasNames&&d.names,f=c.data,m=l.xData;if(e=y(e,!0),r={series:l},l.pointClass.prototype.applyOptions.apply(r,[t]),a=r.x,s=m.length,l.requireSorting&&a<m[s-1])for(o=!0;s&&m[s-1]>a;)s--;l.updateParallelArrays(r,"splice",s,0,0),l.updateParallelArrays(r,s),p&&r.name&&(p[a]=r.name),f.splice(s,0,t),o&&(l.data.splice(s,0,null),l.processData()),"point"===c.legendType&&l.generatePoints(),i&&(u[0]&&u[0].remove?u[0].remove(!1):(u.shift(),l.updateParallelArrays(r,"shift"),f.shift())),l.isDirty=!0,l.isDirtyData=!0,e&&h.redraw(n)},removePoint:function(t,e,i){var n=this,r=n.data,o=r[t],s=n.points,a=n.chart,l=function(){s&&s.length===r.length&&s.splice(t,1),r.splice(t,1),n.options.data.splice(t,1),n.updateParallelArrays(o||{series:n},"splice",t,1),o&&o.destroy(),n.isDirty=!0,n.isDirtyData=!0,e&&a.redraw()};_(i,a),e=y(e,!0),o?o.firePointEvent("remove",null,l):l()},remove:function(t,e,i){function n(){r.destroy(),o.isDirtyLegend=o.isDirtyBox=!0,o.linkSeries(),y(t,!0)&&o.redraw(e)}var r=this,o=r.chart;!1!==i?h(r,"remove",null,n):n()},update:function(t,e){var i,n=this,r=n.chart,o=n.userOptions,s=n.oldType||n.type,a=t.type||o.type||r.options.chart.type,c=x[s].prototype,h=["group","markerGroup","dataLabelsGroup"],d=["navigatorSeries","baseSeries"],p=n.finishedAnimating&&{animation:!1};if(Object.keys&&"data"===Object.keys(t).toString())return this.setData(t.data,e);for(i in(a&&a!==s||void 0!==t.zIndex)&&(h.length=0),d=h.concat(d),l(d,(function(t){d[t]=n[t],delete n[t]})),t=g(o,p,{index:n.index,pointStart:n.xData[0]},{data:n.options.data},t),n.remove(!1,null,!1),c)n[i]=void 0;u(n,x[a||s].prototype),l(d,(function(t){n[t]=d[t]})),n.init(r,t),n.oldType=s,r.linkSeries(),y(e,!0)&&r.redraw(!1)}}),u(n.prototype,{update:function(t,e){var i=this.chart;t=i.options[this.coll][this.options.index]=g(this.userOptions,t),this.destroy(!0),this.init(i,u(t,{events:void 0})),i.isDirtyBox=!0,y(e,!0)&&i.redraw()},remove:function(t){for(var e=this.chart,i=this.coll,n=this.series,r=n.length;r--;)n[r]&&n[r].remove(!1);c(e.axes,this),c(e[i],this),m(e.options[i])?e.options[i].splice(this.options.index,1):delete e.options[i],l(e[i],(function(t,e){t.options.index=e})),this.destroy(),e.isDirtyBox=!0,y(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}})}(m),function(t){var e=t.color,i=t.each,n=t.LegendSymbolMixin,r=t.map,o=t.pick,s=t.Series;(0,t.seriesType)("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(e){var n,s,a=this,l=[],c=[],u=this.xAxis,h=this.yAxis,d=h.stacks[this.stackKey],p={},f=a.index,m=h.series,g=m.length,v=o(h.options.reversedStacks,!0)?1:-1;if(e=e||this.points,this.options.stacking){for(s=0;s<e.length;s++)e[s].leftNull=e[s].rightNull=null,p[e[s].x]=e[s];t.objectEach(d,(function(t,e){null!==t.total&&c.push(e)})),c.sort((function(t,e){return t-e})),n=r(m,(function(){return this.visible})),i(c,(function(t,e){var r,o,a=0;if(p[t]&&!p[t].isNull)l.push(p[t]),i([-1,1],(function(i){var a=1===i?"rightNull":"leftNull",l=1===i?"rightCliff":"leftCliff",u=0,h=d[c[e+i]];if(h)for(s=f;s>=0&&s<g;)(r=h.points[s])||(s===f?p[t][a]=!0:n[s]&&(o=d[t].points[s])&&(u-=o[1]-o[0])),s+=v;p[t][l]=u}));else{for(s=f;s>=0&&s<g;){if(r=d[t].points[s]){a=r[1];break}s+=v}a=h.translate(a,0,1,0,1),l.push({isNull:!0,plotX:u.translate(t,0,0,0,1),x:t,plotY:a,yBottom:a})}}))}return l},getGraphPath:function(t){var e,i,n,r,a,l,c,u,h=s.prototype.getGraphPath,d=this.options,p=d.stacking,f=this.yAxis,m=[],g=[],v=this.index,y=f.stacks[this.stackKey],b=d.threshold,w=f.getThreshold(d.threshold),x=d.connectNulls||"percent"===p,_=function(e,i,n){var r,o,s=t[e],a=p&&y[s.x].points[v],c=s[n+"Null"]||0,u=s[n+"Cliff"]||0,h=!0;u||c?(r=(c?a[0]:a[1])+u,o=a[0]+u,h=!!c):!p&&t[i]&&t[i].isNull&&(r=o=b),void 0!==r&&(g.push({plotX:l,plotY:null===r?w:f.getThreshold(r),isNull:h,isCliff:!0}),m.push({plotX:l,plotY:null===o?w:f.getThreshold(o),doCurve:!1}))};for(t=t||this.points,p&&(t=this.getStackPoints(t)),r=0;r<t.length;r++)c=t[r].isNull,l=o(t[r].rectPlotX,t[r].plotX),u=o(t[r].yBottom,w),c&&!x||(x||_(r,r-1,"left"),c&&!p&&x||(g.push(t[r]),m.push({x:r,plotX:l,plotY:u})),x||_(r,r+1,"right"));return i=h.call(this,g,!0,!0),m.reversed=!0,(n=h.call(this,m,!0,!0)).length&&(n[0]="L"),a=i.concat(n),e=h.call(this,g,!1,x),a.xMap=i.xMap,this.areaPath=a,e},drawGraph:function(){this.areaPath=[],s.prototype.drawGraph.apply(this);var t=this,n=this.areaPath,r=this.options,a=this.zones,l=[["area","highcharts-area",this.color,r.fillColor]];i(a,(function(e,i){l.push(["zone-area-"+i,"highcharts-area highcharts-zone-area-"+i+" "+e.className,e.color||t.color,e.fillColor||r.fillColor])})),i(l,(function(i){var s=i[0],a=t[s];a?(a.endX=t.preventGraphAnimation?null:n.xMap,a.animate({d:n})):(a=t[s]=t.chart.renderer.path(n).addClass(i[1]).attr({fill:o(i[3],e(i[2]).setOpacity(o(r.fillOpacity,.75)).get()),zIndex:0}).add(t.group)).isArea=!0,a.startX=n.xMap,a.shiftUnit=r.step?2:1}))},drawLegendSymbol:n.drawRectangle})}(m),function(t){var e=t.pick;(0,t.seriesType)("spline","line",{},{getPointSpline:function(t,i,n){function r(t){return t&&!t.isNull&&!1!==t.doCurve&&!i.isCliff}var o,s,a,l,c,u=1.5,h=u+1,d=i.plotX,p=i.plotY,f=t[n-1],m=t[n+1];if(r(f)&&r(m)){var g=f.plotX,v=f.plotY,y=m.plotX,b=m.plotY,w=0;s=(u*p+v)/h,l=(u*p+b)/h,(a=(u*d+y)/h)!==(o=(u*d+g)/h)&&(w=(l-s)*(a-d)/(a-o)+p-l),l+=w,(s+=w)>v&&s>p?l=2*p-(s=Math.max(v,p)):s<v&&s<p&&(l=2*p-(s=Math.min(v,p))),l>b&&l>p?s=2*p-(l=Math.max(b,p)):l<b&&l<p&&(s=2*p-(l=Math.min(b,p))),i.rightContX=a,i.rightContY=l}return c=["C",e(f.rightContX,f.plotX),e(f.rightContY,f.plotY),e(o,d),e(s,p),d,p],f.rightContX=f.rightContY=null,c}})}(m),function(t){var e=t.seriesTypes.area.prototype,i=t.defaultPlotOptions,n=t.LegendSymbolMixin;(0,t.seriesType)("areaspline","spline",i.area,{getStackPoints:e.getStackPoints,getGraphPath:e.getGraphPath,drawGraph:e.drawGraph,drawLegendSymbol:n.drawRectangle})}(m),function(t){var e=t.animObject,i=t.color,n=t.each,r=t.extend,o=t.isNumber,s=t.LegendSymbolMixin,a=t.merge,l=t.noop,c=t.pick,u=t.Series,h=t.seriesType,d=t.svg;h("column","line",{borderRadius:0,crisp:!0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){u.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&n(e.series,(function(e){e.type===t.type&&(e.isDirty=!0)}))},getColumnMetrics:function(){var t,e=this,i=e.options,r=e.xAxis,o=e.yAxis,s=r.reversed,a={},l=0;!1===i.grouping?l=1:n(e.chart.series,(function(i){var n,r=i.options,s=i.yAxis;i.type!==e.type||!i.visible&&e.chart.options.chart.ignoreHiddenSeries||o.len!==s.len||o.pos!==s.pos||(r.stacking?(t=i.stackKey,void 0===a[t]&&(a[t]=l++),n=a[t]):!1!==r.grouping&&(n=l++),i.columnIndex=n)}));var u=Math.min(Math.abs(r.transA)*(r.ordinalSlope||i.pointRange||r.closestPointRange||r.tickInterval||1),r.len),h=u*i.groupPadding,d=(u-2*h)/(l||1),p=Math.min(i.maxPointWidth||r.len,c(i.pointWidth,d*(1-2*i.pointPadding))),f=(d-p)/2+(h+((e.columnIndex||0)+(s?1:0))*d-u/2)*(s?-1:1);return e.columnMetrics={width:p,offset:f},e.columnMetrics},crispCol:function(t,e,i,n){var r,o,s=this.chart,a=this.borderWidth,l=-(a%2?.5:0),c=a%2?.5:1;return s.inverted&&s.renderer.isVML&&(c+=1),this.options.crisp&&(i=Math.round(t+i)+l-(t=Math.round(t)+l)),r=Math.round(e+n)+c,o=Math.abs(e)<=.5&&r>.5,n=r-(e=Math.round(e)+c),o&&n&&(e-=1,n+=1),{x:t,y:e,width:i,height:n}},translate:function(){var t=this,e=t.chart,i=t.options,r=t.dense=t.closestPointRange*t.xAxis.transA<2,o=t.borderWidth=c(i.borderWidth,r?0:1),s=t.yAxis,a=i.threshold,l=t.translatedThreshold=s.getThreshold(a),h=c(i.minPointLength,5),d=t.getColumnMetrics(),p=d.width,f=t.barW=Math.max(p,1+2*o),m=t.pointXOffset=d.offset;e.inverted&&(l-=.5),i.pointPadding&&(f=Math.ceil(f)),u.prototype.translate.apply(t),n(t.points,(function(i){var n,r=c(i.yBottom,l),o=999+Math.abs(r),u=Math.min(Math.max(-o,i.plotY),s.len+o),d=i.plotX+m,g=f,v=Math.min(u,r),y=Math.max(u,r)-v;h&&Math.abs(y)<h&&(y=h,n=!s.reversed&&!i.negative||s.reversed&&i.negative,i.y===a&&t.dataMax<=a&&s.min<a&&(n=!n),v=Math.abs(v-l)>h?r-h:l-(n?h:0)),i.barX=d,i.pointWidth=p,i.tooltipPos=e.inverted?[s.len+s.pos-e.plotLeft-u,t.xAxis.len-d-g/2,y]:[d+g/2,u+s.pos-e.plotTop,y],i.shapeType="rect",i.shapeArgs=t.crispCol.apply(t,i.isNull?[d,l,g,0]:[d,v,g,y])}))},getSymbol:l,drawLegendSymbol:s.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(t,e){var n,r,o,s,l=this.options,c=this.pointAttrToOptions||{},u=c.stroke||"borderColor",h=c["stroke-width"]||"borderWidth",d=t&&t.color||this.color,p=t&&t[u]||l[u]||this.color||d,f=t&&t[h]||l[h]||this[h]||0,m=l.dashStyle;return t&&this.zones.length&&(o=t.getZone(),d=t.options.color||o&&o.color||this.color),e&&(s=(n=a(l.states[e],t.options.states&&t.options.states[e]||{})).brightness,d=n.color||void 0!==s&&i(d).brighten(n.brightness).get()||d,p=n[u]||p,f=n[h]||f,m=n.dashStyle||m),r={fill:d,stroke:p,"stroke-width":f},m&&(r.dashstyle=m),r},drawPoints:function(){var t,e=this,i=this.chart,r=e.options,s=i.renderer,l=r.animationLimit||250;n(e.points,(function(n){var c=n.plotY,u=n.graphic;o(c)&&null!==n.y?(t=n.shapeArgs,u?u[i.pointCount<l?"animate":"attr"](a(t)):n.graphic=u=s[n.shapeType](t).add(n.group||e.group),r.borderRadius&&u.attr({r:r.borderRadius}),u.attr(e.pointAttribs(n,n.selected&&"select")).shadow(r.shadow,null,r.stacking&&!r.borderRadius),u.addClass(n.getClassName(),!0)):u&&(n.graphic=u.destroy())}))},animate:function(t){var i,n,o=this,s=this.yAxis,a=o.options,l=this.chart.inverted,c={},u=l?"translateX":"translateY";d&&(t?(c.scaleY=.001,n=Math.min(s.pos+s.len,Math.max(s.pos,s.toPixels(a.threshold))),l?c.translateX=n-s.len:c.translateY=n,o.group.attr(c)):(i=o.group.attr(u),o.group.animate({scaleY:1},r(e(o.options.animation),{step:function(t,e){c[u]=i+e.pos*(s.pos-i),o.group.attr(c)}})),o.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&n(e.series,(function(e){e.type===t.type&&(e.isDirty=!0)})),u.prototype.remove.apply(t,arguments)}})}(m),function(t){(0,t.seriesType)("bar","column",null,{inverted:!0})}(m),function(t){var e=t.Series;(0,t.seriesType)("scatter","line",{lineWidth:0,findNearestPointBy:"xy",marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 0.85em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,drawGraph:function(){this.options.lineWidth&&e.prototype.drawGraph.call(this)}})}(m),function(t){var e=t.deg2rad,i=t.isNumber,n=t.pick,r=t.relativeLength;t.CenteredSeriesMixin={getCenter:function(){var t,e,i,o=this.options,s=this.chart,a=2*(o.slicedOffset||0),l=s.plotWidth-2*a,c=s.plotHeight-2*a,u=o.center,h=[n(u[0],"50%"),n(u[1],"50%"),o.size||"100%",o.innerSize||0],d=Math.min(l,c);for(e=0;e<4;++e)i=h[e],t=e<2||2===e&&/%$/.test(i),h[e]=r(i,[l,c,d,h[2]][e])+(t?a:0);return h[3]>h[2]&&(h[3]=h[2]),h},getStartAndEndRadians:function(t,n){var r=i(t)?t:0,o=i(n)&&n>r&&n-r<360?n:r+360,s=-90;return{start:e*(r+s),end:e*(o+s)}}}}(m),function(t){var e=t.addEvent,i=t.CenteredSeriesMixin,n=t.defined,r=t.each,o=t.extend,s=i.getStartAndEndRadians,a=t.inArray,l=t.LegendSymbolMixin,c=t.noop,u=t.pick,h=t.Point,d=t.Series,p=t.seriesType,f=t.seriesTypes,m=t.setAnimation;p("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,states:{hover:{brightness:.1,shadow:!1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:f.column.prototype.pointAttribs,animate:function(t){var e=this,i=e.points,n=e.startAngleRad;t||(r(i,(function(t){var i=t.graphic,r=t.shapeArgs;i&&(i.attr({r:t.startR||e.center[3]/2,start:n,end:n}),i.animate({r:r.r,start:r.start,end:r.end},e.options.animation))})),e.animate=null)},updateTotals:function(){var t,e,i=0,n=this.points,r=n.length,o=this.options.ignoreHiddenPoint;for(t=0;t<r;t++)e=n[t],i+=o&&!e.visible||e.isNull?0:e.y;for(this.total=i,t=0;t<r;t++)(e=n[t]).percentage=i>0&&(e.visible||!o)?e.y/i*100:0,e.total=i},generatePoints:function(){d.prototype.generatePoints.call(this),this.updateTotals()},translate:function(t){this.generatePoints();var e,i,n,r,o,a,l,c,h=this,d=0,p=1e3,f=h.options,m=f.slicedOffset,g=m+(f.borderWidth||0),v=s(f.startAngle,f.endAngle),y=h.startAngleRad=v.start,b=(h.endAngleRad=v.end)-y,w=h.points,x=f.dataLabels.distance,_=f.ignoreHiddenPoint,k=w.length;for(t||(h.center=t=h.getCenter()),h.getX=function(e,i,n){return r=Math.asin(Math.min((e-t[1])/(t[2]/2+n.labelDistance),1)),t[0]+(i?-1:1)*(Math.cos(r)*(t[2]/2+n.labelDistance))},l=0;l<k;l++)(c=w[l]).labelDistance=u(c.options.dataLabels&&c.options.dataLabels.distance,x),h.maxLabelDistance=Math.max(h.maxLabelDistance||0,c.labelDistance),i=y+d*b,_&&!c.visible||(d+=c.percentage/100),n=y+d*b,c.shapeType="arc",c.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(i*p)/p,end:Math.round(n*p)/p},(r=(n+i)/2)>1.5*Math.PI?r-=2*Math.PI:r<-Math.PI/2&&(r+=2*Math.PI),c.slicedTranslation={translateX:Math.round(Math.cos(r)*m),translateY:Math.round(Math.sin(r)*m)},o=Math.cos(r)*t[2]/2,a=Math.sin(r)*t[2]/2,c.tooltipPos=[t[0]+.7*o,t[1]+.7*a],c.half=r<-Math.PI/2||r>Math.PI/2?1:0,c.angle=r,e=Math.min(g,c.labelDistance/5),c.labelPos=[t[0]+o+Math.cos(r)*c.labelDistance,t[1]+a+Math.sin(r)*c.labelDistance,t[0]+o+Math.cos(r)*e,t[1]+a+Math.sin(r)*e,t[0]+o,t[1]+a,c.labelDistance<0?"center":c.half?"right":"left",r]},drawGraph:null,drawPoints:function(){var t,e,i,n,s=this,a=s.chart.renderer,l=s.options.shadow;l&&!s.shadowGroup&&(s.shadowGroup=a.g("shadow").add(s.group)),r(s.points,(function(r){if(e=r.graphic,r.isNull)e&&(r.graphic=e.destroy());else{n=r.shapeArgs,t=r.getTranslate();var c=r.shadowGroup;l&&!c&&(c=r.shadowGroup=a.g("shadow").add(s.shadowGroup)),c&&c.attr(t),i=s.pointAttribs(r,r.selected&&"select"),e?e.setRadialReference(s.center).attr(i).animate(o(n,t)):(r.graphic=e=a[r.shapeType](n).setRadialReference(s.center).attr(t).add(s.group),r.visible||e.attr({visibility:"hidden"}),e.attr(i).attr({"stroke-linejoin":"round"}).shadow(l,c)),e.addClass(r.getClassName())}}))},searchPoint:c,sortByAngle:function(t,e){t.sort((function(t,i){return void 0!==t.angle&&(i.angle-t.angle)*e}))},drawLegendSymbol:l.drawRectangle,getCenter:i.getCenter,getSymbol:c},{init:function(){h.prototype.init.apply(this,arguments);var t,i=this;return i.name=u(i.name,"Slice"),t=function(t){i.slice("select"===t.type)},e(i,"select",t),e(i,"unselect",t),i},isValid:function(){return t.isNumber(this.y,!0)&&this.y>=0},setVisible:function(t,e){var i=this,n=i.series,o=n.chart,s=n.options.ignoreHiddenPoint;e=u(e,s),t!==i.visible&&(i.visible=i.options.visible=t=void 0===t?!i.visible:t,n.options.data[a(i,n.data)]=i.options,r(["graphic","dataLabel","connector","shadowGroup"],(function(e){i[e]&&i[e][t?"show":"hide"](!0)})),i.legendItem&&o.legend.colorizeItem(i,t),t||"hover"!==i.state||i.setState(""),s&&(n.isDirty=!0),e&&o.redraw())},slice:function(t,e,i){var r=this,o=r.series,s=o.chart;m(i,s),e=u(e,!0),r.sliced=r.options.sliced=t=n(t)?t:!r.sliced,o.options.data[a(r,o.data)]=r.options,r.graphic.animate(this.getTranslate()),r.shadowGroup&&r.shadowGroup.animate(this.getTranslate())},getTranslate:function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function(t){var e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r,start:e.start,end:e.end})}})}(m),function(t){var e=t.addEvent,i=t.arrayMax,n=t.defined,r=t.each,o=t.extend,s=t.format,a=t.map,l=t.merge,c=t.noop,u=t.pick,h=t.relativeLength,d=t.Series,p=t.seriesTypes,f=t.stableSort;t.distribute=function(t,e){function i(t,e){return t.target-e.target}var n,o,s,l=!0,c=t,h=[],d=0;for(n=t.length;n--;)d+=t[n].size;if(d>e){for(f(t,(function(t,e){return(e.rank||0)-(t.rank||0)})),n=0,d=0;d<=e;)d+=t[n].size,n++;h=t.splice(n-1,t.length)}for(f(t,i),t=a(t,(function(t){return{size:t.size,targets:[t.target],align:u(t.align,.5)}}));l;){for(n=t.length;n--;)o=t[n],s=(Math.min.apply(0,o.targets)+Math.max.apply(0,o.targets))/2,o.pos=Math.min(Math.max(0,s-o.size*o.align),e-o.size);for(n=t.length,l=!1;n--;)n>0&&t[n-1].pos+t[n-1].size>t[n].pos&&(t[n-1].size+=t[n].size,t[n-1].targets=t[n-1].targets.concat(t[n].targets),t[n-1].align=.5,t[n-1].pos+t[n-1].size>e&&(t[n-1].pos=e-t[n-1].size),t.splice(n,1),l=!0)}n=0,r(t,(function(t){var e=0;r(t.targets,(function(){c[n].pos=t.pos+e,e+=c[n].size,n++}))})),c.push.apply(c,h),f(c,i)},d.prototype.drawDataLabels=function(){function i(t,e){var i,n,r,o=e.filter;return!o||(i=o.operator,n=t[o.property],r=o.value,">"===i&&n>r||"<"===i&&n<r||">="===i&&n>=r||"<="===i&&n<=r||"=="===i&&n==r||"==="===i&&n===r)}var o,a,c,h,d=this,p=d.options,f=p.dataLabels,m=d.points,g=d.hasRendered||0,v=u(f.defer,!!p.animation),y=d.chart.renderer;(f.enabled||d._hasPointLabels)&&(d.dlProcessOptions&&d.dlProcessOptions(f),h=d.plotGroup("dataLabelsGroup","data-labels",v&&!g?"hidden":"visible",f.zIndex||6),v&&(h.attr({opacity:+g}),g||e(d,"afterAnimate",(function(){d.visible&&h.show(!0),h[p.animation?"animate":"attr"]({opacity:1},{duration:200})}))),a=f,r(m,(function(e){var r,m,g,v,b,w,x=e.dataLabel,_=e.connector,k=!x;o=e.dlOptions||e.options&&e.options.dataLabels,(r=u(o&&o.enabled,a.enabled)&&!e.isNull)&&(r=!0===i(e,o||f)),r&&(f=l(a,o),m=e.getLabelConfig(),w=f[e.formatPrefix+"Format"]||f.format,c=n(w)?s(w,m):(f[e.formatPrefix+"Formatter"]||f.formatter).call(m,f),b=f.style,v=f.rotation,b.color=u(f.color,b.color,d.color,"#000000"),"contrast"===b.color&&(e.contrastColor=y.getContrast(e.color||d.color),b.color=f.inside||u(e.labelDistance,f.distance)<0||p.stacking?e.contrastColor:"#000000"),p.cursor&&(b.cursor=p.cursor),g={fill:f.backgroundColor,stroke:f.borderColor,"stroke-width":f.borderWidth,r:f.borderRadius||0,rotation:v,padding:f.padding,zIndex:1},t.objectEach(g,(function(t,e){void 0===t&&delete g[e]}))),!x||r&&n(c)?r&&n(c)&&(x?g.text=c:(x=e.dataLabel=y[v?"text":"label"](c,0,-9999,f.shape,null,null,f.useHTML,null,"data-label")).addClass("highcharts-data-label-color-"+e.colorIndex+" "+(f.className||"")+(f.useHTML?"highcharts-tracker":"")),x.attr(g),x.css(b).shadow(f.shadow),x.added||x.add(h),d.alignDataLabel(e,x,f,null,k)):(e.dataLabel=x=x.destroy(),_&&(e.connector=_.destroy()))})))},d.prototype.alignDataLabel=function(t,e,i,n,r){var s,a,l,c,h,d,p=this.chart,f=p.inverted,m=u(t.dlBox&&t.dlBox.centerX,t.plotX,-9999),g=u(t.plotY,-9999),v=e.getBBox(),y=i.rotation,b=i.align,w=this.visible&&(t.series.forceDL||p.isInsidePlot(m,Math.round(g),f)||n&&p.isInsidePlot(m,f?n.x+1:n.y+n.height-1,f)),x="justify"===u(i.overflow,"justify");w&&(s=i.style.fontSize,a=p.renderer.fontMetrics(s,e).b,n=o({x:f?this.yAxis.len-g:m,y:Math.round(f?this.xAxis.len-m:g),width:0,height:0},n),o(i,{width:v.width,height:v.height}),y?(x=!1,h=p.renderer.rotCorr(a,y),d={x:n.x+i.x+n.width/2+h.x,y:n.y+i.y+{top:0,middle:.5,bottom:1}[i.verticalAlign]*n.height},e[r?"attr":"animate"](d).attr({align:b}),c=(l=(y+720)%360)>180&&l<360,"left"===b?d.y-=c?v.height:0:"center"===b?(d.x-=v.width/2,d.y-=v.height/2):"right"===b&&(d.x-=v.width,d.y-=c?0:v.height)):(e.align(i,null,n),d=e.alignAttr),x?t.isLabelJustified=this.justifyDataLabel(e,i,d,v,n,r):u(i.crop,!0)&&(w=p.isInsidePlot(d.x,d.y)&&p.isInsidePlot(d.x+v.width,d.y+v.height)),i.shape&&!y&&e[r?"attr":"animate"]({anchorX:f?p.plotWidth-t.plotY:t.plotX,anchorY:f?p.plotHeight-t.plotX:t.plotY})),w||(e.attr({y:-9999}),e.placed=!1)},d.prototype.justifyDataLabel=function(t,e,i,n,r,o){var s,a,l=this.chart,c=e.align,u=e.verticalAlign,h=t.box?0:t.padding||0;return(s=i.x+h)<0&&("right"===c?e.align="left":e.x=-s,a=!0),(s=i.x+n.width-h)>l.plotWidth&&("left"===c?e.align="right":e.x=l.plotWidth-s,a=!0),(s=i.y+h)<0&&("bottom"===u?e.verticalAlign="top":e.y=-s,a=!0),(s=i.y+n.height-h)>l.plotHeight&&("top"===u?e.verticalAlign="bottom":e.y=l.plotHeight-s,a=!0),a&&(t.placed=!o,t.align(e,null,r)),a},p.pie&&(p.pie.prototype.drawDataLabels=function(){var e,o,s,a,l,c,h,p,f,m,g=this,v=g.data,y=g.chart,b=g.options.dataLabels,w=u(b.connectorPadding,10),x=u(b.connectorWidth,1),_=y.plotWidth,k=y.plotHeight,C=g.center,S=C[2]/2,T=C[1],A=[[],[]],E=[0,0,0,0];g.visible&&(b.enabled||g._hasPointLabels)&&(r(v,(function(t){t.dataLabel&&t.visible&&t.dataLabel.shortened&&(t.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),t.dataLabel.shortened=!1)})),d.prototype.drawDataLabels.apply(g),r(v,(function(t){t.dataLabel&&t.visible&&(A[t.half].push(t),t.dataLabel._pos=null)})),r(A,(function(i,o){var d,v,x,A,P,M,L=i.length,O=[];if(L)for(g.sortByAngle(i,o-.5),g.maxLabelDistance>0&&(d=Math.max(0,T-S-g.maxLabelDistance),v=Math.min(T+S+g.maxLabelDistance,y.plotHeight),r(i,(function(t){t.labelDistance>0&&t.dataLabel&&(t.top=Math.max(0,T-S-t.labelDistance),t.bottom=Math.min(T+S+t.labelDistance,y.plotHeight),M=t.dataLabel.getBBox().height||21,t.positionsIndex=O.push({target:t.labelPos[1]-t.top+M/2,size:M,rank:t.y})-1)})),t.distribute(O,v+M-d)),m=0;m<L;m++)P=(e=i[m]).positionsIndex,l=e.labelPos,s=e.dataLabel,f=!1===e.visible?"hidden":"inherit",x=l[1],p=x,O&&n(O[P])&&(void 0===O[P].pos?f="hidden":(c=O[P].size,p=e.top+O[P].pos)),delete e.positionIndex,h=b.justify?C[0]+(o?-1:1)*(S+e.labelDistance):g.getX(p<e.top+2||p>e.bottom-2?x:p,o,e),s._attr={visibility:f,align:l[6]},s._pos={x:h+b.x+({left:w,right:-w}[l[6]]||0),y:p+b.y-10},l.x=h,l.y=p,u(b.crop,!0)&&(a=s.getBBox().width,A=null,h-a<w?(A=Math.round(a-h+w),E[3]=Math.max(A,E[3])):h+a>_-w&&(A=Math.round(h+a-_+w),E[1]=Math.max(A,E[1])),p-c/2<0?E[0]=Math.max(Math.round(c/2-p),E[0]):p+c/2>k&&(E[2]=Math.max(Math.round(p+c/2-k),E[2])),s.sideOverflow=A)})),(0===i(E)||this.verifyDataLabelOverflow(E))&&(this.placeDataLabels(),x&&r(this.points,(function(t){var e;o=t.connector,(s=t.dataLabel)&&s._pos&&t.visible&&t.labelDistance>0?(f=s._attr.visibility,(e=!o)&&(t.connector=o=y.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+t.colorIndex).add(g.dataLabelsGroup),o.attr({"stroke-width":x,stroke:b.connectorColor||t.color||"#666666"})),o[e?"attr":"animate"]({d:g.connectorPath(t.labelPos)}),o.attr("visibility",f)):o&&(t.connector=o.destroy())}))))},p.pie.prototype.connectorPath=function(t){var e=t.x,i=t.y;return u(this.options.dataLabels.softConnector,!0)?["M",e+("left"===t[6]?5:-5),i,"C",e,i,2*t[2]-t[4],2*t[3]-t[5],t[2],t[3],"L",t[4],t[5]]:["M",e+("left"===t[6]?5:-5),i,"L",t[2],t[3],"L",t[4],t[5]]},p.pie.prototype.placeDataLabels=function(){r(this.points,(function(t){var e,i=t.dataLabel;i&&t.visible&&((e=i._pos)?(i.sideOverflow&&(i._attr.width=i.getBBox().width-i.sideOverflow,i.css({width:i._attr.width+"px",textOverflow:"ellipsis"}),i.shortened=!0),i.attr(i._attr),i[i.moved?"animate":"attr"](e),i.moved=!0):i&&i.attr({y:-9999}))}),this)},p.pie.prototype.alignDataLabel=c,p.pie.prototype.verifyDataLabelOverflow=function(t){var e=this.center,i=this.options,n=i.center,r=i.minSize||80,o=r,s=null!==i.size;return s||(null!==n[0]?o=Math.max(e[2]-Math.max(t[1],t[3]),r):(o=Math.max(e[2]-t[1]-t[3],r),e[0]+=(t[3]-t[1])/2),null!==n[1]?o=Math.max(Math.min(o,e[2]-Math.max(t[0],t[2])),r):(o=Math.max(Math.min(o,e[2]-t[0]-t[2]),r),e[1]+=(t[0]-t[2])/2),o<e[2]?(e[2]=o,e[3]=Math.min(h(i.innerSize||0,o),o),this.translate(e),this.drawDataLabels&&this.drawDataLabels()):s=!0),s}),p.column&&(p.column.prototype.alignDataLabel=function(t,e,i,n,r){var o,s=this.chart.inverted,a=t.series,c=t.dlBox||t.shapeArgs,h=u(t.below,t.plotY>u(this.translatedThreshold,a.yAxis.len)),p=u(i.inside,!!this.options.stacking);c&&((n=l(c)).y<0&&(n.height+=n.y,n.y=0),(o=n.y+n.height-a.yAxis.len)>0&&(n.height-=o),s&&(n={x:a.yAxis.len-n.y-n.height,y:a.xAxis.len-n.x-n.width,width:n.height,height:n.width}),p||(s?(n.x+=h?0:n.width,n.width=0):(n.y+=h?n.height:0,n.height=0))),i.align=u(i.align,!s||p?"center":h?"right":"left"),i.verticalAlign=u(i.verticalAlign,s||p?"middle":h?"top":"bottom"),d.prototype.alignDataLabel.call(this,t,e,i,n,r),t.isLabelJustified&&t.contrastColor&&t.dataLabel.css({color:t.contrastColor})})}(m),function(t){var e=t.Chart,i=t.each,n=t.objectEach,r=t.pick;(0,t.addEvent)(e.prototype,"render",(function(){var t=[];i(this.labelCollectors||[],(function(e){t=t.concat(e())})),i(this.yAxis||[],(function(e){e.options.stackLabels&&!e.options.stackLabels.allowOverlap&&n(e.stacks,(function(e){n(e,(function(e){t.push(e.label)}))}))})),i(this.series||[],(function(e){var n=e.options.dataLabels,o=e.dataLabelCollections||["dataLabel"];(n.enabled||e._hasPointLabels)&&!n.allowOverlap&&e.visible&&i(o,(function(n){i(e.points,(function(e){e[n]&&(e[n].labelrank=r(e.labelrank,e.shapeArgs&&e.shapeArgs.height),t.push(e[n]))}))}))})),this.hideOverlappingLabels(t)})),e.prototype.hideOverlappingLabels=function(t){var e,n,r,o,s,a,l,c,u,h,d,p=t.length,f=function(t,e,i,n,r,o,s,a){return!(r>t+i||r+s<t||o>e+n||o+a<e)};for(n=0;n<p;n++)(e=t[n])&&(e.oldOpacity=e.opacity,e.newOpacity=1,e.width||(d=e.getBBox(),e.width=d.width,e.height=d.height));for(t.sort((function(t,e){return(e.labelrank||0)-(t.labelrank||0)})),n=0;n<p;n++)for(o=t[n],r=n+1;r<p;++r)s=t[r],o&&s&&o!==s&&o.placed&&s.placed&&0!==o.newOpacity&&0!==s.newOpacity&&(a=o.alignAttr,l=s.alignAttr,c=o.parentGroup,u=s.parentGroup,h=2*(o.box?0:o.padding||0),f(a.x+c.translateX,a.y+c.translateY,o.width-h,o.height-h,l.x+u.translateX,l.y+u.translateY,s.width-h,s.height-h)&&((o.labelrank<s.labelrank?o:s).newOpacity=0));i(t,(function(t){var e,i;t&&(i=t.newOpacity,t.oldOpacity!==i&&t.placed&&(i?t.show(!0):e=function(){t.hide()},t.alignAttr.opacity=i,t[t.isOld?"animate":"attr"](t.alignAttr,null,e)),t.isOld=!0)}))}}(m),function(t){var e,i=t.addEvent,n=t.Chart,r=t.createElement,o=t.css,s=t.defaultOptions,a=t.defaultPlotOptions,l=t.each,c=t.extend,u=t.fireEvent,h=t.hasTouch,d=t.inArray,p=t.isObject,f=t.Legend,m=t.merge,g=t.pick,v=t.Point,y=t.Series,b=t.seriesTypes,w=t.svg;e=t.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart.pointer,i=function(t){var i=e.getPointFromEvent(t);void 0!==i&&(e.isDirectTouch=!0,i.onMouseOver(t))};l(t.points,(function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.div?t.dataLabel.div.point=t:t.dataLabel.element.point=t)})),t._hasTracking||(l(t.trackerGroups,(function(n){t[n]&&(t[n].addClass("highcharts-tracker").on("mouseover",i).on("mouseout",(function(t){e.onTrackerMouseOut(t)})),h&&t[n].on("touchstart",i),t.options.cursor&&t[n].css(o).css({cursor:t.options.cursor}))})),t._hasTracking=!0)},drawTrackerGraph:function(){var t,e=this,i=e.options,n=i.trackByArea,r=[].concat(n?e.areaPath:e.graphPath),o=r.length,s=e.chart,a=s.pointer,c=s.renderer,u=s.options.tooltip.snap,d=e.tracker,p=function(){s.hoverSeries!==e&&e.onMouseOver()},f="rgba(192,192,192,"+(w?1e-4:.002)+")";if(o&&!n)for(t=o+1;t--;)"M"===r[t]&&r.splice(t+1,0,r[t+1]-u,r[t+2],"L"),(t&&"M"===r[t]||t===o)&&r.splice(t,0,"L",r[t-2]+u,r[t-1]);d?d.attr({d:r}):e.graph&&(e.tracker=c.path(r).attr({"stroke-linejoin":"round",visibility:e.visible?"visible":"hidden",stroke:f,fill:n?f:"none","stroke-width":e.graph.strokeWidth()+(n?0:2*u),zIndex:2}).add(e.group),l([e.tracker,e.markerGroup],(function(t){t.addClass("highcharts-tracker").on("mouseover",p).on("mouseout",(function(t){a.onTrackerMouseOut(t)})),i.cursor&&t.css({cursor:i.cursor}),h&&t.on("touchstart",p)})))}},b.column&&(b.column.prototype.drawTracker=e.drawTrackerPoint),b.pie&&(b.pie.prototype.drawTracker=e.drawTrackerPoint),b.scatter&&(b.scatter.prototype.drawTracker=e.drawTrackerPoint),c(f.prototype,{setItemEvents:function(t,e,i){var n=this,r=n.chart.renderer.boxWrapper,o="highcharts-legend-"+(t.series?"point":"series")+"-active";(i?e:t.legendGroup).on("mouseover",(function(){t.setState("hover"),r.addClass(o),e.css(n.options.itemHoverStyle)})).on("mouseout",(function(){e.css(m(t.visible?n.itemStyle:n.itemHiddenStyle)),r.removeClass(o),t.setState()})).on("click",(function(e){var i="legendItemClick",n=function(){t.setVisible&&t.setVisible()};e={browserEvent:e},t.firePointEvent?t.firePointEvent(i,e,n):u(t,i,e,n)}))},createCheckboxForItem:function(t){var e=this;t.checkbox=r("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},e.options.itemCheckboxStyle,e.chart.container),i(t.checkbox,"click",(function(e){var i=e.target;u(t.series||t,"checkboxClick",{checked:i.checked,item:t},(function(){t.select()}))}))}}),s.legend.itemStyle.cursor="pointer",c(n.prototype,{showResetZoom:function(){function t(){e.zoomOut()}var e=this,i=s.lang,n=e.options.chart.resetZoomButton,r=n.theme,o=r.states,a="chart"===n.relativeTo?null:"plotBox";this.resetZoomButton=e.renderer.button(i.resetZoom,null,null,t,r,o&&o.hover).attr({align:n.position.align,title:i.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(n.position,!1,a)},zoomOut:function(){var t=this;u(t,"selection",{resetSelection:!0},(function(){t.zoom()}))},zoom:function(t){var e,i,n=this,r=n.pointer,o=!1;!t||t.resetSelection?(l(n.axes,(function(t){e=t.zoom()})),r.initiated=!1):l(t.xAxis.concat(t.yAxis),(function(t){var i=t.axis,n=i.isXAxis;r[n?"zoomX":"zoomY"]&&(e=i.zoom(t.min,t.max),i.displayBtn&&(o=!0))})),i=n.resetZoomButton,o&&!i?n.showResetZoom():!o&&p(i)&&(n.resetZoomButton=i.destroy()),e&&n.redraw(g(n.options.chart.animation,t&&t.animation,n.pointCount<100))},pan:function(t,e){var i,n=this,r=n.hoverPoints;r&&l(r,(function(t){t.setState()})),l("xy"===e?[1,0]:[1],(function(e){var r,o=n[e?"xAxis":"yAxis"][0],s=o.horiz,a=t[s?"chartX":"chartY"],l=s?"mouseDownX":"mouseDownY",c=n[l],u=(o.pointRange||0)/2,h=o.getExtremes(),d=o.toValue(c-a,!0)+u,p=o.toValue(c+o.len-a,!0)-u,f=p<d,m=f?p:d,g=f?d:p,v=Math.min(h.dataMin,o.toValue(o.toPixels(h.min)-o.minPixelPadding)),y=Math.max(h.dataMax,o.toValue(o.toPixels(h.max)+o.minPixelPadding));(r=v-m)>0&&(g+=r,m=v),(r=g-y)>0&&(g=y,m-=r),o.series.length&&m!==h.min&&g!==h.max&&(o.setExtremes(m,g,!1,!1,{trigger:"pan"}),i=!0),n[l]=a})),i&&n.redraw(!1),o(n.container,{cursor:"move"})}}),c(v.prototype,{select:function(t,e){var i=this,n=i.series,r=n.chart;t=g(t,!i.selected),i.firePointEvent(t?"select":"unselect",{accumulate:e},(function(){i.selected=i.options.selected=t,n.options.data[d(i,n.data)]=i.options,i.setState(t&&"select"),e||l(r.getSelectedPoints(),(function(t){t.selected&&t!==i&&(t.selected=t.options.selected=!1,n.options.data[d(t,n.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))}))}))},onMouseOver:function(t){var e=this,i=e.series.chart,n=i.pointer;t=t?n.normalize(t):n.getChartCoordinatesFromPoint(e,i.inverted),n.runPointActions(t,e)},onMouseOut:function(){var t=this,e=t.series.chart;t.firePointEvent("mouseOut"),l(e.hoverPoints||[],(function(t){t.setState()})),e.hoverPoints=e.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var e=this,n=m(e.series.options.point,e.options).events;e.events=n,t.objectEach(n,(function(t,n){i(e,n,t)})),this.hasImportedEvents=!0}},setState:function(t,e){var i,n,r,o=this,s=Math.floor(o.plotX),l=o.plotY,u=o.series,h=u.options.states[t]||{},d=a[u.type].marker&&u.options.marker,p=d&&!1===d.enabled,f=d&&d.states&&d.states[t]||{},m=!1===f.enabled,v=u.stateMarkerGraphic,y=o.marker||{},b=u.chart,w=u.halo,x=d&&u.markerAttribs;(t=t||"")===o.state&&!e||o.selected&&"select"!==t||!1===h.enabled||t&&(m||p&&!1===f.enabled)||t&&y.states&&y.states[t]&&!1===y.states[t].enabled||(x&&(n=u.markerAttribs(o,t)),o.graphic?(o.state&&o.graphic.removeClass("highcharts-point-"+o.state),t&&o.graphic.addClass("highcharts-point-"+t),o.graphic.animate(u.pointAttribs(o,t),g(b.options.chart.animation,h.animation)),n&&o.graphic.animate(n,g(b.options.chart.animation,f.animation,d.animation)),v&&v.hide()):(t&&f&&(r=y.symbol||u.symbol,v&&v.currentSymbol!==r&&(v=v.destroy()),v?v[e?"animate":"attr"]({x:n.x,y:n.y}):r&&(u.stateMarkerGraphic=v=b.renderer.symbol(r,n.x,n.y,n.width,n.height).add(u.markerGroup),v.currentSymbol=r),v&&v.attr(u.pointAttribs(o,t))),v&&(v[t&&b.isInsidePlot(s,l,b.inverted)?"show":"hide"](),v.element.point=o)),
(i=h.halo)&&i.size?(w||(u.halo=w=b.renderer.path().add((o.graphic||v).parentGroup)),w[e?"animate":"attr"]({d:o.haloPath(i.size)}),w.attr({class:"highcharts-halo highcharts-color-"+g(o.colorIndex,u.colorIndex)}),w.point=o,w.attr(c({fill:o.color||u.color,"fill-opacity":i.opacity,zIndex:-1},i.attributes))):w&&w.point&&w.point.haloPath&&w.animate({d:w.point.haloPath(0)}),o.state=t)},haloPath:function(t){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-t,this.plotY-t,2*t,2*t)}}),c(y.prototype,{onMouseOver:function(){var t=this,e=t.chart,i=e.hoverSeries;i&&i!==t&&i.onMouseOut(),t.options.events.mouseOver&&u(t,"mouseOver"),t.setState("hover"),e.hoverSeries=t},onMouseOut:function(){var t=this,e=t.options,i=t.chart,n=i.tooltip,r=i.hoverPoint;i.hoverSeries=null,r&&r.onMouseOut(),t&&e.events.mouseOut&&u(t,"mouseOut"),!n||t.stickyTracking||n.shared&&!t.noSharedTooltip||n.hide(),t.setState()},setState:function(t){var e,i=this,n=i.options,r=i.graph,o=n.states,s=n.lineWidth,a=0;if(t=t||"",i.state!==t){if(l([i.group,i.markerGroup,i.dataLabelsGroup],(function(e){e&&(i.state&&e.removeClass("highcharts-series-"+i.state),t&&e.addClass("highcharts-series-"+t))})),i.state=t,o[t]&&!1===o[t].enabled)return;if(t&&(s=o[t].lineWidth||s+(o[t].lineWidthPlus||0)),r&&!r.dashstyle)for(e={"stroke-width":s},r.animate(e,g(i.chart.options.chart.animation,o[t]&&o[t].animation));i["zone-graph-"+a];)i["zone-graph-"+a].attr(e),a+=1}},setVisible:function(t,e){var i,n=this,r=n.chart,o=n.legendItem,s=r.options.chart.ignoreHiddenSeries,a=n.visible;n.visible=t=n.options.visible=n.userOptions.visible=void 0===t?!a:t,i=t?"show":"hide",l(["group","dataLabelsGroup","markerGroup","tracker","tt"],(function(t){n[t]&&n[t][i]()})),r.hoverSeries!==n&&(r.hoverPoint&&r.hoverPoint.series)!==n||n.onMouseOut(),o&&r.legend.colorizeItem(n,t),n.isDirty=!0,n.options.stacking&&l(r.series,(function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)})),l(n.linkedSeries,(function(e){e.setVisible(t,!1)})),s&&(r.isDirtyBox=!0),!1!==e&&r.redraw(),u(n,i)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){var e=this;e.selected=t=void 0===t?!e.selected:t,e.checkbox&&(e.checkbox.checked=t),u(e,t?"select":"unselect")},drawTracker:e.drawTrackerGraph})}(m),function(t){var e=t.Chart,i=t.each,n=t.inArray,r=t.isArray,o=t.isObject,s=t.pick,a=t.splat;e.prototype.setResponsive=function(e){var n,r=this.options.responsive,o=[],s=this.currentResponsive;r&&r.rules&&i(r.rules,(function(i){void 0===i._id&&(i._id=t.uniqueKey()),this.matchResponsiveRule(i,o,e)}),this);var a=t.merge.apply(0,t.map(o,(function(e){return t.find(r.rules,(function(t){return t._id===e})).chartOptions})));o=o.toString()||void 0,n=s&&s.ruleIds,o!==n&&(s&&this.update(s.undoOptions,e),o?(this.currentResponsive={ruleIds:o,mergedOptions:a,undoOptions:this.currentOptions(a)},this.update(a,e)):this.currentResponsive=void 0)},e.prototype.matchResponsiveRule=function(t,e){var i=t.condition;(i.callback||function(){return this.chartWidth<=s(i.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=s(i.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=s(i.minWidth,0)&&this.chartHeight>=s(i.minHeight,0)}).call(this)&&e.push(t._id)},e.prototype.currentOptions=function(e){function i(e,s,l,c){var u;t.objectEach(e,(function(t,e){if(!c&&n(e,["series","xAxis","yAxis"])>-1)for(t=a(t),l[e]=[],u=0;u<t.length;u++)s[e][u]&&(l[e][u]={},i(t[u],s[e][u],l[e][u],c+1));else o(t)?(l[e]=r(t)?[]:{},i(t,s[e]||{},l[e],c+1)):l[e]=s[e]||null}))}var s={};return i(e,this.options,s,0),s}}(m),m})),function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}((function(t){var e,i,n,r,o;i=(e=t).deg2rad,n=e.isNumber,r=e.pick,o=e.relativeLength,e.CenteredSeriesMixin={getCenter:function(){var t,e,i,n=this.options,s=this.chart,a=2*(n.slicedOffset||0),l=s.plotWidth-2*a,c=s.plotHeight-2*a,u=n.center,h=[r(u[0],"50%"),r(u[1],"50%"),n.size||"100%",n.innerSize||0],d=Math.min(l,c);for(e=0;e<4;++e)i=h[e],t=e<2||2===e&&/%$/.test(i),h[e]=o(i,[l,c,d,h[2]][e])+(t?a:0);return h[3]>h[2]&&(h[3]=h[2]),h},getStartAndEndRadians:function(t,e){var r=n(t)?t:0,o=n(e)&&e>r&&e-r<360?e:r+360,s=-90;return{start:i*(r+s),end:i*(o+s)}}},function(t){function e(t,e){this.init(t,e)}var i=t.CenteredSeriesMixin,n=t.each,r=t.extend,o=t.merge,s=t.splat;r(e.prototype,{coll:"pane",init:function(t,e){this.chart=e,this.background=[],e.pane.push(this),this.setOptions(t)},setOptions:function(t){this.options=t=o(this.defaultOptions,this.chart.angular?{background:{}}:void 0,t)},render:function(){var t,e,i=this.options,n=this.options.background,r=this.chart.renderer;if(this.group||(this.group=r.g("pane-group").attr({zIndex:i.zIndex||0}).add()),this.updateCenter(),n)for(n=s(n),t=Math.max(n.length,this.background.length||0),e=0;e<t;e++)n[e]&&this.axis?this.renderBackground(o(this.defaultBackgroundOptions,n[e]),e):this.background[e]&&(this.background[e]=this.background[e].destroy(),this.background.splice(e,1))},renderBackground:function(t,e){var i="animate";this.background[e]||(this.background[e]=this.chart.renderer.path().add(this.group),i="attr"),this.background[e][i]({d:this.axis.getPlotBandPath(t.from,t.to,t)}).attr({fill:t.backgroundColor,stroke:t.borderColor,"stroke-width":t.borderWidth,class:"highcharts-pane "+(t.className||"")})},defaultOptions:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{shape:"circle",borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"},updateCenter:function(t){this.center=(t||this.axis||{}).center=i.getCenter.call(this)},update:function(t,e){o(!0,this.options,t),this.setOptions(this.options),this.render(),n(this.chart.axes,(function(t){t.pane===this&&(t.pane=null,t.update({},e))}),this)}}),t.Pane=e}(t),function(t){var e,i,n=t.Axis,r=t.each,o=t.extend,s=t.map,a=t.merge,l=t.noop,c=t.pick,u=t.pInt,h=t.Tick,d=t.wrap,p=n.prototype,f=h.prototype;e={getOffset:l,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},setScale:l,setCategories:l,setTitle:l},i={defaultRadialGaugeOptions:{labels:{align:"center",x:0,y:null},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},defaultRadialXOptions:{gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},defaultRadialYOptions:{gridLineInterpolation:"circle",labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},setOptions:function(t){var e=this.options=a(this.defaultOptions,this.defaultRadialOptions,t);e.plotBands||(e.plotBands=[])},getOffset:function(){p.getOffset.call(this),this.chart.axisOffset[this.side]=0},getLinePath:function(t,e){var i,n,r=this.center,o=this.chart,s=c(e,r[2]/2-this.offset);return this.isCircular||void 0!==e?((n=this.chart.renderer.symbols.arc(this.left+r[0],this.top+r[1],s,s,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})).xBounds=[this.left+r[0]],n.yBounds=[this.top+r[1]-s]):(i=this.postTranslate(this.angleRad,s),n=["M",r[0]+o.plotLeft,r[1]+o.plotTop,"L",i.x,i.y]),n},setAxisTranslation:function(){p.setAxisTranslation.call(this),this.center&&(this.isCircular?this.transA=(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.transA=this.center[2]/2/(this.max-this.min||1),this.isXAxis?this.minPixelPadding=this.transA*this.minPointOffset:this.minPixelPadding=0)},beforeSetTickPositions:function(){this.autoConnect=this.isCircular&&void 0===c(this.userMax,this.options.max)&&this.endAngleRad-this.startAngleRad==2*Math.PI,this.autoConnect&&(this.max+=(this.categories?1:this.pointRange)||this.closestPointRange||0)},setAxisSize:function(){p.setAxisSize.call(this),this.isRadial&&(this.pane.updateCenter(this),this.isCircular&&(this.sector=this.endAngleRad-this.startAngleRad),this.len=this.width=this.height=this.center[2]*c(this.sector,1)/2)},getPosition:function(t,e){return this.postTranslate(this.isCircular?this.translate(t):this.angleRad,c(this.isCircular?e:this.translate(t),this.center[2]/2)-this.offset)},postTranslate:function(t,e){var i=this.chart,n=this.center;return t=this.startAngleRad+t,{x:i.plotLeft+n[0]+Math.cos(t)*e,y:i.plotTop+n[1]+Math.sin(t)*e}},getPlotBandPath:function(t,e,i){var n,r,o,a,l=this.center,h=this.startAngleRad,d=l[2]/2,p=[c(i.outerRadius,"100%"),i.innerRadius,c(i.thickness,10)],f=Math.min(this.offset,0),m=/%$/,g=this.isCircular;return"polygon"===this.options.gridLineInterpolation?a=this.getPlotLinePath(t).concat(this.getPlotLinePath(e,!0)):(t=Math.max(t,this.min),e=Math.min(e,this.max),g||(p[0]=this.translate(t),p[1]=this.translate(e)),p=s(p,(function(t){return m.test(t)&&(t=u(t,10)*d/100),t})),"circle"!==i.shape&&g?(n=h+this.translate(t),r=h+this.translate(e)):(n=-Math.PI/2,r=1.5*Math.PI,o=!0),p[0]-=f,p[2]-=f,a=this.chart.renderer.symbols.arc(this.left+l[0],this.top+l[1],p[0],p[0],{start:Math.min(n,r),end:Math.max(n,r),innerR:c(p[1],p[0]-p[2]),open:o})),a},getPlotLinePath:function(t,e){var i,n,o,s,a=this,l=a.center,c=a.chart,u=a.getPosition(t);return a.isCircular?s=["M",l[0]+c.plotLeft,l[1]+c.plotTop,"L",u.x,u.y]:"circle"===a.options.gridLineInterpolation?(t=a.translate(t))&&(s=a.getLinePath(0,t)):(r(c.xAxis,(function(t){t.pane===a.pane&&(i=t)})),s=[],t=a.translate(t),o=i.tickPositions,i.autoConnect&&(o=o.concat([o[0]])),e&&(o=[].concat(o).reverse()),r(o,(function(e,r){n=i.getPosition(e,t),s.push(r?"L":"M",n.x,n.y)}))),s},getTitlePosition:function(){var t=this.center,e=this.chart,i=this.options.title;return{x:e.plotLeft+t[0]+(i.x||0),y:e.plotTop+t[1]-{high:.5,middle:.25,low:0}[i.align]*t[2]+(i.y||0)}}},d(p,"init",(function(t,n,r){var s,l,u=n.angular,h=n.polar,d=r.isX,p=u&&d,f=n.options,m=r.pane||0,g=this.pane=n.pane&&n.pane[m],v=g&&g.options;u?(o(this,p?e:i),(s=!d)&&(this.defaultRadialOptions=this.defaultRadialGaugeOptions)):h&&(o(this,i),s=d,this.defaultRadialOptions=d?this.defaultRadialXOptions:a(this.defaultYAxisOptions,this.defaultRadialYOptions)),u||h?(this.isRadial=!0,n.inverted=!1,f.chart.zoomType=null):this.isRadial=!1,g&&s&&(g.axis=this),t.call(this,n,r),!p&&g&&(u||h)&&(l=this.options,this.angleRad=(l.angle||0)*Math.PI/180,this.startAngleRad=(v.startAngle-90)*Math.PI/180,this.endAngleRad=(c(v.endAngle,v.startAngle+360)-90)*Math.PI/180,this.offset=l.offset||0,this.isCircular=s)})),d(p,"autoLabelAlign",(function(t){if(!this.isRadial)return t.apply(this,[].slice.call(arguments,1))})),d(f,"getPosition",(function(t,e,i,n,r){var o=this.axis;return o.getPosition?o.getPosition(i):t.call(this,e,i,n,r)})),d(f,"getLabelPosition",(function(t,e,i,n,r,o,s,a,l){var u,h=this.axis,d=o.y,p=20,f=o.align,m=(h.translate(this.pos)+h.startAngleRad+Math.PI/2)/Math.PI*180%360;return h.isRadial?(u=h.getPosition(this.pos,h.center[2]/2+c(o.distance,-25)),"auto"===o.rotation?n.attr({rotation:m}):null===d&&(d=h.chart.renderer.fontMetrics(n.styles.fontSize).b-n.getBBox().height/2),null===f&&(h.isCircular?(this.label.getBBox().width>h.len*h.tickInterval/(h.max-h.min)&&(p=0),f=m>p&&m<180-p?"left":m>180+p&&m<360-p?"right":"center"):f="center",n.attr({align:f})),u.x+=o.x,u.y+=d):u=t.call(this,e,i,n,r,o,s,a,l),u})),d(f,"getMarkPath",(function(t,e,i,n,r,o,s){var a,l=this.axis;return l.isRadial?["M",e,i,"L",(a=l.getPosition(this.pos,l.center[2]/2+n)).x,a.y]:t.call(this,e,i,n,r,o,s)}))}(t),function(t){var e=t.each,i=t.noop,n=t.pick,r=t.defined,o=t.Series,s=t.seriesType,a=t.seriesTypes,l=o.prototype,c=t.Point.prototype;s("arearange","area",{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:null,verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0}},{pointArrayMap:["low","high"],dataLabelCollections:["dataLabel","dataLabelUpper"],toYData:function(t){return[t.low,t.high]},pointValKey:"low",deferTranslatePolar:!0,highToXY:function(t){var e=this.chart,i=this.xAxis.postTranslate(t.rectPlotX,this.yAxis.len-t.plotHigh);t.plotHighX=i.x-e.plotLeft,t.plotHigh=i.y-e.plotTop,t.plotLowX=t.plotX},translate:function(){var t=this,i=t.yAxis,n=!!t.modifyValue;a.area.prototype.translate.apply(t),e(t.points,(function(e){var r=e.low,o=e.high,s=e.plotY;null===o||null===r?(e.isNull=!0,e.plotY=null):(e.plotLow=s,e.plotHigh=i.translate(n?t.modifyValue(o,e):o,0,1,0,1),n&&(e.yBottom=e.plotHigh))})),this.chart.polar&&e(this.points,(function(e){t.highToXY(e),e.tooltipPos=[(e.plotHighX+e.plotLowX)/2,(e.plotHigh+e.plotLow)/2]}))},getGraphPath:function(t){var e,i,r,o,s,l,c,u=[],h=[],d=a.area.prototype.getGraphPath,p=this.options,f=this.chart.polar&&!1!==p.connectEnds,m=p.connectNulls,g=p.step;for(e=(t=t||this.points).length,e=t.length;e--;)(i=t[e]).isNull||f||m||t[e+1]&&!t[e+1].isNull||h.push({plotX:i.plotX,plotY:i.plotY,doCurve:!1}),r={polarPlotY:i.polarPlotY,rectPlotX:i.rectPlotX,yBottom:i.yBottom,plotX:n(i.plotHighX,i.plotX),plotY:i.plotHigh,isNull:i.isNull},h.push(r),u.push(r),i.isNull||f||m||t[e-1]&&!t[e-1].isNull||h.push({plotX:i.plotX,plotY:i.plotY,doCurve:!1});return s=d.call(this,t),g&&(!0===g&&(g="left"),p.step={left:"right",center:"center",right:"left"}[g]),l=d.call(this,u),c=d.call(this,h),p.step=g,o=[].concat(s,l),this.chart.polar||"M"!==c[0]||(c[0]="L"),this.graphPath=o,this.areaPath=s.concat(c),o.isArea=!0,o.xMap=s.xMap,this.areaPath.xMap=s.xMap,o},drawDataLabels:function(){var t,e,i,n=this.data,r=n.length,o=[],s=this.options.dataLabels,a=s.align,c=s.verticalAlign,u=s.inside,h=this.chart.inverted;if(s.enabled||this._hasPointLabels){for(t=r;t--;)(e=n[t])&&(i=u?e.plotHigh<e.plotLow:e.plotHigh>e.plotLow,e.y=e.high,e._plotY=e.plotY,e.plotY=e.plotHigh,o[t]=e.dataLabel,e.dataLabel=e.dataLabelUpper,e.below=i,h?a||(s.align=i?"right":"left"):c||(s.verticalAlign=i?"top":"bottom"),s.x=s.xHigh,s.y=s.yHigh);for(l.drawDataLabels&&l.drawDataLabels.apply(this,arguments),t=r;t--;)(e=n[t])&&(i=u?e.plotHigh<e.plotLow:e.plotHigh>e.plotLow,e.dataLabelUpper=e.dataLabel,e.dataLabel=o[t],e.y=e.low,e.plotY=e._plotY,e.below=!i,h?a||(s.align=i?"left":"right"):c||(s.verticalAlign=i?"bottom":"top"),s.x=s.xLow,s.y=s.yLow);l.drawDataLabels&&l.drawDataLabels.apply(this,arguments)}s.align=a,s.verticalAlign=c},alignDataLabel:function(){a.column.prototype.alignDataLabel.apply(this,arguments)},drawPoints:function(){var t,e,i=this,n=i.points.length;for(l.drawPoints.apply(i,arguments),e=0;e<n;)(t=i.points[e]).lowerGraphic=t.graphic,t.graphic=t.upperGraphic,t._plotY=t.plotY,t._plotX=t.plotX,t.plotY=t.plotHigh,r(t.plotHighX)&&(t.plotX=t.plotHighX),e++;for(l.drawPoints.apply(i,arguments),e=0;e<n;)(t=i.points[e]).upperGraphic=t.graphic,t.graphic=t.lowerGraphic,t.plotY=t._plotY,t.plotX=t._plotX,e++},setStackedPoints:i},{setState:function(){var t=this.state,e=this.series,i=e.chart.polar;r(this.plotHigh)||(this.plotHigh=e.yAxis.toPixels(this.high,!0)),r(this.plotLow)||(this.plotLow=this.plotY=e.yAxis.toPixels(this.low,!0)),c.setState.apply(this,arguments),this.graphic=this.upperGraphic,this.plotY=this.plotHigh,i&&(this.plotX=this.plotHighX),this.state=t,e.stateMarkerGraphic&&(e.lowerStateMarkerGraphic=e.stateMarkerGraphic,e.stateMarkerGraphic=e.upperStateMarkerGraphic),c.setState.apply(this,arguments),this.plotY=this.plotLow,this.graphic=this.lowerGraphic,i&&(this.plotX=this.plotLowX),e.stateMarkerGraphic&&(e.upperStateMarkerGraphic=e.stateMarkerGraphic,e.stateMarkerGraphic=e.lowerStateMarkerGraphic,e.lowerStateMarkerGraphic=void 0)},haloPath:function(){var t=this.series.chart.polar,e=[];return this.plotY=this.plotLow,t&&(this.plotX=this.plotLowX),e=c.haloPath.apply(this,arguments),this.plotY=this.plotHigh,t&&(this.plotX=this.plotHighX),e=e.concat(c.haloPath.apply(this,arguments))},destroy:function(){return this.upperGraphic&&(this.upperGraphic=this.upperGraphic.destroy()),c.destroy.apply(this,arguments)}})}(t),function(t){(0,t.seriesType)("areasplinerange","arearange",null,{getPointSpline:t.seriesTypes.spline.prototype.getPointSpline})}(t),function(t){var e=t.defaultPlotOptions,i=t.each,n=t.merge,r=t.noop,o=t.pick,s=t.seriesType,a=t.seriesTypes.column.prototype,l={pointRange:null,marker:null,states:{hover:{halo:!1}}};s("columnrange","arearange",n(e.column,e.arearange,l),{translate:function(){function t(t){return Math.min(Math.max(-d,t),d)}var e,n,r=this,s=r.yAxis,l=r.xAxis,c=l.startAngleRad,u=r.chart,h=r.xAxis.isRadial,d=Math.max(u.chartWidth,u.chartHeight)+999;a.translate.apply(r),i(r.points,(function(i){var a,d,p,f=i.shapeArgs,m=r.options.minPointLength;i.plotHigh=n=t(s.translate(i.high,0,1,0,1)),i.plotLow=t(i.plotY),p=n,d=o(i.rectPlotY,i.plotY)-n,Math.abs(d)<m?(d+=a=m-d,p-=a/2):d<0&&(p-=d*=-1),h?(e=i.barX+c,i.shapeType="path",i.shapeArgs={d:r.polarArc(p+d,p,e,e+i.pointWidth)}):(f.height=d,f.y=p,i.tooltipPos=u.inverted?[s.len+s.pos-u.plotLeft-p-d/2,l.len+l.pos-u.plotTop-f.x-f.width/2,d]:[l.left-u.plotLeft+f.x+f.width/2,s.pos-u.plotTop+p+d/2,d])}))},directTouch:!0,trackerGroups:["group","dataLabelsGroup"],drawGraph:r,getSymbol:r,crispCol:a.crispCol,drawPoints:a.drawPoints,drawTracker:a.drawTracker,getColumnMetrics:a.getColumnMetrics,pointAttribs:a.pointAttribs,animate:function(){return a.animate.apply(this,arguments)},polarArc:function(){return a.polarArc.apply(this,arguments)},translate3dPoints:function(){return a.translate3dPoints.apply(this,arguments)},translate3dShapes:function(){return a.translate3dShapes.apply(this,arguments)}},{setState:a.pointClass.prototype.setState})}(t),function(t){var e=t.each,i=t.isNumber,n=t.merge,r=t.noop,o=t.pick,s=t.pInt,a=t.Series,l=t.seriesType,c=t.TrackerMixin;l("gauge","line",{dataLabels:{enabled:!0,defer:!1,y:15,borderRadius:3,crop:!1,verticalAlign:"top",zIndex:2,borderWidth:1,borderColor:"#cccccc"},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1},{angular:!0,directTouch:!0,drawGraph:r,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],translate:function(){var t=this,r=t.yAxis,a=t.options,l=r.center;t.generatePoints(),e(t.points,(function(t){var e=n(a.dial,t.dial),c=s(o(e.radius,80))*l[2]/200,u=s(o(e.baseLength,70))*c/100,h=s(o(e.rearLength,10))*c/100,d=e.baseWidth||3,p=e.topWidth||1,f=a.overshoot,m=r.startAngleRad+r.translate(t.y,null,null,null,!0);i(f)?(f=f/180*Math.PI,m=Math.max(r.startAngleRad-f,Math.min(r.endAngleRad+f,m))):!1===a.wrap&&(m=Math.max(r.startAngleRad,Math.min(r.endAngleRad,m))),m=180*m/Math.PI,t.shapeType="path",t.shapeArgs={d:e.path||["M",-h,-d/2,"L",u,-d/2,c,-p/2,c,p/2,u,d/2,-h,d/2,"z"],translateX:l[0],translateY:l[1],rotation:m},t.plotX=l[0],t.plotY=l[1]}))},drawPoints:function(){var t=this,i=t.yAxis.center,r=t.pivot,s=t.options,a=s.pivot,l=t.chart.renderer;e(t.points,(function(e){var i=e.graphic,r=e.shapeArgs,o=r.d,a=n(s.dial,e.dial);i?(i.animate(r),r.d=o):(e.graphic=l[e.shapeType](r).attr({rotation:r.rotation,zIndex:1}).addClass("highcharts-dial").add(t.group),e.graphic.attr({stroke:a.borderColor||"none","stroke-width":a.borderWidth||0,fill:a.backgroundColor||"#000000"}))})),r?r.animate({translateX:i[0],translateY:i[1]}):(t.pivot=l.circle(0,0,o(a.radius,5)).attr({zIndex:2}).addClass("highcharts-pivot").translate(i[0],i[1]).add(t.group),t.pivot.attr({"stroke-width":a.borderWidth||0,stroke:a.borderColor||"#cccccc",fill:a.backgroundColor||"#000000"}))},animate:function(t){var i=this;t||(e(i.points,(function(t){var e=t.graphic;e&&(e.attr({rotation:180*i.yAxis.startAngleRad/Math.PI}),e.animate({rotation:t.shapeArgs.rotation},i.options.animation))})),i.animate=null)},render:function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup),a.prototype.render.call(this),this.group.clip(this.chart.clipRect)},setData:function(t,e){a.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),o(e,!0)&&this.chart.redraw()},drawTracker:c&&c.drawTrackerPoint},{setState:function(t){this.state=t}})}(t),function(t){var e=t.each,i=t.noop,n=t.pick,r=t.seriesType,o=t.seriesTypes;r("boxplot","column",{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b> {series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,states:{hover:{brightness:-.3}},whiskerWidth:2},{pointArrayMap:["low","q1","median","q3","high"],toYData:function(t){return[t.low,t.q1,t.median,t.q3,t.high]},pointValKey:"high",pointAttribs:function(t){var e=this.options,i=t&&t.color||this.color;return{fill:t.fillColor||e.fillColor||i,stroke:e.lineColor||i,"stroke-width":e.lineWidth||0}},drawDataLabels:i,translate:function(){var t=this,i=t.yAxis,n=t.pointArrayMap;o.column.prototype.translate.apply(t),e(t.points,(function(t){e(n,(function(e){null!==t[e]&&(t[e+"Plot"]=i.translate(t[e],0,1,0,1))}))}))},drawPoints:function(){var t,i,r,o,s,a,l,c,u,h,d,p,f,m=this,g=m.points,v=m.options,y=m.chart.renderer,b=0,w=!1!==m.doQuartiles,x=m.options.whiskerLength;e(g,(function(e){var g,_=e.graphic,k=_?"animate":"attr",C=e.shapeArgs,S={},T={},A={},E=e.color||m.color;void 0!==e.plotY&&(u=C.width,h=Math.floor(C.x),d=h+u,p=Math.round(u/2),t=Math.floor(w?e.q1Plot:e.lowPlot),i=Math.floor(w?e.q3Plot:e.lowPlot),r=Math.floor(e.highPlot),o=Math.floor(e.lowPlot),_||(e.graphic=_=y.g("point").add(m.group),e.stem=y.path().addClass("highcharts-boxplot-stem").add(_),x&&(e.whiskers=y.path().addClass("highcharts-boxplot-whisker").add(_)),w&&(e.box=y.path(c).addClass("highcharts-boxplot-box").add(_)),e.medianShape=y.path(a).addClass("highcharts-boxplot-median").add(_)),S.stroke=e.stemColor||v.stemColor||E,S["stroke-width"]=n(e.stemWidth,v.stemWidth,v.lineWidth),S.dashstyle=e.stemDashStyle||v.stemDashStyle,e.stem.attr(S),x&&(T.stroke=e.whiskerColor||v.whiskerColor||E,T["stroke-width"]=n(e.whiskerWidth,v.whiskerWidth,v.lineWidth),e.whiskers.attr(T)),w&&(g=m.pointAttribs(e),e.box.attr(g)),A.stroke=e.medianColor||v.medianColor||E,A["stroke-width"]=n(e.medianWidth,v.medianWidth,v.lineWidth),e.medianShape.attr(A),l=e.stem.strokeWidth()%2/2,b=h+p+l,e.stem[k]({d:["M",b,i,"L",b,r,"M",b,t,"L",b,o]}),w&&(l=e.box.strokeWidth()%2/2,t=Math.floor(t)+l,i=Math.floor(i)+l,h+=l,d+=l,e.box[k]({d:["M",h,i,"L",h,t,"L",d,t,"L",d,i,"L",h,i,"z"]})),x&&(l=e.whiskers.strokeWidth()%2/2,r+=l,o+=l,f=/%$/.test(x)?p*parseFloat(x)/100:x/2,e.whiskers[k]({d:["M",b-f,r,"L",b+f,r,"M",b-f,o,"L",b+f,o]})),s=Math.round(e.medianPlot),l=e.medianShape.strokeWidth()%2/2,s+=l,e.medianShape[k]({d:["M",h,s,"L",d,s]}))}))},setStackedPoints:i})}(t),function(t){var e=t.each,i=t.noop,n=t.seriesType,r=t.seriesTypes;n("errorbar","boxplot",{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null},{type:"errorbar",pointArrayMap:["low","high"],toYData:function(t){return[t.low,t.high]},pointValKey:"high",doQuartiles:!1,drawDataLabels:r.arearange?function(){var t=this.pointValKey;r.arearange.prototype.drawDataLabels.call(this),e(this.data,(function(e){e.y=e[t]}))}:i,getColumnMetrics:function(){return this.linkedParent&&this.linkedParent.columnMetrics||r.column.prototype.getColumnMetrics.call(this)}})}(t),function(t){var e=t.correctFloat,i=t.isNumber,n=t.pick,r=t.Point,o=t.Series,s=t.seriesType,a=t.seriesTypes;s("waterfall","column",{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}},{pointValKey:"y",translate:function(){var t,i,r,o,s,l,c,u,h,d,p,f,m,g=this,v=g.options,y=g.yAxis,b=n(v.minPointLength,5),w=b/2,x=v.threshold,_=v.stacking;for(a.column.prototype.translate.apply(g),h=d=x,i=0,t=(r=g.points).length;i<t;i++)o=r[i],u=g.processedYData[i],s=o.shapeArgs,l=_&&y.stacks[(g.negStacks&&u<x?"-":"")+g.stackKey],f=g.getStackIndicator(f,o.x,g.index),p=l?l[o.x].points[f.key]:[0,u],o.isSum?o.y=e(u):o.isIntermediateSum&&(o.y=e(u-d)),c=Math.max(h,h+o.y)+p[0],s.y=y.translate(c,0,1,0,1),o.isSum?(s.y=y.translate(p[1],0,1,0,1),s.height=Math.min(y.translate(p[0],0,1,0,1),y.len)-s.y):o.isIntermediateSum?(s.y=y.translate(p[1],0,1,0,1),s.height=Math.min(y.translate(d,0,1,0,1),y.len)-s.y,d=p[1]):(s.height=u>0?y.translate(h,0,1,0,1)-s.y:y.translate(h,0,1,0,1)-y.translate(h-u,0,1,0,1),h+=l&&l[o.x]?l[o.x].total:u),s.height<0&&(s.y+=s.height,s.height*=-1),o.plotY=s.y=Math.round(s.y)-g.borderWidth%2/2,s.height=Math.max(Math.round(s.height),.001),o.yBottom=s.y+s.height,s.height<=b&&!o.isNull?(s.height=b,s.y-=w,o.plotY=s.y,o.y<0?o.minPointLengthOffset=-w:o.minPointLengthOffset=w):o.minPointLengthOffset=0,m=o.plotY+(o.negative?s.height:0),g.chart.inverted?o.tooltipPos[0]=y.len-m:o.tooltipPos[1]=m},processData:function(t){var i,n,r,s,a,l,c,u=this,h=u.options,d=u.yData,p=u.options.data,f=d.length;for(r=n=s=a=h.threshold||0,c=0;c<f;c++)l=d[c],i=p&&p[c]?p[c]:{},"sum"===l||i.isSum?d[c]=e(r):"intermediateSum"===l||i.isIntermediateSum?d[c]=e(n):(r+=l,n+=l),s=Math.min(r,s),a=Math.max(r,a);o.prototype.processData.call(this,t),u.options.stacking||(u.dataMin=s,u.dataMax=a)},toYData:function(t){return t.isSum?0===t.x?null:"sum":t.isIntermediateSum?0===t.x?null:"intermediateSum":t.y},pointAttribs:function(t,e){var i,n=this.options.upColor;return n&&!t.options.color&&(t.color=t.y>0?n:null),delete(i=a.column.prototype.pointAttribs.call(this,t,e)).dashstyle,i},getGraphPath:function(){return["M",0,0]},getCrispPath:function(){var t,e,i,n,r=this.data,o=r.length,s=this.graph.strokeWidth()+this.borderWidth,a=Math.round(s)%2/2,l=this.yAxis.reversed,c=[];for(i=1;i<o;i++)e=r[i].shapeArgs,n=["M",(t=r[i-1].shapeArgs).x+t.width,t.y+r[i-1].minPointLengthOffset+a,"L",e.x,t.y+r[i-1].minPointLengthOffset+a],(r[i-1].y<0&&!l||r[i-1].y>0&&l)&&(n[2]+=t.height,n[5]+=t.height),c=c.concat(n);return c},drawGraph:function(){o.prototype.drawGraph.call(this),this.graph.attr({d:this.getCrispPath()})},setStackedPoints:function(){var t,e,i=this,n=i.options;for(o.prototype.setStackedPoints.apply(i,arguments),t=i.stackedYData?i.stackedYData.length:0,e=1;e<t;e++)n.data[e].isSum||n.data[e].isIntermediateSum||(i.stackedYData[e]+=i.stackedYData[e-1])},getExtremes:function(){if(this.options.stacking)return o.prototype.getExtremes.apply(this,arguments)}},{getClassName:function(){var t=r.prototype.getClassName.call(this);return this.isSum?t+=" highcharts-sum":this.isIntermediateSum&&(t+=" highcharts-intermediate-sum"),t},isValid:function(){return i(this.y,!0)||this.isSum||this.isIntermediateSum}})}(t),function(t){var e=t.LegendSymbolMixin,i=t.noop,n=t.Series,r=t.seriesType,o=t.seriesTypes;r("polygon","scatter",{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0},{type:"polygon",getGraphPath:function(){for(var t=n.prototype.getGraphPath.call(this),e=t.length+1;e--;)(e===t.length||"M"===t[e])&&e>0&&t.splice(e,0,"z");return this.areaPath=t,t},drawGraph:function(){this.options.fillColor=this.color,o.area.prototype.drawGraph.call(this)},drawLegendSymbol:e.drawRectangle,drawTracker:n.prototype.drawTracker,setStackedPoints:i})}(t),function(t){var e=t.arrayMax,i=t.arrayMin,n=t.Axis,r=t.color,o=t.each,s=t.isNumber,a=t.noop,l=t.pick,c=t.pInt,u=t.Point,h=t.Series,d=t.seriesType,p=t.seriesTypes;d("bubble","scatter",{dataLabels:{formatter:function(){return this.point.z},inside:!0,verticalAlign:"middle"},marker:{lineColor:null,lineWidth:1,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"},{pointArrayMap:["y","z"],parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",bubblePadding:!0,zoneAxis:"z",directTouch:!0,pointAttribs:function(t,e){var i=this.options.marker,n=l(i.fillOpacity,.5),o=h.prototype.pointAttribs.call(this,t,e);return 1!==n&&(o.fill=r(o.fill).setOpacity(n).get("rgba")),o},getRadii:function(t,e,i,n){var r,o,s,a,l,c=this.zData,u=[],h=this.options,d="width"!==h.sizeBy,p=h.zThreshold,f=e-t;for(o=0,r=c.length;o<r;o++)a=c[o],h.sizeByAbsoluteValue&&null!==a&&(a=Math.abs(a-p),e=Math.max(e-p,Math.abs(t-p)),t=0),null===a?l=null:a<t?l=i/2-1:(s=f>0?(a-t)/f:.5,d&&s>=0&&(s=Math.sqrt(s)),l=Math.ceil(i+s*(n-i))/2),u.push(l);this.radii=u},animate:function(t){var e=this.options.animation;t||(o(this.points,(function(t){var i,n=t.graphic;n&&n.width&&(i={x:n.x,y:n.y,width:n.width,height:n.height},n.attr({x:t.plotX,y:t.plotY,width:1,height:1}),n.animate(i,e))})),this.animate=null)},translate:function(){var e,i,n,r=this.data,o=this.radii;for(p.scatter.prototype.translate.call(this),e=r.length;e--;)i=r[e],n=o?o[e]:0,s(n)&&n>=this.minPxSize/2?(i.marker=t.extend(i.marker,{radius:n,width:2*n,height:2*n}),i.dlBox={x:i.plotX-n,y:i.plotY-n,width:2*n,height:2*n}):i.shapeArgs=i.plotY=i.dlBox=void 0},alignDataLabel:p.column.prototype.alignDataLabel,buildKDTree:a,applyZones:a},{haloPath:function(t){return u.prototype.haloPath.call(this,0===t?0:(this.marker&&this.marker.radius||0)+t)},ttBelow:!1}),n.prototype.beforePadding=function(){var t=this,n=this.len,r=this.chart,a=0,u=n,h=this.isXAxis,d=h?"xData":"yData",p=this.min,f={},m=Math.min(r.plotWidth,r.plotHeight),g=Number.MAX_VALUE,v=-Number.MAX_VALUE,y=this.max-p,b=n/y,w=[];o(this.series,(function(n){var s,a=n.options;!n.bubblePadding||!n.visible&&r.options.chart.ignoreHiddenSeries||(t.allowZoomOutside=!0,w.push(n),h&&(o(["minSize","maxSize"],(function(t){var e=a[t],i=/%$/.test(e);e=c(e),f[t]=i?m*e/100:e})),n.minPxSize=f.minSize,n.maxPxSize=Math.max(f.maxSize,f.minSize),(s=n.zData).length&&(g=l(a.zMin,Math.min(g,Math.max(i(s),!1===a.displayNegative?a.zThreshold:-Number.MAX_VALUE))),v=l(a.zMax,Math.max(v,e(s))))))})),o(w,(function(e){var i,n=e[d],r=n.length;if(h&&e.getRadii(g,v,e.minPxSize,e.maxPxSize),y>0)for(;r--;)s(n[r])&&t.dataMin<=n[r]&&n[r]<=t.dataMax&&(i=e.radii[r],a=Math.min((n[r]-p)*b-i,a),u=Math.max((n[r]-p)*b+i,u))})),w.length&&y>0&&!this.isLog&&(b*=(n+a-(u-=n))/n,o([["min","userMin",a],["max","userMax",u]],(function(e){void 0===l(t.options[e[0]],t[e[1]])&&(t[e[0]]+=e[2]/b)})))}}(t),function(t){function e(t,e){var i,n=this.chart,r=this.options.animation,o=this.group,s=this.markerGroup,a=this.xAxis.center,l=n.plotLeft,c=n.plotTop;n.polar?n.renderer.isSVG&&(!0===r&&(r={}),e?(i={translateX:a[0]+l,translateY:a[1]+c,scaleX:.001,scaleY:.001},o.attr(i),s&&s.attr(i)):(i={translateX:l,translateY:c,scaleX:1,scaleY:1},o.animate(i,r),s&&s.animate(i,r),this.animate=null)):t.call(this,e)}var i,n=t.each,r=t.pick,o=t.Pointer,s=t.Series,a=t.seriesTypes,l=t.wrap,c=s.prototype,u=o.prototype;c.searchPointByAngle=function(t){var e=this,i=e.chart,n=e.xAxis.pane.center,r=t.chartX-n[0]-i.plotLeft,o=t.chartY-n[1]-i.plotTop;return this.searchKDTree({clientX:180+Math.atan2(r,o)*(-180/Math.PI)})},c.getConnectors=function(t,e,i,n){var r,o,s,a,l,c,u,h,d,p,f,m,g,v,y,b,w,x,_,k,C,S=1.5,T=S+1,A=n?1:0;return o=(r=e>=0&&e<=t.length-1?e:e<0?t.length-1+e:0)-1<0?t.length-(1+A):r-1,s=r+1>t.length-1?A:r+1,a=t[o],l=t[s],c=a.plotX,u=a.plotY,h=l.plotX,d=l.plotY,g=(S*(p=t[r].plotX)+c)/T,v=(S*(f=t[r].plotY)+u)/T,y=(S*p+h)/T,b=(S*f+d)/T,w=Math.sqrt(Math.pow(g-p,2)+Math.pow(v-f,2)),x=Math.sqrt(Math.pow(y-p,2)+Math.pow(b-f,2)),_=Math.atan2(v-f,g-p),k=Math.atan2(b-f,y-p),C=Math.PI/2+(_+k)/2,Math.abs(_-C)>Math.PI/2&&(C-=Math.PI),g=p+Math.cos(C)*w,v=f+Math.sin(C)*w,m={rightContX:y=p+Math.cos(Math.PI+C)*x,rightContY:b=f+Math.sin(Math.PI+C)*x,leftContX:g,leftContY:v,plotX:p,plotY:f},i&&(m.prevPointCont=this.getConnectors(t,o,!1,n)),m},l(c,"buildKDTree",(function(t){this.chart.polar&&(this.kdByAngle?this.searchPoint=this.searchPointByAngle:this.options.findNearestPointBy="xy"),t.apply(this)})),c.toXY=function(t){var e,i,n=this.chart,r=t.plotX,o=t.plotY;t.rectPlotX=r,t.rectPlotY=o,e=this.xAxis.postTranslate(t.plotX,this.yAxis.len-o),t.plotX=t.polarPlotX=e.x-n.plotLeft,t.plotY=t.polarPlotY=e.y-n.plotTop,this.kdByAngle?((i=(r/Math.PI*180+this.xAxis.pane.options.startAngle)%360)<0&&(i+=360),t.clientX=i):t.clientX=t.plotX},a.spline&&(l(a.spline.prototype,"getPointSpline",(function(t,e,i,n){var r;return this.chart.polar?n?["C",(r=this.getConnectors(e,n,!0,this.connectEnds)).prevPointCont.rightContX,r.prevPointCont.rightContY,r.leftContX,r.leftContY,r.plotX,r.plotY]:["M",i.plotX,i.plotY]:t.call(this,e,i,n)})),a.areasplinerange&&(a.areasplinerange.prototype.getPointSpline=a.spline.prototype.getPointSpline)),l(c,"translate",(function(t){var e,i,n=this.chart;if(t.call(this),n.polar&&(this.kdByAngle=n.tooltip&&n.tooltip.shared,
!this.preventPostTranslate))for(i=(e=this.points).length;i--;)this.toXY(e[i])})),l(c,"getGraphPath",(function(t,e){var i,r,o,s=this;if(this.chart.polar){for(e=e||this.points,i=0;i<e.length;i++)if(!e[i].isNull){r=i;break}!1!==this.options.connectEnds&&void 0!==r&&(this.connectEnds=!0,e.splice(e.length,0,e[r]),o=!0),n(e,(function(t){void 0===t.polarPlotY&&s.toXY(t)}))}var a=t.apply(this,[].slice.call(arguments,1));return o&&e.pop(),a})),l(c,"animate",e),a.column&&((i=a.column.prototype).polarArc=function(t,e,i,n){var o=this.xAxis.center,s=this.yAxis.len;return this.chart.renderer.symbols.arc(o[0],o[1],s-e,null,{start:i,end:n,innerR:s-r(t,s)})},l(i,"animate",e),l(i,"translate",(function(t){var e,i,n,r,o=this.xAxis,s=o.startAngleRad;if(this.preventPostTranslate=!0,t.call(this),o.isRadial)for(r=(i=this.points).length;r--;)e=(n=i[r]).barX+s,n.shapeType="path",n.shapeArgs={d:this.polarArc(n.yBottom,n.plotY,e,e+n.pointWidth)},this.toXY(n),n.tooltipPos=[n.plotX,n.plotY],n.ttBelow=n.plotY>o.center[1]})),l(i,"alignDataLabel",(function(t,e,i,n,r,o){if(this.chart.polar){var s,a,l=e.rectPlotX/Math.PI*180;null===n.align&&(s=l>20&&l<160?"left":l>200&&l<340?"right":"center",n.align=s),null===n.verticalAlign&&(a=l<45||l>315?"bottom":l>135&&l<225?"top":"middle",n.verticalAlign=a),c.alignDataLabel.call(this,e,i,n,r,o)}else t.call(this,e,i,n,r,o)}))),l(u,"getCoordinates",(function(t,e){var i=this.chart,r={xAxis:[],yAxis:[]};return i.polar?n(i.axes,(function(t){var n=t.isXAxis,o=t.center,s=e.chartX-o[0]-i.plotLeft,a=e.chartY-o[1]-i.plotTop;r[n?"xAxis":"yAxis"].push({axis:t,value:t.translate(n?Math.PI-Math.atan2(s,a):Math.sqrt(Math.pow(s,2)+Math.pow(a,2)),!0)})})):r=t.call(this,e),r})),l(t.Chart.prototype,"getAxes",(function(e){this.pane||(this.pane=[]),n(t.splat(this.options.pane),(function(e){new t.Pane(e,this)}),this),e.call(this)})),l(t.Chart.prototype,"drawChartBox",(function(t){t.call(this),n(this.pane,(function(t){t.render()}))})),l(t.Chart.prototype,"get",(function(e,i){return t.find(this.pane,(function(t){return t.options.id===i}))||e.call(this,i)}))}(t)})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Chartkick=e()}(this,(function(){"use strict";function t(t){return"[object Array]"===Object.prototype.toString.call(t)}function e(t){return t instanceof Function}function i(t){return"[object Object]"===Object.prototype.toString.call(t)&&!e(t)&&t instanceof Object}function n(e,r){var o;for(o in r)"__proto__"!==o&&(i(r[o])||t(r[o])?(i(r[o])&&!i(e[o])&&(e[o]={}),t(r[o])&&!t(e[o])&&(e[o]=[]),n(e[o],r[o])):void 0!==r[o]&&(e[o]=r[o]))}function r(t,e){var i={};return n(i,t),n(i,e),i}function o(t){var e,i,n,r,o,s,a,l,c,u,h;return"[object Date]"===(u=Object.prototype.toString.call(t))?t:"[object String]"===u&&(n=t.match(Q))?(h=parseInt(n[1],10),s=parseInt(n[3],10)-1,e=parseInt(n[5],10),i=parseInt(n[7],10),o=n[9]?parseInt(n[9],10):0,c=n[11]?parseInt(n[11],10):0,r=n[12]?1e3*parseFloat(J+n[12].slice(1)):0,l=Date.UTC(h,s,e,i,o,c,r),n[13]&&n[14]&&(a=60*n[15],n[17]&&(a+=parseInt(n[17],10)),l-=60*(a*="-"===n[14]?-1:1)*1e3),new Date(l)):void 0}function s(t){var e,i,n;for(e=0;e<t.length;e++)for(n=t[e].data,i=0;i<n.length;i++)if(n[i][1]<0)return!0;return!1}function a(t){return""+t}function l(t){return parseFloat(t)}function c(t){var e,i,n,r;if("object"!=typeof t)if("number"==typeof t)t=new Date(1e3*t);else{if(e=(t=a(t)).match(K))return i=parseInt(e[1],10),n=parseInt(e[3],10)-1,r=parseInt(e[5],10),new Date(i,n,r);var s=t.replace(/ /,"T").replace(" ","").replace("UTC","Z");t=o(s)||new Date(t)}return t}function u(e){if(!t(e)){var i,n=[];for(i in e)e.hasOwnProperty(i)&&n.push([i,e[i]]);e=n}return e}function h(t,e,i,n,o,a,l,c){return function(u,h,d){var p=u.data,f=r({},t);return f=r(f,d||{}),(u.hideLegend||"legend"in h)&&e(f,h.legend,u.hideLegend),h.title&&i(f,h.title),"min"in h?n(f,h.min):s(p)||n(f,0),h.max&&o(f,h.max),"stacked"in h&&a(f,h.stacked),h.colors&&(f.colors=h.colors),h.xtitle&&l(f,h.xtitle),h.ytitle&&c(f,h.ytitle),f=r(f,h.library||{})}}function d(t,e){return t[0].getTime()-e[0].getTime()}function p(t,e){return t[0]-e[0]}function f(t,e){return t-e}function m(t){return 0===t.getMilliseconds()&&0===t.getSeconds()}function g(t){return m(t)&&0===t.getMinutes()}function v(t){return g(t)&&0===t.getHours()}function y(t,e){return v(t)&&t.getDay()===e}function b(t){return v(t)&&1===t.getDate()}function w(t){return b(t)&&0===t.getMonth()}function x(t){return!isNaN(c(t))&&a(t).length>=6}function _(t){return"number"==typeof t}function k(t,e,i,n){t=t||"",i.prefix&&(e<0&&(e*=-1,t+="-"),t+=i.prefix);var r=i.suffix||"",o=i.precision,s=i.round;if(i.byteScale){var l,c=n?i.byteScale:e;c>=0x1000000000000000?(e/=0x1000000000000000,l=6):c>=0x4000000000000?(e/=0x4000000000000,l=5):c>=1099511627776?(e/=1099511627776,l=4):c>=1073741824?(e/=1073741824,l=3):c>=1048576?(e/=1048576,l=2):c>=1024?(e/=1024,l=1):l=0,void 0===o&&void 0===s&&(e>=1023.5&&l<Z.length-1&&(e=1,l+=1),o=e>=1e3?4:3),r=" "+Z[l]}if(void 0!==o&&void 0!==s)throw Error("Use either round or precision, not both");if(!n&&(void 0!==o&&(e=e.toPrecision(o),i.zeros||(e=parseFloat(e))),void 0!==s))if(s<0){var u=Math.pow(10,-1*s);e=parseInt((1*e/u).toFixed(0))*u}else e=e.toFixed(s),i.zeros||(e=parseFloat(e));if(i.thousands||i.decimal){var h=(e=a(e)).split(".");e=h[0],i.thousands&&(e=e.replace(/\B(?=(\d{3})+(?!\d))/g,i.thousands)),h.length>1&&(e+=(i.decimal||".")+h[1])}return t+e+r}function C(t,e,i){return i in e?e[i]:i in t.options?t.options[i]:null}function S(t){var e,i,n;for(e=0;e<t.length;e++)for(n=t[e].data,i=0;i<n.length;i++)if(0!=n[i][1])return!1;return!0}function T(t,e,i){jt.push([t,e,i]),A()}function A(){if(Ft<qt){var t=jt.shift();t&&(Ft++,P(t[0],t[1],t[2]),A())}}function E(){Ft--,A()}function P(t,e,i){M(t,e,(function(t,e,n){var r="string"==typeof n?n:n.message;i(r)}))}function M(t,e,i){var n=window.jQuery||window.Zepto||window.$;if(n&&n.ajax)n.ajax({dataType:"json",url:t,success:e,error:i,complete:E});else{var r=new XMLHttpRequest;r.open("GET",t,!0),r.setRequestHeader("Content-Type","application/json"),r.onload=function(){E(),200===r.status?e(JSON.parse(r.responseText),r.statusText,r):i(r,"error",r.statusText)},r.send()}}function L(t,e){document.body.innerText?t.innerText=e:t.textContent=e}function O(t,e,i){i||(e="Error Loading Chart: "+e),L(t,e),t.style.color="#ff0000"}function D(t){try{t.__render()}catch(e){throw O(t.element,e.message),e}}function I(t,e){if("string"==typeof e)T(e,(function(e){t.rawData=e,D(t)}),(function(e){O(t.element,e)}));else if("function"==typeof e)try{e((function(e){t.rawData=e,D(t)}),(function(e){O(t.element,e,!0)}))}catch(e){O(t.element,e,!0)}else t.rawData=e,D(t)}function $(t){var e=t.element,i=document.createElement("a"),n=t.options.download;!0===n?n={}:"string"==typeof n&&(n={filename:n}),i.download=n.filename||"chart.png",i.style.position="absolute",i.style.top="20px",i.style.right="20px",i.style.zIndex=1e3,i.style.lineHeight="20px",i.target="_blank";var r=document.createElement("img");r.alt="Download",r.style.border="none",r.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABCFBMVEUAAADMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMywEsqxAAAAV3RSTlMAAQIDBggJCgsMDQ4PERQaHB0eISIjJCouLzE0OTo/QUJHSUpLTU5PUllhYmltcHh5foWLjI+SlaCio6atr7S1t7m6vsHHyM7R2tze5Obo7fHz9ff5+/1hlxK2AAAA30lEQVQYGUXBhVYCQQBA0TdYWAt2d3d3YWAHyur7/z9xgD16Lw0DW+XKx+1GgX+FRzM3HWQWrHl5N/oapW5RPe0PkBu+UYeICvozTWZVK23Ao04B79oJrOsJDOoxkZoQPWgX29pHpCZEk7rEvQYiNSFq1UMqvlCjJkRBS1R8hb00Vb/TajtBL7nTHE1X1vyMQF732dQhyF2o6SAwrzP06iUQzvwsArlnzcOdrgBhJyHa1QOgO9U1GsKuvjUTjavliZYQ8nNPapG6sap/3nrIdJ6bOWzmX/fy0XVpfzZP3S8OJT3g9EEiJwAAAABJRU5ErkJggg==",i.appendChild(r),e.style.position="relative",t.__downloadAttached=!0,t.__enterEvent=N(e,"mouseover",(function(r){var o=r.relatedTarget;o&&(o===this||j(this,o))||!t.options.download||(i.href=t.toImage(n),e.appendChild(i))})),t.__leaveEvent=N(e,"mouseout",(function(t){var e=t.relatedTarget;e&&(e===this||j(this,e))||i.parentNode&&i.parentNode.removeChild(i)}))}function N(t,e,i){if(t.addEventListener)return t.addEventListener(e,i,!1),i;var n=function(){return i.call(t,window.event)};return t.attachEvent("on"+e,n),n}function z(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent("on"+e,i)}function j(t,e){if(t===e)return!1;for(;e&&e!==t;)e=e.parentNode;return e===t}function F(t){if(t){if("Highcharts"===t.product)return Ct;if(t.charts)return zt;if(e(t))return yt}throw new Error("Unknown adapter")}function q(t){var e=new(F(t))(t);-1===Bt.indexOf(e)&&Bt.push(e)}function R(){"Chart"in window&&q(window.Chart),"Highcharts"in window&&q(window.Highcharts),window.google&&window.google.charts&&q(window.google)}function B(t,e){if("PieChart"===e||"GeoChart"===e||"Timeline"===e)return 0===t.length;for(var i=0;i<t.length;i++)if(t[i].data.length>0)return!1;return!0}function H(t,e){e.options.messages&&e.options.messages.empty&&B(e.data,t)?L(e.element,e.options.messages.empty):(U(t,e),e.options.download&&!e.__downloadAttached&&"chartjs"===e.adapter&&$(e))}function U(t,i){var n,r,o,s;for(o="render"+t,s=i.options.adapter,R(),n=0;n<Bt.length;n++)if(r=Bt[n],(!s||s===r.name)&&e(r[o]))return i.adapter=r.name,i.__adapterObject=r,r[o](i);throw Bt.length>0?new Error("No charting library found for "+t):new Error("No charting libraries found - be sure to include one before your charts")}function W(t,e,i){return B(t)?!i.xmin&&!i.xmax||i.xmin&&!x(i.xmin)||i.xmax&&!x(i.xmax)?"number":"datetime":X(t,_)?"number":!e&&X(t,x)?"datetime":"string"}function X(t,e){var i,n,r;for(i=0;i<t.length;i++)for(r=u(t[i].data),n=0;n<r.length;n++)if(!e(r[n][0]))return!1;return!0}function G(t){var e,i,n=[];for(e=0;e<t.length;e++){var r={};for(i in t[e])t[e].hasOwnProperty(i)&&(r[i]=t[e][i]);n.push(r)}return n}function Y(e,i,n){var r,o=e.options,s=e.rawData;for(!t(s)||"object"!=typeof s[0]||t(s[0])?(s=[{name:o.label,data:s}],e.hideLegend=!0):e.hideLegend=!1,s=G(s),r=0;r<s.length;r++)s[r].data=u(s[r].data);for(e.xtype=i||(o.discrete?"string":W(s,n,o)),r=0;r<s.length;r++)s[r].data=Ut(s[r].data,e.xtype);return s}function V(t){var e,i=u(t.rawData);for(e=0;e<i.length;e++)i[e]=[a(i[e][0]),l(i[e][1])];return i}var K=/^(\d\d\d\d)(-)?(\d\d)(-)?(\d\d)$/i,Q=/(\d\d\d\d)(-)?(\d\d)(-)?(\d\d)(T)?(\d\d)(:)?(\d\d)?(:)?(\d\d)?([.,]\d+)?($|Z|([+-])(\d\d)(:)?(\d\d)?)/i,J=String(1.5).charAt(1),Z=["bytes","KB","MB","GB","TB","PB","EB"],tt={maintainAspectRatio:!1,animation:!1,tooltips:{displayColors:!1,callbacks:{}},legend:{},title:{fontSize:20,fontColor:"#333"}},et={scales:{yAxes:[{ticks:{maxTicksLimit:4},scaleLabel:{fontSize:16,fontColor:"#333"}}],xAxes:[{gridLines:{drawOnChartArea:!1},scaleLabel:{fontSize:16,fontColor:"#333"},time:{},ticks:{}}]}},it=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#651067"],nt=function(t,e,i){void 0!==e?(t.legend.display=!!e,e&&!0!==e&&(t.legend.position=e)):i&&(t.legend.display=!1)},rt=function(t,e){t.title.display=!0,t.title.text=e},ot=function(t,e){null!==e&&(t.scales.yAxes[0].ticks.min=l(e))},st=function(t,e){t.scales.yAxes[0].ticks.max=l(e)},at=function(t,e){null!==e&&(t.scales.xAxes[0].ticks.min=l(e))},lt=function(t,e){t.scales.xAxes[0].ticks.max=l(e)},ct=function(t,e){t.scales.xAxes[0].stacked=!!e,t.scales.yAxes[0].stacked=!!e},ut=function(t,e){t.scales.xAxes[0].scaleLabel.display=!0,t.scales.xAxes[0].scaleLabel.labelString=e},ht=function(t,e){t.scales.yAxes[0].scaleLabel.display=!0,t.scales.yAxes[0].scaleLabel.labelString=e},dt=function(t,e){var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return i?"rgba("+parseInt(i[1],16)+", "+parseInt(i[2],16)+", "+parseInt(i[3],16)+", "+e+")":t},pt=function(t){return null!=t},ft=function(t,e,i){var n=Math.ceil(t.element.offsetWidth/4/e.labels.length);n>25?n=25:n<10&&(n=10),i.scales.xAxes[0].ticks.callback||(i.scales.xAxes[0].ticks.callback=function(t){return(t=a(t)).length>n?t.substring(0,n-2)+"...":t})},mt=function(e,i,n){var r={prefix:e.options.prefix,suffix:e.options.suffix,thousands:e.options.thousands,decimal:e.options.decimal,precision:e.options.precision,round:e.options.round,zeros:e.options.zeros};if(e.options.bytes){var o=e.data;"pie"===n&&(o=[{data:o}]);for(var s=0,a=0;a<o.length;a++)for(var l=o[a],c=0;c<l.data.length;c++)l.data[c][1]>s&&(s=l.data[c][1]);for(var u=1;s>=1024;)u*=1024,s/=1024;r.byteScale=u}if("pie"!==n){var h=i.scales.yAxes;"bar"===n&&(h=i.scales.xAxes),r.byteScale&&(h[0].ticks.stepSize||(h[0].ticks.stepSize=r.byteScale/2),h[0].ticks.maxTicksLimit||(h[0].ticks.maxTicksLimit=4)),h[0].ticks.callback||(h[0].ticks.callback=function(t){return k("",t,r,!0)})}if(!i.tooltips.callbacks.label)if("scatter"===n)i.tooltips.callbacks.label=function(t,e){var i=e.datasets[t.datasetIndex].label||"";return i&&(i+=": "),i+"("+t.xLabel+", "+t.yLabel+")"};else if("bubble"===n)i.tooltips.callbacks.label=function(t,e){var i=e.datasets[t.datasetIndex].label||"";i&&(i+=": ");var n=e.datasets[t.datasetIndex].data[t.index];return i+"("+t.xLabel+", "+t.yLabel+", "+n.v+")"};else if("pie"===n)i.tooltips.callbacks.label=function(e,i){var n=i.labels[e.index],o=": ";return t(n)?(n=n.slice())[0]+=o:n+=o,k(n,i.datasets[e.datasetIndex].data[e.index],r)};else{var d="bar"===n?"xLabel":"yLabel";i.tooltips.callbacks.label=function(t,e){var i=e.datasets[t.datasetIndex].label||"";return i&&(i+=": "),k(i,t[d],r)}}},gt=h(r(tt,et),nt,rt,ot,st,ct,ut,ht),vt=function(t,e,i,n){var o,s=[],a=[],u=t.options.colors||it,h=!0,d=!0,p=!0,x=!0,_=!0,k=!0,S=t.data,T=0;if("bubble"===i)for(var A=0;A<S.length;A++)for(var E=S[A],P=0;P<E.data.length;P++)E.data[P][2]>T&&(T=E.data[P][2]);var M,L,O,D,I,$=[],N=[];if("bar"===i||"column"===i||"number"!==t.xtype&&"bubble"!==t.xtype){var z,j,F=[];for(M=0;M<S.length;M++)for(O=S[M],L=0;L<O.data.length;L++)D=O.data[L],$[I="datetime"==t.xtype?D[0].getTime():D[0]]||($[I]=new Array(S.length)),$[I][M]=l(D[1]),-1===F.indexOf(I)&&F.push(I);for("datetime"!==t.xtype&&"number"!==t.xtype||F.sort(f),L=0;L<S.length;L++)N.push([]);for(j=0;j<F.length;j++)for(M=F[j],"datetime"===t.xtype?(z=new Date(l(M)),h=h&&v(z),o||(o=z.getDay()),d=d&&y(z,o),p=p&&b(z),x=x&&w(z),_=_&&g(z),k=k&&m(z)):z=M,a.push(z),L=0;L<S.length;L++)N[L].push(void 0===$[M][L]?null:$[M][L])}else for(var q=0;q<S.length;q++){for(var R=S[q],B=[],H=0;H<R.data.length;H++){var U={x:l(R.data[H][0]),y:l(R.data[H][1])};"bubble"===i&&(U.r=20*l(R.data[H][2])/T,U.v=R.data[H][2]),B.push(U)}N.push(B)}for(M=0;M<S.length;M++){var W=(O=S[M]).color||u[M],X="line"!==i?dt(W,.5):W,G={label:O.name||"",data:N[M],fill:"area"===i,borderColor:W,backgroundColor:X,pointBackgroundColor:W,borderWidth:2,pointHoverBackgroundColor:W};O.stack&&(G.stack=O.stack),!1===C(t,O,"curve")&&(G.lineTension=0),!1===C(t,O,"points")&&(G.pointRadius=0,G.pointHitRadius=5),G=r(G,t.options.dataset||{}),G=r(G,O.library||{}),G=r(G,O.dataset||{}),s.push(G)}var Y=t.options.xmin,V=t.options.xmax;if("datetime"===t.xtype){var K="math"in n.helpers?"ticks":"time";pt(Y)&&(e.scales.xAxes[0][K].min=c(Y).getTime()),pt(V)&&(e.scales.xAxes[0][K].max=c(V).getTime())}else"number"===t.xtype&&(pt(Y)&&(e.scales.xAxes[0].ticks.min=Y),pt(V)&&(e.scales.xAxes[0].ticks.max=V));if("datetime"===t.xtype&&0===a.length&&(pt(Y)&&a.push(c(Y)),pt(V)&&a.push(c(V)),h=!1,d=!1,p=!1,x=!1,_=!1,k=!1),"datetime"===t.xtype&&a.length>0){var Q=(pt(Y)?c(Y):a[0]).getTime(),J=(pt(V)?c(V):a[0]).getTime();for(M=1;M<a.length;M++){var Z=a[M].getTime();Z<Q&&(Q=Z),Z>J&&(J=Z)}var tt,et=(J-Q)/864e5;if(!e.scales.xAxes[0].time.unit)if(x||et>3650?(e.scales.xAxes[0].time.unit="year",tt=365):p||et>300?(e.scales.xAxes[0].time.unit="month",tt=30):h||et>10?(e.scales.xAxes[0].time.unit="day",tt=1):_||et>.5?(e.scales.xAxes[0].time.displayFormats={hour:"MMM D, h a"},e.scales.xAxes[0].time.unit="hour",tt=1/24):k&&(e.scales.xAxes[0].time.displayFormats={minute:"h:mm a"},e.scales.xAxes[0].time.unit="minute",tt=1/24/60),tt&&et>0){var nt=Math.ceil(et/tt/(t.element.offsetWidth/100));d&&1===tt&&(nt=7*Math.ceil(nt/7)),e.scales.xAxes[0].time.unitStepSize=nt}e.scales.xAxes[0].time.tooltipFormat||(h?e.scales.xAxes[0].time.tooltipFormat="ll":_?e.scales.xAxes[0].time.tooltipFormat="MMM D, h a":k&&(e.scales.xAxes[0].time.tooltipFormat="h:mm a"))}return{labels:a,datasets:s}},yt=function(t){this.name="chartjs",this.library=t};yt.prototype.renderLineChart=function(t,e){var i={};!t.options.max&&S(t.data)&&(i.max=1);var n=gt(t,r(i,t.options));mt(t,n,e);var o=vt(t,n,e||"line",this.library);"number"===t.xtype?(n.scales.xAxes[0].type="linear",n.scales.xAxes[0].position="bottom"):n.scales.xAxes[0].type="string"===t.xtype?"category":"time",this.drawChart(t,"line",o,n)},yt.prototype.renderPieChart=function(t){var e=r({},tt);t.options.donut&&(e.cutoutPercentage=50),"legend"in t.options&&nt(e,t.options.legend),t.options.title&&rt(e,t.options.title),e=r(e,t.options.library||{}),mt(t,e,"pie");for(var i=[],n=[],o=0;o<t.data.length;o++){var s=t.data[o];i.push(s[0]),n.push(s[1])}var a={data:n,backgroundColor:t.options.colors||it},l={labels:i,datasets:[a=r(a,t.options.dataset||{})]};this.drawChart(t,"pie",l,e)},yt.prototype.renderColumnChart=function(t,e){var i;if("bar"===e){var n=r(tt,et);delete n.scales.yAxes[0].ticks.maxTicksLimit,i=h(n,nt,rt,at,lt,ct,ut,ht)(t,t.options)}else i=gt(t,t.options);mt(t,i,e);var o=vt(t,i,"column",this.library);"bar"!==e&&ft(t,o,i),this.drawChart(t,"bar"===e?"horizontalBar":"bar",o,i)},yt.prototype.renderAreaChart=function(t){this.renderLineChart(t,"area")},yt.prototype.renderBarChart=function(t){this.renderColumnChart(t,"bar")},yt.prototype.renderScatterChart=function(t,e){e=e||"scatter";var i=gt(t,t.options);mt(t,i,e),"showLines"in i||(i.showLines=!1);var n=vt(t,i,e,this.library);i.scales.xAxes[0].type="linear",i.scales.xAxes[0].position="bottom",this.drawChart(t,e,n,i)},yt.prototype.renderBubbleChart=function(t){this.renderScatterChart(t,"bubble")},yt.prototype.destroy=function(t){t.chart&&t.chart.destroy()},yt.prototype.drawChart=function(t,e,i,n){this.destroy(t);var r={type:e,data:i,options:n};t.options.code&&window.console.log("new Chart(ctx, "+JSON.stringify(r)+");"),t.element.innerHTML="<canvas></canvas>";var o=t.element.getElementsByTagName("CANVAS")[0];t.chart=new this.library(o,r)};var bt={chart:{},xAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},yAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},title:{text:null},credits:{enabled:!1},legend:{borderWidth:0},tooltip:{style:{fontSize:"12px"}},plotOptions:{areaspline:{},area:{},series:{marker:{}}}},wt=function(t,e,i){void 0!==e?(t.legend.enabled=!!e,e&&!0!==e&&("top"===e||"bottom"===e?t.legend.verticalAlign=e:(t.legend.layout="vertical",t.legend.verticalAlign="middle",t.legend.align=e))):i&&(t.legend.enabled=!1)},xt=function(t,e){t.title.text=e},_t=h(bt,wt,xt,(function(t,e){t.yAxis.min=e}),(function(t,e){t.yAxis.max=e}),(function(t,e){var i=e?!0===e?"normal":e:null;t.plotOptions.series.stacking=i,t.plotOptions.area.stacking=i,t.plotOptions.areaspline.stacking=i}),(function(t,e){t.xAxis.title.text=e}),(function(t,e){t.yAxis.title.text=e})),kt=function(t,e,i){var n={prefix:t.options.prefix,suffix:t.options.suffix,thousands:t.options.thousands,decimal:t.options.decimal,precision:t.options.precision,round:t.options.round,zeros:t.options.zeros};"pie"===i||e.yAxis.labels.formatter||(e.yAxis.labels.formatter=function(){return k("",this.value,n)}),e.tooltip.pointFormatter||(e.tooltip.pointFormatter=function(){return'<span style="color:'+this.color+'">\u25cf</span> '+k(this.series.name+": <b>",this.y,n)+"</b><br/>"})},Ct=function(t){this.name="highcharts",this.library=t};Ct.prototype.renderLineChart=function(t,e){var i={};"areaspline"===(e=e||"spline")&&(i={plotOptions:{areaspline:{stacking:"normal"},area:{stacking:"normal"},series:{marker:{enabled:!1}}}}),!1===t.options.curve&&("areaspline"===e?e="area":"spline"===e&&(e="line"));var n,r,o,s=_t(t,t.options,i);s.xAxis.type="string"===t.xtype?"category":"number"===t.xtype?"linear":"datetime",s.chart.type||(s.chart.type=e),kt(t,s,e);var a=t.data;for(r=0;r<a.length;r++){if(a[r].name=a[r].name||"Value",n=a[r].data,"datetime"===t.xtype)for(o=0;o<n.length;o++)n[o][0]=n[o][0].getTime();a[r].marker={symbol:"circle"},!1===t.options.points&&(a[r].marker.enabled=!1)}this.drawChart(t,a,s)},Ct.prototype.renderScatterChart=function(t){var e=_t(t,t.options,{});e.chart.type="scatter",this.drawChart(t,t.data,e)},Ct.prototype.renderPieChart=function(t){var e=r(bt,{});t.options.colors&&(e.colors=t.options.colors),t.options.donut&&(e.plotOptions={pie:{innerSize:"50%"}}),"legend"in t.options&&wt(e,t.options.legend),t.options.title&&xt(e,t.options.title);var i=r(e,t.options.library||{});kt(t,i,"pie");var n=[{type:"pie",name:t.options.label||"Value",data:t.data}];this.drawChart(t,n,i)},Ct.prototype.renderColumnChart=function(t,e){e=e||"column";var i,n,r,o,s=t.data,a=_t(t,t.options),l=[],c=[];for(a.chart.type=e,kt(t,a,e),i=0;i<s.length;i++)for(r=s[i],n=0;n<r.data.length;n++)l[(o=r.data[n])[0]]||(l[o[0]]=new Array(s.length),c.push(o[0])),l[o[0]][i]=o[1];"number"===t.xtype&&c.sort(f),a.xAxis.categories=c;var u,h=[];for(i=0;i<s.length;i++){for(o=[],n=0;n<c.length;n++)o.push(l[c[n]][i]||0);u={name:s[i].name||"Value",data:o},s[i].stack&&(u.stack=s[i].stack),h.push(u)}this.drawChart(t,h,a)},Ct.prototype.renderBarChart=function(t){this.renderColumnChart(t,"bar")},Ct.prototype.renderAreaChart=function(t){this.renderLineChart(t,"areaspline")},Ct.prototype.destroy=function(t){t.chart&&t.chart.destroy()},Ct.prototype.drawChart=function(t,e,i){this.destroy(t),i.chart.renderTo=t.element.id,i.series=e,t.options.code&&window.console.log("new Highcharts.Chart("+JSON.stringify(i)+");"),t.chart=new this.library.Chart(i)};var St={},Tt=[],At={chartArea:{},fontName:"'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif",pointSize:6,legend:{textStyle:{fontSize:12,color:"#444"},alignment:"center",position:"right"},curveType:"function",hAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},gridlines:{color:"transparent"},baselineColor:"#ccc",viewWindow:{}},vAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},baselineColor:"#ccc",viewWindow:{}},tooltip:{textStyle:{color:"#666",fontSize:12}}},Et=function(t,e,i){var n;void 0!==e?(n=e?!0===e?"right":e:"none",t.legend.position=n):i&&(t.legend.position="none")},Pt=function(t,e){t.title=e,t.titleTextStyle={color:"#333",fontSize:"20px"}},Mt=function(t,e){t.hAxis.viewWindow.min=e},Lt=function(t,e){t.hAxis.viewWindow.max=e},Ot=function(t,e){t.isStacked=e||!1},Dt=function(t,e){t.hAxis.title=e,t.hAxis.titleTextStyle.italic=!1},It=function(t,e){t.vAxis.title=e,t.vAxis.titleTextStyle.italic=!1},$t=h(At,Et,Pt,(function(t,e){t.vAxis.viewWindow.min=e}),(function(t,e){t.vAxis.viewWindow.max=e}),Ot,Dt,It),Nt=function(t){window.attachEvent?window.attachEvent("onresize",t):window.addEventListener&&window.addEventListener("resize",t,!0),t()},zt=function(t){this.name="google",this.library=t};zt.prototype.renderLineChart=function(t){var e=this;this.waitForLoaded(t,(function(){var i={};!1===t.options.curve&&(i.curveType="none"),!1===t.options.points&&(i.pointSize=0);var n=$t(t,t.options,i),r=e.createDataTable(t.data,t.xtype);e.drawChart(t,"LineChart",r,n)}))},zt.prototype.renderPieChart=function(t){var e=this;this.waitForLoaded(t,(function(){var i={chartArea:{top:"10%",height:"80%"},legend:{}};t.options.colors&&(i.colors=t.options.colors),t.options.donut&&(i.pieHole=.5),"legend"in t.options&&Et(i,t.options.legend),t.options.title&&Pt(i,t.options.title);var n=r(r(At,i),t.options.library||{}),o=new e.library.visualization.DataTable;o.addColumn("string",""),o.addColumn("number","Value"),o.addRows(t.data),e.drawChart(t,"PieChart",o,n)}))},zt.prototype.renderColumnChart=function(t){var e=this;this.waitForLoaded(t,(function(){var i=$t(t,t.options),n=e.createDataTable(t.data,t.xtype);e.drawChart(t,"ColumnChart",n,i)}))},zt.prototype.renderBarChart=function(t){var e=this;this.waitForLoaded(t,(function(){var i={hAxis:{gridlines:{color:"#ccc"}}},n=h(At,Et,Pt,Mt,Lt,Ot,Dt,It)(t,t.options,i),r=e.createDataTable(t.data,t.xtype);e.drawChart(t,"BarChart",r,n)}))},zt.prototype.renderAreaChart=function(t){var e=this;this.waitForLoaded(t,(function(){var i={isStacked:!0,pointSize:0,areaOpacity:.5},n=$t(t,t.options,i),r=e.createDataTable(t.data,t.xtype);e.drawChart(t,"AreaChart",r,n)}))},zt.prototype.renderGeoChart=function(t){var e=this;this.waitForLoaded(t,"geochart",(function(){var i={legend:"none",colorAxis:{colors:t.options.colors||["#f6c7b6","#ce502d"]}},n=r(r(At,i),t.options.library||{}),o=new e.library.visualization.DataTable;o.addColumn("string",""),o.addColumn("number",t.options.label||"Value"),o.addRows(t.data),e.drawChart(t,"GeoChart",o,n)}))},zt.prototype.renderScatterChart=function(t){var e=this;this.waitForLoaded(t,(function(){var i,n,r,o,s={},a=$t(t,t.options,s),l=t.data,c=[];for(i=0;i<l.length;i++)for(l[i].name=l[i].name||"Value",o=l[i].data,n=0;n<o.length;n++){var u=new Array(l.length+1);u[0]=o[n][0],u[i+1]=o[n][1],c.push(u)}for((r=new e.library.visualization.DataTable).addColumn("number",""),i=0;i<l.length;i++)r.addColumn("number",l[i].name);r.addRows(c),e.drawChart(t,"ScatterChart",r,a)}))},zt.prototype.renderTimeline=function(t){var e=this;this.waitForLoaded(t,"timeline",(function(){var i={legend:"none"};t.options.colors&&(i.colors=t.options.colors);var n=r(r(At,i),t.options.library||{}),o=new e.library.visualization.DataTable;o.addColumn({type:"string",id:"Name"}),o.addColumn({type:"date",id:"Start"}),o.addColumn({type:"date",id:"End"}),o.addRows(t.data),t.element.style.lineHeight="normal",e.drawChart(t,"Timeline",o,n)}))},zt.prototype.destroy=function(t){t.chart&&t.chart.clearChart()},zt.prototype.drawChart=function(t,e,i,n){this.destroy(t),t.options.code&&window.console.log("var data = new google.visualization.DataTable("+i.toJSON()+");\nvar chart = new google.visualization."+e+"(element);\nchart.draw(data, "+JSON.stringify(n)+");"),t.chart=new this.library.visualization[e](t.element),Nt((function(){t.chart.draw(i,n)}))},zt.prototype.waitForLoaded=function(t,e,i){var n=this;if(i||(i=e,e="corechart"),Tt.push({pack:e,callback:i}),St[e])this.runCallbacks();else{St[e]=!0;var r={packages:[e],callback:function(){n.runCallbacks()}},o=t.__config();o.language&&(r.language=o.language),"geochart"===e&&o.mapsApiKey&&(r.mapsApiKey=o.mapsApiKey),this.library.charts.load("current",r)}},zt.prototype.runCallbacks=function(){for(var t,e=0;e<Tt.length;e++)t=Tt[e],this.library.visualization&&("corechart"===t.pack&&this.library.visualization.LineChart||"timeline"===t.pack&&this.library.visualization.Timeline||"geochart"===t.pack&&this.library.visualization.GeoChart)&&(t.callback(),Tt.splice(e,1),e--)},zt.prototype.createDataTable=function(t,e){var i,n,r,o,s,c=[],u=[];for(i=0;i<t.length;i++)for(r=t[i],t[i].name=t[i].name||"Value",n=0;n<r.data.length;n++)o=r.data[n],c[s="datetime"===e?o[0].getTime():o[0]]||(c[s]=new Array(t.length),u.push(s)),c[s][i]=l(o[1]);var h,f=[],m=!0;for(n=0;n<u.length;n++)i=u[n],"datetime"===e?(h=new Date(l(i)),m=m&&v(h)):h="number"===e?l(i):i,f.push([h].concat(c[i]));if("datetime"===e)f.sort(d);else if("number"===e){for(f.sort(p),i=0;i<f.length;i++)f[i][0]=a(f[i][0]);e="string"}var g=new this.library.visualization.DataTable;for(e="datetime"===e&&m?"date":e,g.addColumn(e,""),i=0;i<t.length;i++)g.addColumn("number",t[i].name);return g.addRows(f),g};var jt=[],Ft=0,qt=4,Rt={},Bt=[],Ht=function(t,e){return t="number"===e?l(t):"datetime"===e?c(t):a(t)},Ut=function(t,e){var i,n,r=[];for(n=0;n<t.length;n++)"bubble"===e?r.push([l(t[n][0]),l(t[n][1]),l(t[n][2])]):(i=Ht(t[n][0],e),r.push([i,l(t[n][1])]));return"datetime"===e?r.sort(d):"number"===e&&r.sort(p),r},Wt=function(t,e,i){var n;if("string"==typeof t&&(n=t,!(t=document.getElementById(t))))throw new Error("No element with id "+n);this.element=t,this.options=r(ee.options,i||{}),this.dataSource=e,ee.charts[t.id]=this,I(this,e),this.options.refresh&&this.startRefresh()};Wt.prototype.getElement=function(){return this.element},Wt.prototype.getDataSource=function(){return this.dataSource},Wt.prototype.getData=function(){return this.data},Wt.prototype.getOptions=function(){return this.options},Wt.prototype.getChartObject=function(){return this.chart},Wt.prototype.getAdapter=function(){return this.adapter},Wt.prototype.updateData=function(t,e){this.dataSource=t,e&&this.__updateOptions(e),I(this,t)},Wt.prototype.setOptions=function(t){this.__updateOptions(t),this.redraw()},Wt.prototype.redraw=function(){I(this,this.rawData)},Wt.prototype.refreshData=function(){if("string"==typeof this.dataSource){var t=-1===this.dataSource.indexOf("?")?"?":"&";I(this,this.dataSource+t+"_="+(new Date).getTime())}else"function"==typeof this.dataSource&&I(this,this.dataSource)},Wt.prototype.startRefresh=function(){var t=this,e=this.options.refresh;if(e&&"string"!=typeof this.dataSource&&"function"!=typeof this.dataSource)throw new Error("Data source must be a URL or callback for refresh");if(!this.intervalId){if(!e)throw new Error("No refresh interval");this.intervalId=setInterval((function(){t.refreshData()}),1e3*e)}},Wt.prototype.stopRefresh=function(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)},Wt.prototype.toImage=function(t){if("chartjs"===this.adapter){if(t&&t.background&&"transparent"!==t.background){var e=this.chart.chart.canvas,i=this.chart.chart.ctx,n=document.createElement("canvas"),r=n.getContext("2d");return n.width=i.canvas.width,n.height=i.canvas.height,r.fillStyle=t.background,r.fillRect(0,0,n.width,n.height),r.drawImage(e,0,0),n.toDataURL("image/png")}return this.chart.toBase64Image()}return null},Wt.prototype.destroy=function(){this.__adapterObject&&this.__adapterObject.destroy(this),this.__enterEvent&&z(this.element,"mouseover",this.__enterEvent),this.__leaveEvent&&z(this.element,"mouseout",this.__leaveEvent)},Wt.prototype.__updateOptions=function(t){var e=t.refresh&&t.refresh!==this.options.refresh;this.options=r(ee.options,t),e&&(this.stopRefresh(),this.startRefresh())},Wt.prototype.__render=function(){this.data=this.__processData(),H(this.__chartName(),this)},Wt.prototype.__config=function(){return Rt};var Xt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return Y(this)},e.prototype.__chartName=function(){return"LineChart"},e}(Wt),Gt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return V(this)},e.prototype.__chartName=function(){return"PieChart"},e}(Wt),Yt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return Y(this,null,!0)},e.prototype.__chartName=function(){return"ColumnChart"},e}(Wt),Vt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return Y(this,null,!0)},e.prototype.__chartName=function(){return"BarChart"},e}(Wt),Kt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return Y(this)},e.prototype.__chartName=function(){return"AreaChart"},e}(Wt),Qt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return V(this)},e.prototype.__chartName=function(){return"GeoChart"},e}(Wt),Jt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return Y(this,"number")},e.prototype.__chartName=function(){return"ScatterChart"},e}(Wt),Zt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return Y(this,"bubble")},e.prototype.__chartName=function(){return"BubbleChart"},e}(Wt),te=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),
e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){var t,e=this.rawData;for(t=0;t<e.length;t++)e[t][1]=c(e[t][1]),e[t][2]=c(e[t][2]);return e},e.prototype.__chartName=function(){return"Timeline"},e}(Wt),ee={LineChart:Xt,PieChart:Gt,ColumnChart:Yt,BarChart:Vt,AreaChart:Kt,GeoChart:Qt,ScatterChart:Jt,BubbleChart:Zt,Timeline:te,charts:{},configure:function(t){for(var e in t)t.hasOwnProperty(e)&&(Rt[e]=t[e])},setDefaultOptions:function(t){ee.options=t},eachChart:function(t){for(var e in ee.charts)ee.charts.hasOwnProperty(e)&&t(ee.charts[e])},config:Rt,options:{},adapters:Bt,addAdapter:q,use:function(t){return q(t),ee}};return"undefined"==typeof window||window.Chartkick||(window.Chartkick=ee),ee.default=ee,ee})),function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}((function(t){var e,i,n,r,o,s,a,l,c,u,h,d,p,f;n=(e=t).Axis,r=e.Chart,o=e.color,s=e.each,a=e.extend,l=e.isNumber,c=e.Legend,u=e.LegendSymbolMixin,h=e.noop,d=e.merge,p=e.pick,f=e.wrap,e.ColorAxis||(i=e.ColorAxis=function(){this.init.apply(this,arguments)},a(i.prototype,n.prototype),a(i.prototype,{defaultColorAxisOptions:{lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{overflow:"justify",rotation:0},minColor:"#e6ebf5",maxColor:"#003399",tickLength:5,showInLegend:!0},keepProps:["legendGroup","legendItemHeight","legendItemWidth","legendItem","legendSymbol"].concat(n.prototype.keepProps),init:function(t,e){var i,r="vertical"!==t.options.legend.layout;this.coll="colorAxis",i=d(this.defaultColorAxisOptions,{side:r?2:1,reversed:!r},e,{opposite:!r,showEmpty:!1,title:null}),n.prototype.init.call(this,t,i),e.dataClasses&&this.initDataClasses(e),this.initStops(),this.horiz=r,this.zoomEnabled=!1,this.defaultLegendLength=200},initDataClasses:function(t){var e,i=this.chart,n=0,r=i.options.chart.colorCount,a=this.options,l=t.dataClasses.length;this.dataClasses=e=[],this.legendItems=[],s(t.dataClasses,(function(t,s){var c;t=d(t),e.push(t),t.color||("category"===a.dataClassColor?(c=i.options.colors,r=c.length,t.color=c[n],t.colorIndex=n,++n===r&&(n=0)):t.color=o(a.minColor).tweenTo(o(a.maxColor),l<2?.5:s/(l-1)))}))},setTickPositions:function(){if(!this.dataClasses)return n.prototype.setTickPositions.call(this)},initStops:function(){this.stops=this.options.stops||[[0,this.options.minColor],[1,this.options.maxColor]],s(this.stops,(function(t){t.color=o(t[1])}))},setOptions:function(t){n.prototype.setOptions.call(this,t),this.options.crosshair=this.options.marker},setAxisSize:function(){var t,e,i,n,r=this.legendSymbol,o=this.chart,s=o.options.legend||{};r?(this.left=t=r.attr("x"),this.top=e=r.attr("y"),this.width=i=r.attr("width"),this.height=n=r.attr("height"),this.right=o.chartWidth-t-i,this.bottom=o.chartHeight-e-n,this.len=this.horiz?i:n,this.pos=this.horiz?t:e):this.len=(this.horiz?s.symbolWidth:s.symbolHeight)||this.defaultLegendLength},normalizedValue:function(t){return this.isLog&&(t=this.val2lin(t)),1-(this.max-t)/(this.max-this.min||1)},toColor:function(t,e){var i,n,r,o,s,a,l=this.stops,c=this.dataClasses;if(c){for(a=c.length;a--;)if(n=(s=c[a]).from,r=s.to,(void 0===n||t>=n)&&(void 0===r||t<=r)){o=s.color,e&&(e.dataClass=a,e.colorIndex=s.colorIndex);break}}else{for(i=this.normalizedValue(t),a=l.length;a--&&!(i>l[a][0]););n=l[a]||l[a+1],i=1-((r=l[a+1]||n)[0]-i)/(r[0]-n[0]||1),o=n.color.tweenTo(r.color,i)}return o},getOffset:function(){var t=this.legendGroup,e=this.chart.axisOffset[this.side];t&&(this.axisParent=t,n.prototype.getOffset.call(this),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=e)},setLegendColor:function(){var t,e=this.horiz,i=this.reversed,n=i?1:0,r=i?0:1;t=e?[n,0,r,0]:[0,r,0,n],this.legendColor={linearGradient:{x1:t[0],y1:t[1],x2:t[2],y2:t[3]},stops:this.stops}},drawLegendSymbol:function(t,e){var i=t.padding,n=t.options,r=this.horiz,o=p(n.symbolWidth,r?this.defaultLegendLength:12),s=p(n.symbolHeight,r?12:this.defaultLegendLength),a=p(n.labelPadding,r?16:30),l=p(n.itemDistance,10);this.setLegendColor(),e.legendSymbol=this.chart.renderer.rect(0,t.baseline-11,o,s).attr({zIndex:1}).add(e.legendGroup),this.legendItemWidth=o+i+(r?l:a),this.legendItemHeight=s+i+(r?a:0)},setState:h,visible:!0,setVisible:h,getSeriesExtremes:function(){var t=this.series,e=t.length;for(this.dataMin=1/0,this.dataMax=-1/0;e--;)void 0!==t[e].valueMin&&(this.dataMin=Math.min(this.dataMin,t[e].valueMin),this.dataMax=Math.max(this.dataMax,t[e].valueMax))},drawCrosshair:function(t,e){var i,r=e&&e.plotX,o=e&&e.plotY,s=this.pos,a=this.len;e&&((i=this.toPixels(e[e.series.colorKey]))<s?i=s-2:i>s+a&&(i=s+a+2),e.plotX=i,e.plotY=this.len-i,n.prototype.drawCrosshair.call(this,t,e),e.plotX=r,e.plotY=o,this.cross&&(this.cross.addClass("highcharts-coloraxis-marker").add(this.legendGroup),this.cross.attr({fill:this.crosshair.color})))},getPlotLinePath:function(t,e,i,r,o){return l(o)?this.horiz?["M",o-4,this.top-6,"L",o+4,this.top-6,o,this.top,"Z"]:["M",this.left,o,"L",this.left-6,o+6,this.left-6,o-6,"Z"]:n.prototype.getPlotLinePath.call(this,t,e,i,r)},update:function(t,e){var i=this.chart,r=i.legend;s(this.series,(function(t){t.isDirtyData=!0})),t.dataClasses&&r.allItems&&(s(r.allItems,(function(t){t.isDataClass&&t.legendGroup&&t.legendGroup.destroy()})),i.isDirtyLegend=!0),i.options[this.coll]=d(this.userOptions,t),n.prototype.update.call(this,t,e),this.legendItem&&(this.setLegendColor(),r.colorizeItem(this,!0))},remove:function(){this.legendItem&&this.chart.legend.destroyItem(this),n.prototype.remove.call(this)},getDataClassLegendSymbols:function(){var t,i=this,n=this.chart,r=this.legendItems,o=n.options.legend,l=o.valueDecimals,c=o.valueSuffix||"";return r.length||s(this.dataClasses,(function(o,d){var p=!0,f=o.from,m=o.to;t="",void 0===f?t="< ":void 0===m&&(t="> "),void 0!==f&&(t+=e.numberFormat(f,l)+c),void 0!==f&&void 0!==m&&(t+=" - "),void 0!==m&&(t+=e.numberFormat(m,l)+c),r.push(a({chart:n,name:t,options:{},drawLegendSymbol:u.drawRectangle,visible:!0,setState:h,isDataClass:!0,setVisible:function(){p=this.visible=!p,s(i.series,(function(t){s(t.points,(function(t){t.dataClass===d&&t.setVisible(p)}))})),n.legend.colorizeItem(this,p)}},o))})),r},name:""}),s(["fill","stroke"],(function(t){e.Fx.prototype[t+"Setter"]=function(){this.elem.attr(t,o(this.start).tweenTo(o(this.end),this.pos),null,!0)}})),f(r.prototype,"getAxes",(function(t){var e=this.options.colorAxis;t.call(this),this.colorAxis=[],e&&new i(this,e)})),f(c.prototype,"getAllItems",(function(t){var e=[],i=this.chart.colorAxis[0];return i&&i.options&&(i.options.showInLegend&&(i.options.dataClasses?e=e.concat(i.getDataClassLegendSymbols()):e.push(i)),s(i.series,(function(t){t.options.showInLegend=!1}))),e.concat(t.call(this))})),f(c.prototype,"colorizeItem",(function(t,e,i){t.call(this,e,i),i&&e.legendColor&&e.legendSymbol.attr({fill:e.legendColor})})),f(c.prototype,"update",(function(t){t.apply(this,[].slice.call(arguments,1)),this.chart.colorAxis[0]&&this.chart.colorAxis[0].update({},arguments[2])}))),function(t){var e=t.defined,i=t.each,n=t.noop,r=t.seriesTypes;t.colorPointMixin={isValid:function(){return null!==this.value},setVisible:function(t){var e=this,n=t?"show":"hide";i(["graphic","dataLabel"],(function(t){e[t]&&e[t][n]()}))},setState:function(e){t.Point.prototype.setState.call(this,e),this.graphic&&this.graphic.attr({zIndex:"hover"===e?1:0})}},t.colorSeriesMixin={pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],optionalAxis:"colorAxis",trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:n,parallelArrays:["x","y","value"],colorKey:"value",pointAttribs:r.column.prototype.pointAttribs,translateColors:function(){var t=this,e=this.options.nullColor,n=this.colorAxis,r=this.colorKey;i(this.data,(function(i){var o,s=i[r];(o=i.options.color||(i.isNull?e:n&&void 0!==s?n.toColor(s,i):i.color||t.color))&&(i.color=o)}))},colorAttribs:function(t){var i={};return e(t.color)&&(i[this.colorProp||"fill"]=t.color),i}}}(t),function(t){var e=t.colorPointMixin,i=t.colorSeriesMixin,n=t.each,r=t.LegendSymbolMixin,o=t.merge,s=t.noop,a=t.pick,l=t.Series,c=t.seriesType,u=t.seriesTypes;c("heatmap","scatter",{animation:!1,borderWidth:0,nullColor:"#f7f7f7",dataLabels:{formatter:function(){return this.point.value},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},marker:null,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{normal:{animation:!0},hover:{halo:!1,brightness:.2}}},o(i,{pointArrayMap:["y","value"],hasPointSpecificOptions:!0,getExtremesFromAll:!0,directTouch:!0,init:function(){var t;u.scatter.prototype.init.apply(this,arguments),(t=this.options).pointRange=a(t.pointRange,t.colsize||1),this.yAxis.axisPointRange=t.rowsize||1},translate:function(){var t=this,e=t.options,i=t.xAxis,r=t.yAxis,o=e.pointPadding||0,s=function(t,e,i){return Math.min(Math.max(e,t),i)};t.generatePoints(),n(t.points,(function(t){var n=(e.colsize||1)/2,l=(e.rowsize||1)/2,c=s(Math.round(i.len-i.translate(t.x-n,0,1,0,1)),-i.len,2*i.len),u=s(Math.round(i.len-i.translate(t.x+n,0,1,0,1)),-i.len,2*i.len),h=s(Math.round(r.translate(t.y-l,0,1,0,1)),-r.len,2*r.len),d=s(Math.round(r.translate(t.y+l,0,1,0,1)),-r.len,2*r.len),p=a(t.pointPadding,o);t.plotX=t.clientX=(c+u)/2,t.plotY=(h+d)/2,t.shapeType="rect",t.shapeArgs={x:Math.min(c,u)+p,y:Math.min(h,d)+p,width:Math.abs(u-c)-2*p,height:Math.abs(d-h)-2*p}})),t.translateColors()},drawPoints:function(){u.column.prototype.drawPoints.call(this),n(this.points,(function(t){t.graphic.attr(this.colorAttribs(t))}),this)},animate:s,getBox:s,drawLegendSymbol:r.drawRectangle,alignDataLabel:u.column.prototype.alignDataLabel,getExtremes:function(){l.prototype.getExtremes.call(this,this.valueData),this.valueMin=this.dataMin,this.valueMax=this.dataMax,l.prototype.getExtremes.call(this)}}),t.extend({haloPath:function(t){if(!t)return[];var e=this.shapeArgs;return["M",e.x-t,e.y-t,"L",e.x-t,e.y+e.height+t,e.x+e.width+t,e.y+e.height+t,e.x+e.width+t,e.y-t,"Z"]}},e))}(t)})),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}((function(t){return t.ui=t.ui||{},t.ui.version="1.12.1"})),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}((function(t){return t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())})),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}((function(t){var e,i=0,n=Array.prototype.slice;return t.cleanData=(e=t.cleanData,function(i){var n,r,o;for(o=0;null!=(r=i[o]);o++)try{(n=t._data(r,"events"))&&n.remove&&t(r).triggerHandler("remove")}catch(t){}e(i)}),t.widget=function(e,i,n){var r,o,s,a={},l=e.split(".")[0],c=l+"-"+(e=e.split(".")[1]);return n||(n=i,i=t.Widget),t.isArray(n)&&(n=t.extend.apply(null,[{}].concat(n))),t.expr[":"][c.toLowerCase()]=function(e){return!!t.data(e,c)},t[l]=t[l]||{},r=t[l][e],o=t[l][e]=function(t,e){if(!this._createWidget)return new o(t,e);arguments.length&&this._createWidget(t,e)},t.extend(o,r,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),(s=new i).options=t.widget.extend({},s.options),t.each(n,(function(e,n){t.isFunction(n)?a[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function r(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=n.apply(this,arguments),this._super=i,this._superApply=o,e}}():a[e]=n})),o.prototype=t.widget.extend(s,{widgetEventPrefix:r&&s.widgetEventPrefix||e},a,{constructor:o,namespace:l,widgetName:e,widgetFullName:c}),r?(t.each(r._childConstructors,(function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,o,i._proto)})),delete r._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var i,r,o=n.call(arguments,1),s=0,a=o.length;s<a;s++)for(i in o[s])r=o[s][i],o[s].hasOwnProperty(i)&&void 0!==r&&(t.isPlainObject(r)?e[i]=t.isPlainObject(e[i])?t.widget.extend({},e[i],r):t.widget.extend({},r):e[i]=r);return e},t.widget.bridge=function(e,i){var r=i.prototype.widgetFullName||e;t.fn[e]=function(o){var s="string"==typeof o,a=n.call(arguments,1),l=this;return s?this.length||"instance"!==o?this.each((function(){var i,n=t.data(this,r);return"instance"===o?(l=n,!1):n?t.isFunction(n[o])&&"_"!==o.charAt(0)?(i=n[o].apply(n,a))!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0:t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")})):l=void 0:(a.length&&(o=t.widget.extend.apply(null,[o].concat(a))),this.each((function(){var e=t.data(this,r);e?(e.option(o||{}),e._init&&e._init()):t.data(this,r,new i(o,this))}))),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,(function(t,i){e._removeClass(i,t)})),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n,r,o,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},n=e.split("."),e=n.shift(),n.length){for(r=s[e]=t.widget.extend({},this.options[e]),o=0;o<n.length-1;o++)r[n[o]]=r[n[o]]||{},r=r[n[o]];if(e=n.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=i}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,n,r;for(i in e)r=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&r&&r.length&&(n=t(r.get()),this._removeClass(r,i),n.addClass(this._classes({element:n,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function i(i,o){var s,a;for(a=0;a<i.length;a++)s=r.classesElementLookup[i[a]]||t(),s=e.add?t(t.unique(s.get().concat(e.element.get()))):t(s.not(e.element).get()),r.classesElementLookup[i[a]]=s,n.push(i[a]),o&&e.classes[i[a]]&&n.push(e.classes[i[a]])}var n=[],r=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&i(e.keys.match(/\S+/g)||[],!0),e.extra&&i(e.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,(function(n,r){-1!==t.inArray(e.target,r)&&(i.classesElementLookup[n]=t(r.not(e.target).get()))}))},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,n){n="boolean"==typeof n?n:i;var r="string"==typeof t||null===t,o={extra:r?e:i,keys:r?t:e,element:r?this.element:t,add:n};return o.element.toggleClass(this._classes(o),n),this},_on:function(e,i,n){var r,o=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=r=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,r=this.widget()),t.each(n,(function(n,s){function a(){if(e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof s?o[s]:s).apply(o,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?r.on(c,u,a):i.on(c,a)}))},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,n){var r,o,s=this.options[e];if(n=n||{},(i=t.Event(i)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(r in o)r in i||(i[r]=o[r]);return this.element.trigger(i,n),!(t.isFunction(s)&&!1===s.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},(function(e,i){t.Widget.prototype["_"+e]=function(n,r,o){var s;"string"==typeof r&&(r={effect:r});var a=r?!0===r||"number"==typeof r?i:r.effect||i:e;"number"==typeof(r=r||{})&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&n.delay(r.delay),s&&t.effects&&t.effects.effect[a]?n[e](r):a!==e&&n[a]?n[a](r.duration,r.easing,o):n.queue((function(i){t(this)[e](),o&&o.call(n[0]),i()}))}})),t.widget})),function(t){"function"==typeof define&&define.amd?define(["jquery","../ie","../version","../widget"],t):t(jQuery)}((function(t){var e=!1;return t(document).on("mouseup",(function(){e=!1})),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,(function(t){return e._mouseDown(t)})).on("click."+this.widgetName,(function(i){if(!0===t.data(i.target,e.widgetName+".preventClickEvent"))return t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!e){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,r=1===i.which,o=!("string"!=typeof this.options.cancel||!i.target.nodeName)&&t(i.target).closest(this.options.cancel).length;return!(r&&!o&&this._mouseCapture(i))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){n.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=!1!==this._mouseStart(i),!this._mouseStarted)?(i.preventDefault(),!0):(!0===t.data(i.target,this.widgetName+".preventClickEvent")&&t.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),e=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(i){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,i.target===this._mouseDownEvent.target&&t.data(i.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(i)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,e=!1,i.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}((function(t){return t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo((function(e){return function(i){return!!t.data(i,e)}})):function(e,i,n){return!!t.data(e,n[3])}})})),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}((function(t){return t.fn.scrollParent=function(e){var i=this.css("position"),n="absolute"===i,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter((function(){var e=t(this);return(!n||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))})).eq(0);return"fixed"!==i&&o.length?o:t(this[0].ownerDocument||document)}})),function(t){"function"==typeof define&&define.amd?define(["jquery","./mouse","../data","../ie","../scroll-parent","../version","../widget"],t):t(jQuery)}((function(t){return t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&t<e+i},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,(function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")}))},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var n=null,r=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each((function(){if(t.data(this,o.widgetName+"-item")===o)return n=t(this),!1})),t.data(e.target,o.widgetName+"-item")===o&&(n=t(e.target)),!!n&&(!(this.options.handle&&!i&&(t(this.options.handle,n).find("*").addBack().each((function(){this===e.target&&(r=!0)})),!r))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,i,n){var r,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=t("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,n,r,o,s=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-this.document.scrollTop()<s.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-s.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<s.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+s.scrollSpeed)),e.pageX-this.document.scrollLeft()<s.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-s.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<s.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+s.scrollSpeed))),!1!==a&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(r=(n=this.items[i]).item[0],(o=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&!(r===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===r||t.contains(this.placeholder[0],r)||"semi-dynamic"===this.options.type&&t.contains(this.element[0],r))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(e,n),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var n=this,r=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(s,parseInt(this.options.revert,10)||500,(function(){n._clear(e)}))}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t(i).each((function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&n.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))})),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},i.each((function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")})),n},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,r=n+this.helperProportions.height,o=t.left,s=o+t.width,a=t.top,l=a+t.height,c=this.offset.click.top,u=this.offset.click.left,h="x"===this.options.axis||n+c>a&&n+c<l,d="y"===this.options.axis||e+u>o&&e+u<s,p=h&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:o<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<s&&a<n+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e,i,n="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width);return!(!n||!r)&&(e=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&i||"left"===r&&!i:n&&("down"===n&&e||"up"===n&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},
_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){a.push(this)}var n,r,o,s,a=[],l=[],c=this._connectWith();if(c&&e)for(n=c.length-1;n>=0;n--)for(r=(o=t(c[n],this.document[0])).length-1;r>=0;r--)(s=t.data(o[r],this.widgetFullName))&&s!==this&&!s.options.disabled&&l.push([t.isFunction(s.options.items)?s.options.items.call(s.element):t(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=l.length-1;n>=0;n--)l[n][0].each(i);return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,(function(t){for(var i=0;i<e.length;i++)if(e[i]===t.item[0])return!1;return!0}))},_refreshItems:function(e){this.items=[],this.containers=[this];var i,n,r,o,s,a,l,c,u=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(n=(r=t(d[i],this.document[0])).length-1;n>=0;n--)(o=t.data(r[n],this.widgetFullName))&&o!==this&&!o.options.disabled&&(h.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=h.length-1;i>=0;i--)for(s=h[i][1],n=0,c=(a=h[i][0]).length;n<c;n++)(l=t(a[n])).data(this.widgetName+"-item",s),u.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var i,n,r,o;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),i=this.items.length-1;i>=0;i--)(n=this.items[i]).instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item,e||(n.width=r.outerWidth(),n.height=r.outerHeight()),o=r.offset(),n.left=o.left,n.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){var i,n=(e=e||this).options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+n+">",e.document[0]);return e._addClass(r,"ui-sortable-placeholder",i||e.currentItem[0].className)._removeClass(r,"ui-sortable-helper"),"tbody"===n?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(r)):"tr"===n?e._createTrPlaceholder(e.currentItem,r):"img"===n&&r.attr("src",e.currentItem.attr("src")),i||r.css("visibility","hidden"),r},update:function(t,r){i&&!n.forcePlaceholderSize||(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(n.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),n.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var n=this;e.children().each((function(){t("<td>&#160;</td>",n.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)}))},_contactContainers:function(e){var i,n,r,o,s,a,l,c,u,h,d=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(d&&t.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(r=1e4,o=null,s=(u=d.floating||this._isFloating(this.currentItem))?"left":"top",a=u?"width":"height",h=u?"pageX":"pageY",n=this.items.length-1;n>=0;n--)t.contains(this.containers[p].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(l=this.items[n].item.offset()[s],c=!1,e[h]-l>this.items[n][a]/2&&(c=!0),Math.abs(e[h]-l)<r&&(r=Math.abs(e[h]-l),o=this.items[n],this.direction=c?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),n[0].style.width&&!i.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!i.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),"document"!==r.containment&&"window"!==r.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],i=t(r.containment).offset(),n="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*n}},_generatePosition:function(e){var i,n,r=this.options,o=e.pageX,s=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),r.grid&&(i=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1],s=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-r.grid[1]:i+r.grid[1]:i,n=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-r.grid[0]:n+r.grid[0]:n)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay((function(){r===this.counter&&this.refreshPositions(!n)}))},_clear:function(t,e){function i(t,e,i){return function(n){i._trigger(t,n,e._uiHash(e))}}this.reverting=!1;var n,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&r.push((function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))})),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||r.push((function(t){this._trigger("update",t,this._uiHash())})),this!==this.currentContainer&&(e||(r.push((function(t){this._trigger("remove",t,this._uiHash())})),r.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)e||r.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(r.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(n=0;n<r.length;n++)r[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})})),function(){var t;t=function(){if($("#navbar-admin li.dropdown-submenu").length>0)return $("#navbar-admin li.dropdown-submenu").hover((function(){return $(this).find("ul.sub").show()}),(function(){return $(this).find("ul.sub").hide()}))},$(document).ready(t),$(document).on("page:load",t)}.call(this),function(){var t,e;e=function(){if($("#batch_updated-modal").length>0)return $("#batch_updated-modal").on("shown.bs.modal",(function(){var e,i;return $("#batch_updated-modal .spinner").show(),$("#batch_updated-modal .results").empty(),i=$(this).data("model-path"),e=$(this).data("model-id"),$.getJSON("/"+i+"/"+e+"/batch_updated.json",(function(e){return t(e,i)}))})),$("#batch_updated-modal").on("hidden.bs.modal",(function(){return $("#batch_updated-modal .spinner").hide(),$("#batch_updated-modal .results").empty()}))},$(document).ready(e),$(document).on("page:load",e),t=function(t,e){var i,n,r,o,s,a,l,c,u,h,d,p;if($("#batch_updated-modal .spinner").hide(),d=$("#batch_updated-modal .results"),void 0===t||0===t.length)return d.append($("<li>").addClass("list-group-item").html("No cohort adjustment found"));for(h=[],r=0,c=t.length;r<c;r++){for(i in o=t[r],l=$("<li>").addClass("list-group-item"),s=$('<a target="_blank" href="/batch_'+e+"/"+o.id+'">').html(o.batch_name),l.append(s),n=[],u=o.updates)p=u[i],n.push(i+": "+p);l.append($('<span style="margin-left: 10px;">').html(n.join(" / "))),a=$('<a href="/batch_'+e+"/"+o.id+'" data-confirm="Are you sure?" data-method="delete" style="float: right;">').html("Delete"),l.append(a),h.push(d.append(l))}return h}}.call(this),function(){document.addEventListener("DOMContentLoaded",(function(){return document.querySelectorAll(".modal.fade").forEach((function(t){return document.body.appendChild(t)}))}))}.call(this),function(){document.addEventListener("DOMContentLoaded",(function(){var t,e;return(t=document.location.hash)&&(e=document.querySelector('.nav-link[href="'+t+'"]'))&&new bootstrap.Tab(e).show(),document.querySelectorAll(".nav-link").forEach((function(t){return t.addEventListener("shown.bs.tab",(function(t){return history.replaceState(null,"",t.target.hash)}))}))}))}.call(this),function(){var t,e;t=function(){if($("[data-char-count]").length>0)return $("[data-char-count]").each((function(t,i){return e($(i))})),$("[data-char-count]").on("keyup",(function(){return e($(this))}))},e=function(t){var e,i,n;return i=t.data("char-count"),e=$(t.data("char-counter-selector")),n=t.val().length,e.html(i-n),e.removeClass("alert-danger").removeClass("alert-success").removeClass("alert-warning"),n>i?(e.addClass("alert-danger"),t.val(t.val().substring(0,i))):n>3*i/4?e.addClass("alert-warning"):e.addClass("alert-success")},$(document).ready(t),$(document).on("page:load",t)}.call(this),function(){var t,e;$(document).ready(e),$(document).on("page:load",e),e=function(){return $(".weekslot-input").each((function(){return $(this).change((function(){return t($(this))}))}))},t=function(t){var e,i,n,r,o,s,a;switch(n=["2017-12-10","2017-12-11","2017-12-12","2017-12-13","2017-12-14","12017-12-15","2017-12-16"],i=t.context.dataset,o=document.getElementsByName(i.name)[0].value,a=(s=t.context.options)[s.selectedIndex].value,e=o.substr(0,10),r=o.substr(11,2),i.attribute_name){case"wday":e=n[a];break;case"hour":r=a.length>1?a:"0"+a}return document.getElementsByName(i.name)[0].value=e+"T"+r+":00:00+00:00"},$(document).ready(e),$(document).on("page:load",e)}.call(this),function(){var t,e;t=function(){return $("#result-explicit .timeline-event-head.expandable").click((function(t){var e,i,n;return t.preventDefault(),e=(n=$(this).parent()).find(".timeline-event-content"),i=!(i=n.prop("expanded")||!1),n.prop("expanded",i),i?(n.addClass("expanded"),e.show()):(n.removeClass("expanded"),e.hide())}))},$(document).ready(t),$(document).on("page:load",t),e=function(){return $(".search-box #cr-search-reset").click((function(t){if(t.preventDefault(),confirm("Are you sure? it will erase your current search"))return window.location="/correction_requests"})),$(".search-box .exclusive-select").change((function(){var t;return t=$(this),$(".search-box .exclusive-select").each((function(){if(t.attr("id")!==$(this).attr("id"))return $(this).val("")}))}))},$(document).ready(e),$(document).on("page:load",e)}.call(this),function(){var t,e;t=function(t,e,i){return $(".manual_review_item input").each((function(){if(parseInt($(this).data("position"))>e&&parseInt($(this).data("task-id"))===i)if("checkbox"===$(this).prop("type")){if(t)return $(this).prop("checked",!1),$(this).prop("disabled",!0);if($(this).prop("disabled",!1),$(this).data("eliminatory"))return t=!0}else{if(t)return $(".manual_review_item .score_value[data-check-id="+$(this).data("check-id")+"]").html(0),$(this).slider("setValue",0),$(this).slider("disable");if($(this).slider("enable"),$(this).data("eliminatory"))return t=!0}}))},e=function(){var e,i;if(e=!1,i=0,$(".manual_review_item input").length>0)return $(".manual_review_item input").each((function(){var n,r,o,s,a,l;if(r=$(this).data("eliminatory"),s=parseInt($(this).data("position")),(l=parseInt($(this).data("task-id")))!==i&&(e=!1,i=l),"checkbox"===$(this).prop("type")){if(r&&$(this).change((function(){var e;return e=!$(this).prop("checked"),t(e,s,l)})),e&&($(this).prop("checked",!1),$(this).prop("disabled",!0)),r&&!$(this).prop("checked"))return e=!0}else if("hidden"!==$(this).prop("type")&&(n=$(".manual_review_item .score_value[data-check-id="+$(this).data("check-id")+"]"),o=parseInt($(this).data("points")),(a=$(this).data("scoreValue"))<0&&(a=0),a>o&&(a=o),$(this).slider({min:0,max:o,step:.1,value:a,tooltip:"hide"}).on("change",(function(e){var i;if(n.html(e.value.newValue),r)return i=!(e.value.newValue>0),t(i,s,l)})),e&&$(this).slider("disable"),r&&0===a))return e=!0}))},$(document).ready(e),$(document).on("page:load",e)}.call(this),function(){var t;t=function(){var t,e,i,n,r,o,s,a,l,c,u;if($("#curriculum_after_paths").length>0){if(s=$("#curriculum_after_paths").data("key"),i=[],(r=$("#"+s).val())&&""!==r)try{i=JSON.parse(r)}catch(t){i=[]}for(e=0,a=i.length;e<a;e++)for(n=i[e],t=n.curriculum_id,$('#curriculum_after_paths input[type="checkbox"][data-curriculum-id="'+t+'"]:not([data-track-id])').prop("checked",!0),o=0,l=(c=n.track_ids||[]).length;o<l;o++)u=c[o],$('#curriculum_after_paths input[type="checkbox"][data-curriculum-id="'+t+'"][data-track-id="'+u+'"]').prop("checked",!0);return $('#curriculum_after_paths input[type="checkbox"]').click((function(){var e,i,n,r;if(e=$(this).data("curriculum-id"),r=$(this).data("track-id"),i=$(this).is(":checked"),e)return e=parseInt(e),i||r&&!(parseInt(r)<=0)?i&&r&&parseInt(r)>0&&$('#curriculum_after_paths input[type="checkbox"][data-curriculum-id="'+e+'"]:not([data-track-id])').prop("checked",!0):$('#curriculum_after_paths input[type="checkbox"][data-curriculum-id="'+e+'"][data-track-id]').prop("checked",!1),n=[],$('#curriculum_after_paths input[type="checkbox"]:not([data-track-id])').each((function(){var e;if($(this).is(":checked"))return t=$(this).data("curriculum-id"),e={curriculum_id:t,track_ids:[]},$('#curriculum_after_paths input[type="checkbox"][data-curriculum-id="'+t+'"][data-track-id]').each((function(){if($(this).is(":checked"))return u=$(this).data("track-id"),e.track_ids.push(u)})),n.push(e)})),$("#"+s).val(JSON.stringify(n))}))}},$(document).ready(t),$(document).on("page:load",t)}.call(this),function(){var t;t=function(){if($("#after_paths_curriculums_choice").length>0)return $('#after_paths_curriculums_choice input[type="radio"]').click((function(){var t,e;return t=$(this).data("curriculum-id"),(e=$(this).data("track-id"))&&parseInt(e)>0?($('#after_paths_curriculums_choice input[type="radio"]:not([data-track-id])').prop("checked",!1),$('#after_paths_curriculums_choice input[type="radio"][data-track-id]:not([data-curriculum-id="'+t+'"])').prop("checked",!1),$('#after_paths_curriculums_choice input[type="radio"][data-curriculum-id="'+t+'"]:not([data-track-id])').prop("checked",!0)):$('#after_paths_curriculums_choice input[type="radio"][data-track-id]:not([data-curriculum-id="'+t+'"])').prop("checked",!1)})),$("#after_paths_curriculums_choice_bp").click((function(){var t,e,i,n,r,o,s,a,l;return t=$(this),i=$("#after_paths_curriculums_choice_error"),(n=$("#after_paths_curriculums_choice_spinner")).hide(),i.hide(),(l=$('#after_paths_curriculums_choice input[name="apc_curriculum"]:checked')).length<=0?i.html("Please select an option").show():(r=l.val(),o=l.data("curriculum-name"),s=l.data("parent-curriculum-id"),!(a=$('#after_paths_curriculums_choice input[name="apc_track_'+r+'"]:checked').val())&&$('#after_paths_curriculums_choice input[name="apc_track_'+r+'"]').length>0?i.html("Please select an option in "+o).show():(e={curriculum_id:r,track_id:a,parent_curriculum_id:s},t.hide(),n.show(),i.hide(),$.post("/users/after_paths_curriculums_choice.json",e,(function(e){var r;return n.hide(),t.show(),r=null,e&&e.error?r=e.error:e&&e.redirect||(r="An error occurred"),r?i.html(r).show():(alert("Thank you!"),window.location=e.redirect)}))))}))},$(document).ready(t),$(document).on("page:load",t),document.addEventListener("DOMContentLoaded",(function(){var t,e;if((e=document.querySelector("#student-home-level-card"))&&(t=e.querySelector(".btn-group")))return t.addEventListener("click",(function(i){var n,r,o,s;if(n=i.target.closest(".btn"))return t.querySelectorAll(".btn").forEach((function(t){return t.classList.remove("btn-primary"),t.classList.add("btn-outline-primary")})),n.classList.add("btn-primary"),n.classList.remove("btn-outline-primary"),(r=e.querySelector(".card-body")).querySelectorAll(".d-block").forEach((function(t){return t.classList.remove("d-block"),t.classList.add("d-none")})),s=n.dataset.chartTarget,(o=r.querySelector(s))?(o.classList.remove("d-none"),o.classList.add("d-block")):console.warn("Level card target element not found for selector: "+s)}))}))}.call(this),function(){var t;t=function(){if($(".evaluation_quiz_correction_skip_toggle").length>0&&$(".evaluation_quiz_correction_skip_toggle").click((function(){var t,e;return t=$(this).data("evaluation-quiz-correction-id"),e=this,$.post("/evaluation_quiz_corrections/"+t+"/toggle_skip.json",(function(){return"Not scored"===$(e).html()?($(e).html("Scored"),$(e).removeClass("btn-danger")):($(e).html("Not scored"),$(e).addClass("btn-danger"))}))})),$(".evaluation_quiz_correction_skip_toggle_not_focus").length>0&&$(".evaluation_quiz_correction_skip_toggle_not_focus").click((function(){var t,e;return t=$(this).data("evaluation-quiz-correction-id"),e=this,$.post("/evaluation_quiz_corrections/"+t+"/toggle_skip_not_focus.json",(function(){return"Not focus impact removed"===$(e).html()?($(e).html("Not focus impact applied"),$(e).removeClass("btn-danger")):($(e).html("Not focus impact removed"),$(e).addClass("btn-danger"))}))})),$(".evaluation_quiz_correction_skip_toggle_late").length>0)return $(".evaluation_quiz_correction_skip_toggle_late").click((function(){var t,e;return t=$(this).data("evaluation-quiz-correction-id"),e=this,$.post("/evaluation_quiz_corrections/"+t+"/toggle_skip_late.json",(function(){return"Late impact removed"===$(e).html()?($(e).html("Late impact applied"),$(e).removeClass("btn-danger")):($(e).html("Late impact removed"),$(e).addClass("btn-danger"))}))}))},$(document).ready(t),$(document).on("page:load",t)}.call(this),function(){var t,e,i,n,r,o,s,a,l,c,u,h,d,p,f,m,g,v;v=function(t,e){var i,n;if(!($('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+e+'"]').length<=0))return n=$('select.question-types[data-evaluation-quiz-question-id="'+e+'"]'),i=$(n).val(),l(e,i,!0),n.change((function(){return l(e,$(this).val(),!1)})),c(e),h(e),d(e),u(e)},$(document).on("new_evaluation_quiz_question",v),l=function(t,e,i){if($('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .answers_type').hide(),$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .answers_type[data-question-type="'+e+'"]').show(),$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .list_of_checkbox').empty(),$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .list_of_select').empty(),$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .list_of_select_multiple').empty(),$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .list_of_scored').empty(),!i)return p(t),m(t),g(t),f(t)},e=function(t,e,i){var n,r,o,s,a,l,c,u,h,d,f,m,g,v,y,b;return y=1e4*Math.random(),b=new showdown.Converter,c=$('<li class="checkbox_item row" data-evaluation-quiz-question-id="'+t+'" data-id="'+y+'">'),g=i.valid?"checked":"",l=$('<input type="checkbox" class="col-md-1" data-evaluation-quiz-question-id="'+t+'" data-action="valid" data-id="'+y+'" '+g+' title="Correct answer?" />').val(i.value),c.append(l),l.change((function(){return p(t)})),c.append($('<div class="checkbox_value col-md-9">').append(b.makeHtml(i.value))),d=$('<div class="checkbox_item_edit_text row">').hide(),f=$('<textarea class="form-control col-md-10">').val(i.value),d.append(f),u=$('<div class="col-md-2 row">'),(h=$('<div class="col-md-3" data-evaluation-quiz-question-id="'+t+'" data-id="'+y+'">')).append('<i class="fa-solid fa-xmark">'),u.append(h),h.click((function(){var t,e;return t=$(this).data("evaluation-quiz-question-id"),e=$(this).data("id"),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .checkbox_value').show(),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .checkbox_item_actions').show(),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .checkbox_item_edit_text').hide()})),(m=$('<div class="col-md-3" data-evaluation-quiz-question-id="'+t+'" data-id="'+y+'">')).append('<i class="fa-solid fa-check">'),u.append(m),m.click((function(){var t,e,i;return t=$(this).data("evaluation-quiz-question-id"),e=$(this).data("id"),i=$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .checkbox_item_edit_text textarea').val(),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .checkbox_value').html(b.makeHtml(i)),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] input[type="checkbox"][data-action="valid"]').val(i),p(t),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .checkbox_value').show(),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .checkbox_item_actions').show(),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .checkbox_item_edit_text').hide()})),u.append($('<div class="col-md-6">').html("&nbsp;")),d.append(u),c.append(d),a=$('<div class="checkbox_item_actions col-md-2 row">'),(r=$('<div class="checkbox_item_edit col-md-1" title="Edit content" data-evaluation-quiz-question-id="'+t+'" data-id="'+y+'">')).append($('<i class="fa-solid fa-pen-to-square">')),a.append(r),r.click((function(){var t,e,i;return t=$(this).data("evaluation-quiz-question-id"),e=$(this).data("id"),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .checkbox_value').hide(),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .checkbox_item_actions').hide(),i=$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] input[type="checkbox"][data-action="valid"]').val(),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .checkbox_item_edit_text textarea').val(i),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .checkbox_item_edit_text').show()})),(o=$('<div class="checkbox_item_move col-md-1" title="Drag and drop to change the position">')).append($('<i class="fa-solid fa-bars">')),a.append(o),v="0",s=$('<div class="checkbox_item_random col-md-1" title="Randomize order when display">'),i.random&&(v="1",s.addClass("selected")),s.append($('<i class="fa-solid fa-shuffle">')),s.append($('<input type="hidden" data-evaluation-quiz-question-id="'+t+'" data-action="random" data-id="'+y+'" value="'+v+'" />')),a.append(s),s.click((function(){var e;return e=$(this).find("input"),$(this).hasClass("selected")?($(this).removeClass("selected"),e.val("0")):($(this).addClass("selected"),e.val("1")),p(t)})),(n=$('<div class="checkbox_item_delete col-md-1" title="Delete item">')).append($('<i class="fa-solid fa-circle-minus">')),a.append(n),n.click((function(){if(!0===confirm("Are you sure?"))return $(this).parents("li").remove(),p(t)})),a.append($('<div class="col-md-8">').html("&nbsp;")),c.append(a),e.append(c)},c=function(i){var n,r,o,s,a;a=$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+i+'"] .list_of_checkbox'),r=[];try{r=JSON.parse($('input[data-evaluation-quiz-question-id="'+i+'"].checkbox_items').val())}catch(t){console.log("")}for(o=0,s=r.length;o<s;o++)n=r[o],e(i,a,n);return $('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+i+'"] .checkbox_item.add .checkbox_item_add').click((function(){return t(i)})),a.sortable({handle:".checkbox_item_move",axis:"y",start:function(t,e){return e.item.addClass("dragging")},stop:function(t,e){return e.item.removeClass("dragging"),p(e.item.data("evaluation-quiz-question-id"))}})},t=function(t){var i,n;if((n=$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .checkbox_item_input_add').val()).trim())return i=$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .list_of_checkbox'),e(t,i,{valid:!1,value:n,random:!1}),p(t),$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .checkbox_item_input_add').val("")},p=function(t){var e;return e=[],$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .list_of_checkbox input[type="checkbox"][data-action="valid"]').each((function(){var i,n,r;if(n=$(this).val(),i=$(this).data("id"),n.trim())return r={value:n,valid:$(this).is(":checked"),random:"1"===$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .list_of_checkbox input[type="hidden"][data-action="random"][data-id="'+i+'"]').val()},e.push(r)})),
$('input[data-evaluation-quiz-question-id="'+t+'"].checkbox_items').val(JSON.stringify(e))},o=function(t,e,i){var n,r,o,s,a,l,c,u,h,d,p,f;return d=1e4*Math.random(),p=new showdown.Converter,(f=$('<li class="select_item row" data-evaluation-quiz-question-id="'+t+'" data-id="'+d+'">')).append($('<div class="select_value col-md-10">').append(p.makeHtml(i))),f.append($('<input type="hidden" class="select_value_input" data-evaluation-quiz-question-id="'+t+'" data-action="valid" data-id="'+d+'">').val(i)),c=$('<div class="select_item_edit_text row">').hide(),u=$('<textarea class="form-control col-md-10">').val(i),c.append(u),a=$('<div class="col-md-2 row">'),(l=$('<div class="col-md-3" data-evaluation-quiz-question-id="'+t+'" data-id="'+d+'">')).append('<i class="fa-solid fa-xmark">'),a.append(l),l.click((function(){var t,e;return t=$(this).data("evaluation-quiz-question-id"),e=$(this).data("id"),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .select_value').show(),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .select_item_actions').show(),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .select_item_edit_text').hide()})),(h=$('<div class="col-md-3" data-evaluation-quiz-question-id="'+t+'" data-id="'+d+'">')).append('<i class="fa-solid fa-check">'),a.append(h),h.click((function(){var t,e,i;return t=$(this).data("evaluation-quiz-question-id"),e=$(this).data("id"),i=$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .select_item_edit_text textarea').val(),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .select_value').html(p.makeHtml(i)),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] input[type="hidden"][data-action="valid"]').val(i),m(t),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .select_value').show(),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .select_item_actions').show(),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .select_item_edit_text').hide()})),a.append($('<div class="col-md-6">').html("&nbsp;")),c.append(a),f.append(c),s=$('<div class="select_item_actions col-md-2 row">'),(r=$('<div class="select_item_edit col-md-1" title="Edit content" data-evaluation-quiz-question-id="'+t+'" data-id="'+d+'">')).append($('<i class="fa-solid fa-pen-to-square">')),s.append(r),r.click((function(){var t,e,i;return t=$(this).data("evaluation-quiz-question-id"),e=$(this).data("id"),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .select_value').hide(),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .select_item_actions').hide(),i=$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] input[type="hidden"][data-action="valid"]').val(),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .select_item_edit_text textarea').val(i),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .select_item_edit_text').show()})),(o=$('<div class="select_item_move col-md-1" title="Drag and drop to change the position">')).append($('<i class="fa-solid fa-bars">')),s.append(o),(n=$('<div class="select_item_delete col-md-1" title="Delete item">')).append($('<i class="fa-solid fa-circle-minus">')),s.append(n),n.click((function(){if(!0===confirm("Are you sure?"))return $(this).parents("li").remove(),m(t)})),s.append($('<div class="col-md-9">').html("&nbsp;")),f.append(s),e.append(f)},h=function(t){var e,i,n,s,a;n=$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .list_of_select'),a=[];try{a=JSON.parse($('input[data-evaluation-quiz-question-id="'+t+'"].select_items').val())}catch(t){console.log("")}for(e=0,i=a.length;e<i;e++)s=a[e],o(t,n,s);return $('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .select_item.add .select_item_add').click((function(){return r(t)})),n.sortable({handle:".select_item_move",axis:"y",start:function(t,e){return e.item.addClass("dragging")},stop:function(t,e){return e.item.removeClass("dragging"),m(e.item.data("evaluation-quiz-question-id"))}})},r=function(t){var e,i;if((i=$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .select_item_input_add').val()).trim())return e=$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .list_of_select'),o(t,e,i),m(t),$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .select_item_input_add').val("")},m=function(t){var e;return e=[],$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .list_of_select .select_value_input').each((function(){var t;if((t=$(this).val()).trim())return e.push(t)})),$('input[data-evaluation-quiz-question-id="'+t+'"].select_items').val(JSON.stringify(e))},a=function(t,e,i){var n,r,o,s,a,l,c,u,h,d,p,f;return d=1e4*Math.random(),p=new showdown.Converter,(f=$('<li class="select_multiple_item row" data-evaluation-quiz-question-id="'+t+'" data-id="'+d+'">')).append($('<div class="select_multiple_value col-md-10">').append(p.makeHtml(i))),f.append($('<input type="hidden" class="select_multiple_value_input" data-evaluation-quiz-question-id="'+t+'" data-action="valid" data-id="'+d+'">').val(i)),c=$('<div class="select_multiple_item_edit_text row">').hide(),u=$('<textarea class="form-control col-md-10">').val(i),c.append(u),a=$('<div class="col-md-2 row">'),(l=$('<div class="col-md-3" data-evaluation-quiz-question-id="'+t+'" data-id="'+d+'">')).append('<i class="fa-solid fa-xmark">'),a.append(l),l.click((function(){var t,e;return t=$(this).data("evaluation-quiz-question-id"),e=$(this).data("id"),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .select_multiple_value').show(),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .select_multiple_item_actions').show(),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .select_multiple_item_edit_text').hide()})),(h=$('<div class="col-md-3" data-evaluation-quiz-question-id="'+t+'" data-id="'+d+'">')).append('<i class="fa-solid fa-check">'),a.append(h),h.click((function(){var t,e,i;return t=$(this).data("evaluation-quiz-question-id"),e=$(this).data("id"),i=$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .select_multiple_item_edit_text textarea').val(),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .select_multiple_value').html(p.makeHtml(i)),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] input[type="hidden"][data-action="valid"]').val(i),g(t),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .select_multiple_value').show(),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .select_multiple_item_actions').show(),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .select_multiple_item_edit_text').hide()})),a.append($('<div class="col-md-6">').html("&nbsp;")),c.append(a),f.append(c),s=$('<div class="select_multiple_item_actions col-md-2 row">'),(r=$('<div class="select_multiple_item_edit col-md-1" title="Edit content" data-evaluation-quiz-question-id="'+t+'" data-id="'+d+'">')).append($('<i class="fa-solid fa-pen-to-square">')),s.append(r),r.click((function(){var t,e,i;return t=$(this).data("evaluation-quiz-question-id"),e=$(this).data("id"),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .select_multiple_value').hide(),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .select_multiple_item_actions').hide(),i=$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] input[type="hidden"][data-action="valid"]').val(),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .select_multiple_item_edit_text textarea').val(i),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .select_multiple_item_edit_text').show()})),(o=$('<div class="select_multiple_item_move col-md-1" title="Drag and drop to change the position">')).append($('<i class="fa-solid fa-bars">')),s.append(o),(n=$('<div class="select_multiple_item_delete col-md-1" title="Delete item">')).append($('<i class="fa-solid fa-circle-minus">')),s.append(n),n.click((function(){if(!0===confirm("Are you sure?"))return $(this).parents("li").remove(),g(t)})),s.append($('<div class="col-md-9">').html("&nbsp;")),f.append(s),e.append(f)},d=function(t){var e,i,n,r,o;n=$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .list_of_select_multiple'),o=[];try{o=JSON.parse($('input[data-evaluation-quiz-question-id="'+t+'"].select_multiple_items').val())}catch(t){console.log("")}for(new showdown.Converter,e=0,i=o.length;e<i;e++)r=o[e],a(t,n,r);return $('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .select_multiple_item.add .select_multiple_item_add').click((function(){return s(t)})),n.sortable({handle:".select_multiple_item_move",axis:"y",start:function(t,e){return e.item.addClass("dragging")},stop:function(t,e){return e.item.removeClass("dragging"),g(e.item.data("evaluation-quiz-question-id"))}})},s=function(t){var e,i;if((i=$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .select_multiple_item_input_add').val()).trim())return e=$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .list_of_select_multiple'),a(t,e,i),g(t),$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .select_multiple_item_input_add').val("")},g=function(t){var e;return e=[],$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .list_of_select_multiple .select_multiple_value_input').each((function(){var t;if((t=$(this).val()).trim())return e.push(t)})),$('input[data-evaluation-quiz-question-id="'+t+'"].select_multiple_items').val(JSON.stringify(e))},n=function(t,e,i){var n,r,o,s,a,l,c,u,h,d,p,m,g,v,y;return m=1e4*Math.random(),g=new showdown.Converter,v=$('<li class="scored_item row" data-evaluation-quiz-question-id="'+t+'" data-id="'+m+'">'),y=$('<input type="number" step="1" class="col-md-2 form-control" data-evaluation-quiz-question-id="'+t+'" data-action="score" data-id="'+m+'" />').val(i.score),v.append(y),y.change((function(){return f(t)})),v.append($('<div class="scored_value col-md-8">').append(g.makeHtml(i.value))),v.append($('<input type="hidden" class="scored_value_input" data-evaluation-quiz-question-id="'+t+'" data-action="value" data-id="'+m+'">').val(i.value)),u=$('<div class="scored_item_edit_text row">').hide(),h=$('<textarea class="form-control col-md-10">').val(i.value),u.append(h),l=$('<div class="col-md-2 row">'),(c=$('<div class="col-md-3" data-evaluation-quiz-question-id="'+t+'" data-id="'+m+'">')).append('<i class="fa-solid fa-xmark">'),l.append(c),c.click((function(){var t,e;return t=$(this).data("evaluation-quiz-question-id"),e=$(this).data("id"),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .scored_value').show(),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .scored_item_actions').show(),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .scored_item_edit_text').hide()})),(d=$('<div class="col-md-3" data-evaluation-quiz-question-id="'+t+'" data-id="'+m+'">')).append('<i class="fa-solid fa-check">'),l.append(d),d.click((function(){var t,e,i;return t=$(this).data("evaluation-quiz-question-id"),e=$(this).data("id"),i=$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .scored_item_edit_text textarea').val(),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .scored_value').html(g.makeHtml(i)),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] input[type="hidden"][data-action="value"]').val(i),f(t),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .scored_value').show(),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .scored_item_actions').show(),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .scored_item_edit_text').hide()})),l.append($('<div class="col-md-6">').html("&nbsp;")),u.append(l),v.append(u),a=$('<div class="scored_item_actions col-md-2 row">'),(r=$('<div class="scored_item_edit col-md-1" title="Edit content" data-evaluation-quiz-question-id="'+t+'" data-id="'+m+'">')).append($('<i class="fa-solid fa-pen-to-square">')),a.append(r),r.click((function(){var t,e,i;return t=$(this).data("evaluation-quiz-question-id"),e=$(this).data("id"),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .scored_value').hide(),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .scored_item_actions').hide(),i=$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] input[type="hidden"][data-action="value"]').val(),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .scored_item_edit_text textarea').val(i),$('li[data-evaluation-quiz-question-id="'+t+'"][data-id="'+e+'"] .scored_item_edit_text').show()})),(o=$('<div class="scored_item_move col-md-1" title="Drag and drop to change the position">')).append($('<i class="fa-solid fa-bars">')),a.append(o),p="0",s=$('<div class="scored_item_random col-md-1" title="Randomize order when display">'),i.random&&(p="1",s.addClass("selected")),s.append($('<i class="fa-solid fa-shuffle">')),s.append($('<input type="hidden" data-evaluation-quiz-question-id="'+t+'" data-action="random" data-id="'+m+'" value="'+p+'" />')),a.append(s),s.click((function(){var e;return e=$(this).find("input"),$(this).hasClass("selected")?($(this).removeClass("selected"),e.val("0")):($(this).addClass("selected"),e.val("1")),f(t)})),(n=$('<div class="scored_item_delete col-md-1" title="Delete item">')).append($('<i class="fa-solid fa-circle-minus">')),a.append(n),n.click((function(){if(!0===confirm("Are you sure?"))return $(this).parents("li").remove(),f(t)})),a.append($('<div class="col-md-8">').html("&nbsp;")),v.append(a),e.append(v)},u=function(t){var e,r,o,s,a;o=$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .list_of_scored'),a=[];try{a=JSON.parse($('input[data-evaluation-quiz-question-id="'+t+'"].scored_items').val())}catch(t){console.log("")}for(e=0,r=a.length;e<r;e++)s=a[e],n(t,o,s);return $('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .scored_item.add .scored_item_add').click((function(){return i(t)})),o.sortable({handle:".scored_item_move",axis:"y",start:function(t,e){return e.item.addClass("dragging")},stop:function(t,e){return e.item.removeClass("dragging"),f(e.item.data("evaluation-quiz-question-id"))}})},i=function(t){var e,i;if((i=$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .scored_item_input_add').val()).trim())return e=$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .list_of_scored'),n(t,e,{value:i,score:0,random:!1}),f(t),$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .scored_item_input_add').val("")},f=function(t){var e;return e=[],$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .list_of_scored .scored_item.row').each((function(){var i,n,r;if(i=$(this).data("id"),(n=$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .list_of_scored input[type="hidden"][data-action="value"][data-id="'+i+'"]').val()).trim())return r={value:n,score:$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .list_of_scored input[type="number"][data-action="score"][data-id="'+i+'"]').val(),random:"1"===$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .list_of_scored input[type="hidden"][data-action="random"][data-id="'+i+'"]').val()},e.push(r)})),$('input[data-evaluation-quiz-question-id="'+t+'"].scored_items').val(JSON.stringify(e))}}.call(this),function(){var t,e,i,n;e=function(t){var e;return e=$("form.new_event #event_has_groups, form.edit_event #event_has_groups"),t?e.parent().show():(e.attr("checked",!1),e.parent().hide())},i=function(t){var e;return e=$("form.new_event #event_is_scored, form.edit_event #event_is_scored"),t?e.parent().show():(e.attr("checked",!1),e.parent().hide())},t=function(t){return["evaluation_quiz"].includes(t)?(e(!1),i(!1)):(e(!0),i(!0))},n=function(){var e;return e=$("form.new_event #event_event_type, form.edit_event #event_event_type"),t(e.val()),e.change((function(){return t($(this).val())}))},$(document).ready(n),$(document).on("page:load",n)}.call(this),function(){var t;window.gtm_user_custom_event=function(t,e){if(window.dataLayer&&t)return window.dataLayer.push({customEventOptions:e,event:t})},$.rails.allowAction=function(t){var e,i,n;if(e=t.data("confirm")){if(i=t.data("gtm-custom-event-name"),n=JSON.parse(t.data("gtm-custom-event-options")||"{}"),!confirm(e))return i&&window.gtm_user_custom_event(i+"_cancel",n),!1;i&&window.gtm_user_custom_event(i,n),t.data("confirm",null),t.trigger("click.rails"),t.data("confirm",e)}return!0},t=function(){return document.querySelectorAll('[data-bs-toggle="modal"]').forEach((function(t){var e,i;if(e=t.dataset.gtmCustomEventName)return i=JSON.parse(t.dataset.gtmCustomEventOptions||"{}"),t.addEventListener("click",(function(){return window.gtm_user_custom_event(e,i),!0}))}))},$(document).ready(t)}.call(this),function(){var t,e,i,n,r,o;t=function(t){return t.each((function(){var t;if(1!==$(this).data("already-converted"))return t=[{name:"bold",action:SimpleMDE.toggleBold,className:"fa-solid fa-bold",title:"Bold",default:!0},{name:"italic",action:SimpleMDE.toggleItalic,className:"fa-solid fa-italic",title:"Italic",default:!0},{name:"heading",action:SimpleMDE.toggleHeadingSmaller,className:"fa-solid fa-heading",title:"Heading",default:!0},"|",{name:"quote",action:SimpleMDE.toggleBlockquote,className:"fa-solid fa-quote-left",title:"Quote",default:!0},{name:"unordered-list",action:SimpleMDE.toggleUnorderedList,className:"fa-solid fa-list-ul",title:"Generic List",default:!0},{name:"code",action:SimpleMDE.toggleCodeBlock,className:"fa-solid fa-code",title:"Code",default:!0},{name:"table",action:SimpleMDE.drawTable,className:"fa-solid fa-table",title:"Table",default:!0},"|",{name:"link",action:SimpleMDE.drawLink,className:"fa-solid fa-link",title:"Create Link",default:!0},{name:"image",action:SimpleMDE.drawImage,className:"fa-regular fa-image",title:"Insert Image",default:!0},"|",{name:"preview",action:SimpleMDE.togglePreview,className:"fa-solid fa-eye no-disable",title:"Toggle Preview",default:!0},{name:"fullscreen",action:SimpleMDE.toggleFullScreen,className:"fa-solid fa-maximize no-disable no-mobile",title:"Toggle Fullscreen",default:!0}],$(this).hasClass("disable_upload")||t.push({name:"fileUpload",action:i,className:"fa-solid fa-upload",title:"Upload a File",default:!0}),t.push("|"),t.push({name:"guide",action:n,className:"fa-solid fa-circle-question",title:"Markdown Guide",default:!0}),new SimpleMDE({element:this,toolbar:t}),$(this).data("already-converted",1)}))},o=null,i=function(t){return window.current_markdown_editor=t,null===o&&(o=new bootstrap.Modal("#uploader-modal")),o.show(),$(document).trigger("upload-reset-modal")},r=null,n=function(){return null===r&&(r=new bootstrap.Modal("#markdown-guide-modal")),r.show()},e=function(){return $(".nested_markdown > .nav-tabs").length>0?($('a[data-bs-toggle="tab"]').on("shown.bs.tab",(function(){return t($($(this).attr("href")+"-tab-pane .markdown"))})),$('a[data-bs-toggle="tab"].active').each((function(){return t($($(this).attr("href")+"-tab-pane .markdown"))}))):t($(".markdown"))},$(document).ready(e),$(document).on("page:load",e),$(document).on("new_markdown_field",e)}.call(this),function(){var t;t=function(){if($(".tool-coupons-list").length>0)return $(".tool-coupons-list .tc-request").click((function(){var t,e,i,n,r,o,s;if(s=$(this).data("user-id"),o=$(this).data("tc-id"),s&&o)return t=$('.tool-coupons-list .tc-item[data-user-id="'+s+'"][data-tc-id="'+o+'"] .tc-request'),r=$('.tool-coupons-list .tc-item[data-user-id="'+s+'"][data-tc-id="'+o+'"] .tc-loading'),e=$('.tool-coupons-list .tc-item[data-user-id="'+s+'"][data-tc-id="'+o+'"] .tc-code'),n=$('.tool-coupons-list .tc-item[data-user-id="'+s+'"][data-tc-id="'+o+'"] .tc-error'),t.hide(),r.css("display","inline-block"),e.hide().empty(),n.hide().empty(),i={user_id:s,tc_id:o},$.post("/tool_coupons/request_coupon.json",i,(function(i){var o;return r.css("display","none"),o=null,i&&i.error?o=i.error:i&&i.code||(o="An error occurred"),o?(t.show(),n.html("["+o+"]").show()):e.html(i.code).show()}))}))},$(document).ready(t),$(document).on("page:load",t)}.call(this),function(){var t;t=function(){if($(".auto-smart-project-github").length>0&&$(".auto-smart-project-github").each((function(){return $(this).on("cocoon:after-insert",(function(){return $(".github_repo-text-field",$(this)).last().val($(".github_repo-text-field",$(this)).first().val()),$(".github_dir-text-field",$(this)).last().val($(".github_dir-text-field",$(this)).first().val())}))})),$(".auto-smart-check").length>0&&$(".auto-smart-check").each((function(){return $(this).on("cocoon:after-insert",(function(){return $(".concept-select",$(this)).last().val($(".concept-select",$(this)).first().val()),$(".check_type-select",$(this)).last().val($(".check_type-select",$(this)).first().val())}))})),$(".auto-smart-check-command").length>0)return $(".auto-smart-check-command").each((function(){return $(this).on("cocoon:after-insert",(function(){return $(".check_command_docker_image-select",$(this)).last().val($(".check_command_docker_image-select",$(".auto-smart-check-command_parent")).first().val())}))}))},$(document).ready(t),$(document).on("page:load",t),document.addEventListener("DOMContentLoaded",(function(){var t,e,i,n,r;if(r="current-projects-accordion-opened",e=864e5,t=document.getElementById("current-projects-accordion"))return n=function(t){return{id:t,expireAt:Date.now()+e}},(i=function(t){var e;return e=t(e=JSON.parse(localStorage.getItem(r)||"[]")),localStorage.setItem(r,JSON.stringify(e))})((function(e){return e.reduce((function(e,i){var r;return i.id&&i.expireAt&&i.expireAt>Date.now()&&(r=t.querySelector("#"+i.id+".collapse"))&&(new bootstrap.Collapse(r,{toggle:!0}),e.push(n(i.id))),e}),[])})),t.addEventListener("shown.bs.collapse",(function(t){var e;return e=t.target.id,i((function(t){return(t=t.filter((function(t){return t.id!==e}))).push(n(e)),t}))})),t.addEventListener("hidden.bs.collapse",(function(t){var e;return e=t.target.id,i((function(t){return t.filter((function(t){return t.id!==e}))}))}))}))}.call(this),function(){var t,e,i,n,r,o,s,a,l,c,u=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1};c=function(e,i){var n,r,o;if(o='input[data-quiz-question-id="'+i+'"]',!($(o).length<=0))return r=(r=JSON.parse($(o)[0].value)||[]).sort((function(t,e){return parseInt(t.position)>parseInt(e.position)})),t(i,r),n='.quiz_question_answers_add[data-quiz-question-id="'+i+'"]',$(n).length>0?$(n).click((function(){return(r=JSON.parse(($(o)[0]||{}).value)||[]).push({id:Date.now(),position:r.length+1,body:"",online:!0,is_true:!1}),($(o)[0]||{}).value=JSON.stringify(r),t(i,r)})):void 0},$(document).on("new_quiz_question",c),t=function(e,i){var n,r,o,s,a,l,c,h,d,p,f,m,g,v;if(m='.quiz_question_answers_list[data-quiz-question-id="'+e+'"]',void 0!==(f=$(m)[0])){for(h='input[data-quiz-question-id="'+e+'"]',o=[],l=0,d=i.length;l<d;l++)s=i[l],r=s.id,o.push(r),void 0===(n=$(m+' .quiz_question_answer_item[data-quiz-question-answer-id="'+r+'"]')[0])?((g=$('<div class="quiz_question_answer_item well" data-quiz-question-id="'+e+'" data-quiz-question-answer-id="'+r+'">')).append('<textarea id="quiz_question_answer_item_body_'+r+'" name="quiz_question_answer_item_body_'+r+'" class="form-control">'+s.body+"</textarea><br />"),s.is_true?g.append('<input id="quiz_question_answer_item_is_true_'+r+'" name="quiz_question_answer_item_is_true_'+r+'" class="" type="checkbox" checked="checked" />'):g.append('<input id="quiz_question_answer_item_is_true_'+r+'" name="quiz_question_answer_item_is_true_'+r+'" class="" type="checkbox" />'),g.append('<label for="quiz_question_answer_item_is_true_'+r+'"> Valid answer</label><br />'),s.online?g.append('<input id="quiz_question_answer_item_online_'+r+'" name="quiz_question_answer_item_online_'+r+'" class="" type="checkbox" checked="checked" />'):g.append('<input id="quiz_question_answer_item_online_'+r+'" name="quiz_question_answer_item_online_'+r+'" class="" type="checkbox" />'),g.append('<label for="quiz_question_answer_item_online_'+r+'"> Online</label><br />'),g.append('<label for="quiz_question_answer_item_position_'+r+'">Position:</label>'),g.append('<input id="quiz_question_answer_item_position_'+r+'" name="quiz_question_answer_item_position_'+r+'" class="form-control" type="number" value="'+s.position+'" />'),g.append('<div class="quiz_question_answer_item_delete" data-quiz-question-id="'+e+'" data-quiz-question-answer-id="'+r+'">- remove</div>'),f.append(g[0]),a='.quiz_question_answer_item_delete[data-quiz-question-answer-id="'+r+'"]',$(a).length>0&&$(a).click((function(){return i=(i=JSON.parse(($(h)[0]||{}).value)||[]).filter((function(t){return t.id!==r})),($(h)[0]||{}).value=JSON.stringify(i),t(e,i)}))):(s.body=($("#quiz_question_answer_item_body_"+r)[0]||{}).value,$("#quiz_question_answer_item_is_true_"+r).length>0&&(s.is_true=$("#quiz_question_answer_item_is_true_"+r)[0].checked),$("#quiz_question_answer_item_online_"+r).length>0&&(s.online=$("#quiz_question_answer_item_online_"+r)[0].checked),s.position=($("#quiz_question_answer_item_position_"+r)[0]||{}).value);for(c=0,p=(v=f.children).length;c<p;c++)n=v[c],r=$(n).data("quiz-question-answer-id"),u.call(o,r)<0&&$(n).remove();return($(h)[0]||{}).value=JSON.stringify(i)}},l=function(){var t;if(t='.edit_project input[type="submit"]',$(t).length>0)return $(t).click((function(){return $(".quiz_question_answers").each((function(){var t,e,i;return e='input[data-quiz-question-id="'+(i=$(this).data("quiz-question-id"))+'"]',t=[],$('.quiz_question_answer_item[data-quiz-question-id="'+i+'"]').each((function(){var e,i;return(i={id:e=$(this).data("quiz-question-answer-id")}).position=($("#quiz_question_answer_item_position_"+e)[0]||{}).value,$("#quiz_question_answer_item_is_true_"+e).length>0&&(i.is_true=$("#quiz_question_answer_item_is_true_"+e)[0].checked),$("#quiz_question_answer_item_online_"+e).length>0&&(i.online=$("#quiz_question_answer_item_online_"+e)[0].checked),i.body=($("#quiz_question_answer_item_body_"+e)[0]||{}).value,t.push(i)})),($(e)[0]||{}).value=JSON.stringify(t)}))}))},$(document).ready(l),$(document).on("page:load",l),a=function(){var t;if($('.quiz_question_item_container .quiz_question_answers input[type="checkbox"],input[type="radio"]').length>0&&$('.quiz_question_item_container .quiz_question_answers input[type="checkbox"],input[type="radio"]').click((function(){var t;if(t=$('ul.quiz_question_answers[data-question-id="'+$(this).data("quiz-question-id")+'"]'),window.gtm_user_custom_event("project_quiz_select_answer"),!t.data("date-first-click"))return t.data("date-first-click",Date.now())})),t=".quiz_questions_results button",$(t).length>0)return $(t).click((function(){var t,o,s;return o=$(this).data("project-id"),n(!0),i(!1,""),e(!1),t={"first-click":[]},$('.quiz_question_item_container .quiz_question_answers input[type="checkbox"],input[type="radio"]').each((function(){var e,i,n;if(n=$(this).data("quiz-question-id"),i=$(this).data("quiz-answer-id"),void 0!==n&&void 0!==i)return e=t[n]||[],$(this)[0].checked&&e.push(i),t[n]=e})),$("ul.quiz_question_answers").each((function(){var e;if((e=$(this).data("date-first-click"))&&e>0)return t["first-click"].push(e)})),window.gtm_user_custom_event("project_quiz_submit"),s="/projects/"+o+"/submit_quiz.json",$.post(s,{answers:JSON.stringify(t)},(function(t){var o;return t.success?(window.gtm_user_custom_event("project_quiz_succeed"),location.href="#quiz-completed",location.reload()):(o=t.wrong_answers||[],window.gtm_user_custom_event("project_quiz_fail",{projectQuizWrongAnswers:o.length}),n(!1),i(!0,t.error||"An error occurred"),e(!0),r(o))}))}))},r=function(t){var e,i,n,r,o,s,a,l;if(!(void 0===t||t.length<=0)){for(l=[],e=0,n=(s=document.querySelectorAll(".quiz_question_item_container > div")).length;e<n;e++)o=(r=s[e]).id.split("-").pop(),a=parseInt(o,10),i=u.call(t,a)>=0,l.push(r.classList.toggle("wrong",i));return l}},e=function(t){var e;if(e=document.querySelector(".quiz_questions_results button"))return e.classList.toggle("d-inline-block",t),e.classList.toggle("d-none",!t)},n=function(t){var e;if(e=document.querySelector(".quiz_questions_results .spinner"))return e.classList.toggle("d-block",t),e.classList.toggle("d-none",!t)},i=function(t,e){var i;if(i=document.querySelector(".quiz_questions_results .error"))return i.innerHTML=e,i.classList.toggle("d-block",t),i.classList.toggle("d-none",!t)},$(document).ready(a),$(document).on("page:load",a),s=function(){var t;if(t="#quiz_questions_collapse_toggle",$(t).length>0)return"#quiz-completed"===location.hash&&$("#project-quiz-questions-title").length>0&&$("#project-quiz-questions-title")[0].scrollIntoView(),$(t).click((function(){return o()})),o()},o=function(){var t,e;if(t="#quiz_questions_collapse_toggle",e="section.quiz_questions_show_container",$(t).length>0&&$(e).length>0)return $(e).is(":visible")?($(e).hide(),$(t).html("(Show quiz)")):(window.gtm_user_custom_event("project_quiz_show"),$(e).show(),$(t).html("(Hide quiz)"))},$(document).ready(s),$(document).on("page:load",s)}.call(this),function(){var t;t=!1,$(document).submit((function(){t=!0})),$((function(){if(void 0!==$('[class^="edit"]')[0]){if($("form").data("skip-validation"))return;window.onbeforeunload=function(e){var i;if(!t)return i="Text",e.returnValue=i,i}}}))}.call(this),function(){var t,e,i;t=function(t,e){var i,n,r,o,s,a,l,c,u,h,d,p,f,m;if(i=$("<li>").addClass("list-group-item"),t.passed?i.addClass("list-group-item-success"):i.addClass("list-group-item-danger"),t.previous_check_failed&&i.addClass("offline"),i.append(t.title),t.points>0&&((l=$("<p>").append($("<strong>").html("Score: "))).append(t.score+" out of "+t.points+" points"),i.append(l)),t.reason&&(i.append($("<p>").append($("<strong>").html("Reason:"))),a=$("<div>").addClass("correction_reason").html(t.reason),i.append(a)),t.files&&t.files.length>0){for(s=$("<p>").append($("<strong>").html("Files: ")),c=!1,u=0,d=(f=t.files).length;u<d;u++)o=f[u],c&&s.append(", "),s.append($("<a>").attr("href",o.url).attr("target","_blank").html(o.name)),c=!0;i.append(s)}if(t.errors&&t.errors.length>0){for((r=$("<p>").append($("<strong>").html("Full error"))).append(" (available only 10days) : "),c=!1,h=0,p=(m=t.errors).length;h<p;h++)n=m[h],c&&r.append(", "),r.append($("<a>").attr("href",n.url).attr("target","_blank").html(n.name)),c=!0;i.append(r)}return e.append(i)},e=function(e,i){var n,r,o,s,a,l,c,u,h,d,p,f;if(h=$("#task-qa-review-"+i+"-modal .review-container .review-corrector"),d=$("#task-qa-review-"+i+"-modal .review-container .review-github"),p=$("#task-qa-review-"+i+"-modal .review-container .review-percentage_down"),c=$("#task-qa-review-"+i+"-modal .review-container .review-checks"),u=$("#task-qa-review-"+i+"-modal .review-container .review-comment"),h.empty().hide(),e.corrector&&e.corrector.name&&(h.append($("<b>").html("Corrected by: ")),e.corrector.id&&h.append($("<code>").html(e.corrector.id)),h.append($("<span>").html(" "+e.corrector.name)),e.corrector.at&&h.append($("<i>").html(" - "+e.corrector.at)),h.show()),e.github)for(o in d.show(),a=e.github)f=a[o],"url"===o?d.find(".review-github-"+o).attr("href",f):d.find(".review-github-"+o).html(f),d.find(".review-github-"+o).parent().show();if(p.empty().hide(),e.percentage_down&&(p.append($("<b>").html("New correction at: ")),p.append($("<span>").html((100*e.percentage_down).toFixed(1)+"%")),p.show()),c.empty(),e.checks)for(r=0,s=(l=e.checks).length;r<s;r++)n=l[r],t(n,c);if(u.empty().hide(),e.comment&&""!==e.comment)return u.append($("<strong>").html("Comment")),u.append($("<pre>").html(e.comment)),u.show()},i=function(){return $(".modal.task_get_qa_review").on("shown.bs.modal",(function(){var t,i,n,r;if(1!==$(this).data("loaded"))return $(this).data("loaded",1),r=$(this).data("task-id"),t=$(this).data("correction-id"),i=$("#task-qa-review-"+r+"-modal .review-container"),n=$("#task-qa-review-"+r+"-modal .spinner"),i.hide(),n.show(),$.getJSON("/corrections/"+t+"/review.json?task_id="+r,(function(t){return e(t,r),i.show(),n.hide()}))}))},$(document).ready(i)}.call(this),function(){var t,e,i,n,r,o;t="#observed-sl button#observed-sl-apply",e='#observed-sl input[type="checkbox"][id^="observed-sl-item-"]',i='#observed-sl input[type="checkbox"]#select-all-observed-sl',
document.addEventListener("DOMContentLoaded",(function(){var n,r;if(n=document.querySelector(i))return(r=function(){var t,i;return t=!0,i=!1,document.querySelectorAll(e).forEach((function(e){return e.checked?i=!0:t=!1})),n.checked=t,n.indeterminate=i&&!t})(),document.querySelector(t).addEventListener("click",(function(){var t;return t=[],document.querySelectorAll(e).forEach((function(e){if(e.checked)return t.push(parseInt(e.value))})),Cookies.set("hbtn_intranet_staff_sl_ids",t.join(",")),window.location.reload()})),document.querySelector(i).addEventListener("change",(function(t){var i;return i=t.target.checked,document.querySelectorAll(e).forEach((function(t){return t.checked=i}))})),document.querySelectorAll(e).forEach((function(t){return t.addEventListener("change",r)}))})),o=function(){if($(".school_location_facility_spaces").length>0)return $(".school_location_facility_spaces .new_value").on("keypress",(function(t){if(13===t.keyCode)return n(),!1})),$(".school_location_facility_spaces .add_new_value").click((function(){return n()})),$(".school_location_facility_spaces .remove_value").click((function(){return $(this).parent().remove(),r()}))},$(document).ready(o),$(document).on("page:load",o),n=function(){var t,e,i,n,o;if((o=$(".school_location_facility_spaces .new_value").val())&&""!==o.trim())return $(".school_location_facility_spaces .new_value").val(""),t=$(".school_location_facility_spaces .values_list"),e=$("<li>"),n=$("<span>").addClass("value").append(o),e.append(n),(i=$("<span>").addClass("action").addClass("remove_value")).append($('<i class="fa-solid fa-circle-minus"></i>')),e.append(i),t.append(e),r(),i.click((function(){return $(this).parent().remove(),r()}))},r=function(){var t,e;return e=$('input[type="hidden"][name="school_location[facility_spaces_json]"]'),t=[],$(".school_location_facility_spaces .values_list span.value").each((function(){return t.push($(this).html())})),e.val(JSON.stringify(t))}}.call(this),function(){var t,e,i,n,r,o,s,a,l,c,u,h,d,p,f,m,g,v;h=function(){return $("#search-button .fa-window-minimize").css("display","none"),$("#search-button .fa-magnifying-glass").css("display","inline-block"),$(this).data("search-active",!1)},u=function(){return $("#search-button .fa-magnifying-glass").css("display","none"),$("#search-button .fa-window-minimize").css("display","inline-block"),$(this).data("search-active",!0)},p=function(){return $("#search-button").click((function(){return!1===$(this).data("search-active")?u():h()}))},$(document).ready(p),$(document).on("page:load",p),g=function(){return $("#search-modal").on("hide.bs.modal",(function(){return h()}))},$(document).ready(g),$(document).on("page:load",g),v=function(){return $("#search-modal").on("shown.bs.modal",(function(){return u(),$("#search-modal #search-bar").focus()}))},$(document).ready(v),$(document).on("page:load",v),l=function(t,e,i,n,r){return void 0===this.timeoutID&&(this.timeoutID=0),function(){var o;return clearTimeout(this.timeoutID),o=function(){return t(e,i,n)},this.timeoutID=setTimeout(o,r)}()},c={concepts:["name"],evaluation_quizzes:["name"],nps_quizzes:["name"],projects:["name"],tasks:["title"],users:["email","linkedin_url","twitter_username","github_username","discord_username"]},d={concepts:"Concepts",evaluation_quizzes:"Evaluation Quizzes",nps_quizzes:"NPS Quizzes",projects:"Projects",tasks:"Tasks",users:"Users"},a=null,e=null,o=["linkedin_url","twitter_username","github_username","email","discord_username"],n=[["fa-brands fa-slack",$("#hbtn-slack-url").val()+"/messages/"],["fa-brands fa-linkedin",""],["fa-brands fa-twitter","https://twitter.com/"],["fa-brands fa-github","https://github.com/"],["fa-solid fa-envelope","mailto:"],["fa-brands fa-discord",null]],i=["author","description","body","link"],r=function(t,e){var i;return i=!0,e.forEach((function(e){if(void 0!==t[e]&&t[e].items.length>0)return i=!1})),i},s=function(t,e,s){var l,u;return s.show(),u="/search.json?q="+encodeURIComponent(t),l='<p class="position-relative text-center" id="search-error-message">We couldn\'t find any results matching this query. Search is being improved on everyday, thanks for your patience! If you have any feedback on the search experience, we\'d love to hear it \ud83d\ude4f\ud83c\udffd </p>',a=$.ajax({type:"GET",dataType:"json",url:u,beforeSend:function(){if(null!==a)return a.abort(),a=null}}).done((function(t){var u;return void 0===(u=t.load_order)||0===u.length||r(t,u)?(e.append(l),e.show(),s.hide(),void(a=null)):(u.forEach((function(r){var s,a,l;return void 0!==t[r]&&t[r].items.length>0&&(l=$("<div>"),a=$("<h4>"),s=$('<div class="list-group">'),a.html(d[r]),l.append(a),l.append(s),t[r].items.forEach((function(t){var e,a,l;return a=$('<li class="list-group-item">'),c[r].forEach((function(e){var s,l,c,u,h,d;if(""!==t[e]&&null!==t[e])return s=$('<div class="'+r+"-"+e+'">'),"users"===r&&(s.css("display","inline-block"),s.css("margin-right","5px")),o.includes(e)||i.includes(e)?o.includes(e)&&(l=o.indexOf(e),u=n[l],d='title="'+t[e]+'"',c=null===u[1]?"<span "+d+'><i class="text-primary '+u[0]+'"></i></span>':'<a href="'+u[1]+t[e]+'" target="_blank" '+d+'><i class="text-primary '+u[0]+'"></i></a>',s.append(c)):(h=$('<p class="mb-0">'),void 0!==t.link?(c=$('<a href="'+t.link+'" target="_blank" class="'+r+'-link">'+t[e]+"</a>"),h.append(c)):h.html(t[e]),s.append(h)),a.append(s)})),"users"===r&&(null!==t.batch&&a.append('<p class="d-inline-block mb-0 ms-2"><span class="badge text-bg-primary">'+t.batch+"</span></p>"),(l=t.link)&&""!==l?(e=$('<a href="'+l+'" target="_blank" class="d-inline-block me-3">'+t.name+"</a>"),a.prepend(e)):a.prepend('<p class="d-inline-block me-3">'+t.name+"</p>")),s.append(a)}))),e.append(l)})),a=null,e.show(),s.hide())}))},m=function(){var t;return t=2,$("#search-bar").keyup((function(){var i,n,r;if((i=(i=$(this).val()).trim())!==e&&(e=i,(n=$("#search-modal #search-results-container")).empty(),n.hide(),!(i.length<t)))return(r=$("#search-modal .spinner")).hide(),l(s,i,n,r,1e3)}))},$(document).ready(m),$(document).on("page:load",m),t=function(){var t;return t=$(".navbar-admin").offset().top,$("#search-button").offset({top:t-50})},f=function(){return $(".navbar-admin").on("shown.bs.collapse",(function(){return t()})),$(".navbar-admin").on("hidden.bs.collapse",(function(){return t()}))},$(document).ready(f),$(document).on("page:load",f)}.call(this),function(){var t;t=function(t,e){return $("input[type=text]#"+e).length>0&&$("input[type=text]#"+e).each((function(){var t,e,i,n;return n=(e=$(this)).data("all_tokens"),i=JSON.parse(e.val())||[],n.length>0&&(i=n.filter((function(t){return i.includes(t)||null!=t.value&&i.includes(t.value)}))),e.removeAttr("data-all_tokens"),e.removeAttr("value"),(t=new Bloodhound({local:n,datumTokenizer:function(t){return null!=t.label?Bloodhound.tokenizers.whitespace(t.label):Bloodhound.tokenizers.whitespace(t)},queryTokenizer:Bloodhound.tokenizers.whitespace,limit:20})).initialize(),e.tokenfield({tokens:i,typeahead:[null,{source:t.ttAdapter(),displayKey:function(t){return null!=t.label?t.label:t}}]})})),$("form").on("keypress",(function(t){if(13===t.which&&$(t.target).hasClass("token-input"))return t.preventDefault()}))},$(document).on("load_tokens_field",t)}.call(this),function(){$(document).ready((function(){$(".blog_post_div input").on("keyup",(function(t){13===t.keyCode&&$(".add_task_url").click()})),$("body").on("click",".remove_blog_post",(function(){var t,e,i,n;"1"!==$(this).data("task-requesting")&&($(this).data("task-requesting","1"),n=this,e=$(this).data("task-id"),i=$(this).data("task-url-id"),n=this,t=$('.task_url_error_msg[data-task-id="'+e+'"]'),$.ajax({url:"/tasks/"+e+"/task_urls/"+i+".json",type:"DELETE",data:JSON.stringify({id:i}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(){var t,r,o;for($(n).data("task-requesting","0"),r=$(".blog_post_div .list_"+e+" li"),t=0,o=[];t<r.length;)r[t].children[1].dataset.taskUrlId.toString()===i.toString()&&r[t].remove(),o.push(t++);return o},error:function(e){var i;return $(n).data("task-requesting","0"),console.log("error",e),(i=e.responseJSON)&&i.error?t.html(i.error):alert("Error removing url")}}))})),$(".add_task_url").click((function(){var t,e,i,n;i=$(this).data("task-id"),e=$("#input_"+i).val(),"1"!==$(this).data("task-requesting")&&0!==e.length&&" "!==e&&($(this).data("task-requesting","1"),e=$("#input_"+i).val(),n=this,(t=$('.task_url_error_msg[data-task-id="'+i+'"]')).html(""),$.ajax({url:"/tasks/"+i+"/task_urls.json",type:"POST",data:JSON.stringify({task_id:i,url:e}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(t){return $(n).data("task-requesting","0"),$("#input_"+i).val(" "),$(".blog_post_div .list_"+t.task_id).append('<li><a target="_blank" href='+e+">"+e+'</a><button data-task-requesting="0" data-task-id="'+t.task_id+'"data-task-url-id="'+t.id+'" + type="button"  class="remove_blog_post btn btn-sm btn-default ms-2">Remove</button></li>')},error:function(e){var i;return $(n).data("task-requesting","0"),console.log("error",e),(i=e.responseJSON)&&i.error?t.html(i.error):alert("Error add url")}}))}))}))}.call(this),function(){var t,e,i,n,r,o;n=function(t,e,r,o){if(!(t<=0))return $.getJSON("/correction_requests/"+t+".json",(function(s){var a,l,c,u,h,d,p,f,m,g,v,y,b,w,x,_,k,C;return u=$("#task-test-correction-"+e+"-correction-modal .error"),p=$("#task-test-correction-"+e+"-correction-modal .info"),k=$("#task-test-correction-"+e+"-correction-modal .spinner"),$("#task-test-correction-"+e+"-correction-modal .event-footer"),v=$("#task-test-correction-"+e+"-correction-modal .pre-check-message"),g=$("#task-test-correction-"+e+"-correction-modal .post-check-message"),d=$("#task-test-correction-"+e+"-correction-modal .help"),w=$("#task-test-correction-"+e+"-correction-modal .correction_request_test_send"),"Done"===s.status?(x=$("#task-test-correction-"+e+"-correction-modal .result").hide(),a=$("#task-test-correction-"+e+"-correction-modal .alert.alert-info"),l=$("#task-test-correction-"+e+"-correction-modal .close-modal"),s.progress&&(C=s.progress.tasks.find((function(t){return t.id===e})),(_=$("#task-"+e+"-score-info-score")).parent().attr("class",C.score_info.passed?"text-success":"text-danger"),_.html(C.score_info.score),f=C.progress_score.progress,b=100*(m=C.progress_score.score)/f,(y=$(".task_progress_score_bar[data-task-id="+e+"]")).find(".task_progress_bar").width(100*f+"%"),y.find(".task_score_bar").width(b+"%"),y.find(".task_progress_value").html("Checks completed: "+(100*f).toFixed(2)+"%"),y.find(".task_score_value").html((100*m).toFixed(2)+"%"),document.dispatchEvent(new CustomEvent("project_progress_changed",{detail:s.progress}))),i(e,x,s,o,(function(t){var e;return x.show(),u.hide(),p.hide(),k.hide(),l.removeClass("d-none"),t?e="<strong>Congratulations!</strong> All tests passed successfully!<br>You are ready for your next mission!":(e="Some checks are failing. Make sure you fix them before starting a new review<br><strong>You got this!</strong>",r.show()),a.html(e).removeClass("d-none"),g.show(),o||d.show(),w.show()}))):"Sent"===s.status?(s.result_display&&s.result_display.delay&&s.result_display.delay>0&&s.result_display.info_message&&p.html("("+s.result_display.delay+" seconds of delay) - "+s.result_display.info_message).show(),c=3e3,$("body").hasClass("env_development")&&(c=1e4),setTimeout((function(){return n(t,e,r,o)}),c)):(r.show(),p.hide(),h="An error occurred.",s&&s.result_display&&s.result_display.error&&s.result_display.error.message?h=s.result_display.error.message:s&&s.result_display&&s.result_display.error?h=s.result_display.error:s&&s.error_result&&(h=s.error_result),u.html(h).show(),k.hide(),v.show(),w.show())}))},i=function(i,n,r,o,s){var a,l,c,u,h,d;return n.empty(),n.append("<hr />"),n.append("<h4>Result:</h4>"),(h=r.result_display).error&&h.error.message&&(n.append('<div class="request_correction_error">ERROR:</div>'),n.append("<pre>"+h.error.message(NaN)),n.append("<hr />")),h.info&&n.append("<p>"+h.info+"</p>"),h.user_repo_used&&n.append("<p>Repository found in "+h.user_repo_used+" account</p>"),h.github_commit_info&&(l=$("<div>").addClass("well").append($("<h5>").html("Commit used:")),(u=$("<ul>")).append($("<li>").append($("<b>").html("URL: ")).append($("<a>").attr("target","_blank").attr("href",h.github_commit_info.url).html("Click here"))),u.append($("<li>").append($("<b>").html("ID: ")).append($("<code>").html(h.github_commit_info.id))),u.append($("<li>").append($("<b>").html("Author: ")).append($("<span>").html(h.github_commit_info.committer_username))),u.append($("<li>").append($("<b>").html("Subject: ")).append($("<em>").html(h.github_commit_info.subject))),u.append($("<li>").append($("<b>").html("Date: ")).append($("<span>").html(h.github_commit_info.datetime))),l.append(u),(d=h.github_commit_info.timezone_issue)&&((c=$("<div>").addClass("alert alert-danger")).append($("<h5>").append($("<i>").addClass("fa-solid fa-triangle-exclamation me-2")).append("Warning")),c.append($("<p>").html("The commit timezone is "+d.delta+" hours in the future - <b>it can cause issues during the review</b>.")),c.append($("<p>").html("Please make sure the date of the computer is correctly set (you can use <code>git log</code> in the repository for displaying commit times)")),l.append(c)),n.append(l)),a=h.checks||[],o?t(a,h.all_passed,n,s):e(i,h,a,h.checks_full,n,r.id,s)},t=function(t,e,i,n){var r,o,s,a,l,c,u,h,d,p,f,m,g,v,y,b,w,x,_,k,C,S,T,A;for(y=0,_=t.length;y<_;y++){if(r=t[y],(o=$("<div>")).addClass("check"),o.attr("id",r.id),r.passed||o.addClass("failed"),r.previous_check_failed&&(o.addClass("offline"),o.attr("title","Skipped - previous check failed")),r.title&&o.append("<div><b>Title</b>: "+r.title+"</div>"),r.check_label&&o.append("<div><b>Label</b>: "+r.check_label+"</div>"),r.eliminatory&&o.append("<div><b>Eliminatory</b>: "+r.eliminatory+"</div>"),r.reason&&o.append("<div><b>Reason</b>:<br/><pre>"+r.reason+"</pre></div>"),r.full_errors&&r.full_errors.length>0){for((l=$("<div>")).append($("<b>Full output</b>:")),c=$("<ul>"),b=0,k=(T=r.full_errors).length;b<k;b++)g=T[b],c.append('<li><a href="'+g.url+'" target="_blank">'+g.name+"</a></li>");l.append(c),o.append(l)}if(r.files&&r.files.length>0){for((s=$("<div>")).append($("<b>Files</b>:")),a=$("<ul>"),w=0,C=(A=r.files).length;w<C;w++)v=A[w],a.append('<li><a href="'+v.url+'" target="_blank">'+v.name+"</a></li>");s.append(a),o.append(s)}if((p=r.commands||[]).length>0){for((f=$("<div>")).append("<b>Commands</b>:<br/>"),(m=$("<ul>")).addClass("commands"),x=0,S=p.length;x<S;x++)u=p[x],(h=$("<li>")).addClass("command"),h.attr("id",u.id),u.success||h.addClass("failed"),(d=$("<ul>")).append("<li><b>Docker image</b>: "+u.docker_image_name+"</li>"),u.command&&d.append('<li><b>Command</b>: <textarea class="form-control" readonly>'+u.command+"</textarea></li>"),u.error&&d.append("<li><b>Error</b>: <pre>"+u.error+"</pre></li>"),h.append(d),m.append(h);f.append(m),o.append(f)}i.append(o)}return n(e)},e=function(t,e,i,n,o,s,a){var l,c,u,h,d,p,f,m,g,v;if(!e.explicit_checker)for(h=0,d=i.length;h<d;h++)l=i[h],(c=$("<div>")).addClass("check-inline"),c.attr("id",l.id),v=null,l.check_label&&(c.addClass(l.check_label.toLowerCase()),"requirement"===l.check_label.toLowerCase()?v="Requirement":"code"===l.check_label.toLowerCase()?v="Correct output of your code":"efficiency"===l.check_label.toLowerCase()?v="Efficiency":"answer"===l.check_label.toLowerCase()&&(v="Correct answer")),l.passed?(c.addClass("success"),c.append('<i class="fa-solid fa-circle-check" aria-hidden="true"></i>'),v&&(v+=" - success")):(c.addClass("fail"),c.append('<i class="fa-solid fa-circle-xmark" aria-hidden="true"></i>'),v&&(v+=" - fail")),l.previous_check_failed&&(c.addClass("offline"),v=v?"Skipped - previous check failed - "+v:"Skipped - previous check failed"),v&&c.attr("title",v),c.append(l.title),o.append(c);return n&&n.length>0?($(".task_correction_modal.student_modal").addClass("checker_in_beta"),u=o,e.explicit_checker||(g=$("<div>"),o.append(g),(p=$("<a>").html("See details")).click((function(){return $(this).hasClass("checks_full_is_open")?(window.gtm_user_custom_event("task_checker_modal_hide_full_checks",{taskId:t}),p.html("See details"),$(this).removeClass("checks_full_is_open"),f.hide()):(window.gtm_user_custom_event("task_checker_modal_show_full_checks",{taskId:t}),p.html("Hide details"),$(this).addClass("checks_full_is_open"),f.show())})),g.append(p),f=$('<div class="conainer-full-output">').hide(),g.append(f),f.append($("<br/>")),e.info_checker_in_beta&&f.append($("<p>").html(e.info_checker_in_beta)),m=$("<div>"),f.append(m),u=m),e.explicit_checker||e.info_checker_in_beta?r(s,u,e.all_passed,a):void 0):a(e.all_passed)},r=function(t,e,i,n){return $.get("/correction_requests/"+t+"/_partial",(function(t){return e.append(t),e.find(".timeline-event-head.expandable").click((function(t){var e,i,n,r;return t.preventDefault(),e=(r=$(this).parent()).find(".timeline-event-content"),i=!(i=r.prop("expanded")||!1),r.prop("expanded",i),n=$(this).data("gtm-custom-event-options"),i?(window.gtm_user_custom_event("task_checker_modal_show_check",n),r.addClass("expanded"),e.show()):(window.gtm_user_custom_event("task_checker_modal_hide_check",n),r.removeClass("expanded"),e.hide())})),n(i)}))},o=function(){var t,e,i,r;if($(".correction_request_test_send").length>0&&(t=$(".correction_request_test_send"),r=$("#user_id").data("id"),e="test_admin_correction_json",i=Cookies.getJSON(e)||{},$(".correction_request_test_send").each((function(){var t,e,r;if(r=$(this).data("task-id"),e="admin"===$(this).data("type"),(t=$(this).data("last-request-id"))&&$(".check-your-task-"+r+"-modal-button").click((function(){if(0===$("#task-test-correction-"+r+"-correction-modal .result").text().trim().length)return $("#task-test-correction-"+r+"-correction-modal .spinner").show(),$("#task-test-correction-"+r+"-correction-modal .correction_request_test_send").hide(),n(parseInt(t),r,$(this),e)})),e)return $("#task-test-correction-"+r+'-correction-modal input[name="custom_github_username"]').val(i.custom_github_username),$("#task-test-correction-"+r+'-correction-modal input[name="custom_github_repository"]').val(i.custom_github_repository),$("#task-test-correction-"+r+'-correction-modal input[name="custom_github_path"]').val(i.custom_github_path),$("#task-test-correction-"+r+'-correction-modal select[name="correction_request_user_id"]').val(i.correction_request_user_id)})),t.click((function(){var o,s,a,l,c,u,h,d,p,f,m,g,v,y,b,w,x,_;if(t=$(this),d="admin"===t.data("type"),p="tutor"===t.data("type"),b=t.data("task-id"),c=$("#task-test-correction-"+b+"-correction-modal .error"),y=$("#task-test-correction-"+b+"-correction-modal .spinner"),u=$("#task-test-correction-"+b+"-correction-modal .event-footer"),g=$("#task-test-correction-"+b+"-correction-modal .pre-check-message"),m=$("#task-test-correction-"+b+"-correction-modal .post-check-message"),h=$("#task-test-correction-"+b+"-correction-modal .help"),o=$("#task-test-correction-"+b+"-correction-modal .alert.alert-info"),s=$("#task-test-correction-"+b+"-correction-modal .close-modal"),t.hide(),y.show(),g.hide(),h.hide(),c.hide().html(""),o.html("").addClass("d-none"),s.addClass("d-none"),u.show(),m.hide(),window.gtm_user_custom_event("task_checker_modal_start_a_new_test",{taskId:b}),d?(_=$("#task-test-correction-"+b+'-correction-modal input[name="custom_github_username"]').val(),v=$("#task-test-correction-"+b+'-correction-modal input[name="custom_github_repository"]').val(),f=$("#task-test-correction-"+b+'-correction-modal input[name="custom_github_path"]').val(),x=$("#task-test-correction-"+b+'-correction-modal input[name="correction_request_user_id"]').val(),r=0,x&&(r=parseInt(x)),(l=r>0)||(""===_||0===_.length?(c.html("Username is mandatory").show(),t.show(),y.hide(),u.hide(),g.show()):""===v||0===v.length?(c.html("Repository is mandatory").show(),t.show(),y.hide(),u.hide(),g.show()):l=!0)):l=!0,l)return d?(i.custom_github_username=_,i.custom_github_repository=v,i.custom_github_path=f,i.correction_request_user_id=r,Cookies.set(e,i),w="/tasks/"+b+"/start_correction_test.json",a={github_username:_,github_repository:v,github_path:f,user_id:r}):(w="/tasks/"+b+"/start_correction.json",a={}),$("#task-test-correction-"+b+"-correction-modal .result").hide().empty(),$(".task_correction_modal.student_modal").removeClass("checker_in_beta"),$.post(w,a,(function(e){var i;return null===(i=e.id)||0===i?(c.html("Can't start your test...").show(),t.show(),y.hide(),u.hide(),g.show()):n(i,b,t,d||p)})).fail((function(e){return c.html(e.responseJSON.error).show(),t.show(),y.hide(),u.hide(),g.show()}))}))),$(".task_correction_modal .help button").length>0)return $(".task_correction_modal .help button").click((function(){var t,e;return e=$(this).data("task-id"),window.gtm_user_custom_event("task_checker_modal_help",{taskId:e}),(t=$('.task_correction_modal .help .help-container[data-task-id="'+e+'"]')).hasClass("show")?t.removeClass("show"):t.addClass("show")}))},$(document).ready(o),$(document).on("page:load",o)}.call(this),function(){var t,e,i,n,r;r=function(){if($(".task_ask_new_correction").length>0)return i(),$(".task_ask_new_correction").click((function(){var t,i,n;if(i=$(this).data("correction-id"),n=$(this).data("task-id"),!(t=$(this)).hasClass("in_progress"))return window.gtm_user_custom_event("task_ask_a_new_correction",{taskId:n}),t.addClass("in_progress").removeClass("error_occurred"),$.post("/corrections/"+i+"/request_second_submission.json",{task_id:n},(function(r){return r.success?e(i,n,t):t.removeClass("in_progress").addClass("error_occurred")}))}))},i=function(){return $(".task_ask_new_correction").each((function(){var t,i,n;if($(this).hasClass("in_progress"))return i=$(this).data("correction-id"),n=$(this).data("task-id"),t=$(this),e(i,n,t)}))},e=function(i,n,r){return $.getJSON("/corrections/"+i+"/status_second_submission.json?task_id="+n,(function(o){var s;return s=!1,o.success&&(o.manual_review_is_requested||o.auto_review_request_id)&&(s=!0),s?r.addClass("in_progress"):r.removeClass("in_progress"),o.auto_review_request_id?t(i,n,o.auto_review_request_id,r):o.manual_review_is_requested?setTimeout((function(){return e(i,n,r)}),1e4):void 0}))},t=function(e,i,r,o){if(r&&!(r<=0)&&o)return $.getJSON("/correction_requests/"+r+".json").done((function(s){s?"Done"===s.status?(o.removeClass("in_progress"),n(e,i)):"Sent"===s.status?setTimeout((function(){return t(e,i,r,o)}),5e3):o.removeClass("in_progress").addClass("error_occurred"):o.removeClass("in_progress")})).fail((function(){o.removeClass("in_progress")}))},n=function(t,e){if(t&&e)return $.getJSON("/corrections/"+t+"/task_progress_score.json?task_id="+e,(function(i){var n,r,o;return n=0,r=0,i.success&&(n=i.progress,r=i.score),o=100*r/n,$('.task_progress_score_bar[data-task-id="'+e+'"] .task_progress_bar').width(100*n+"%"),$('.task_progress_score_bar[data-task-id="'+e+'"] .task_score_bar').width(o+"%"),$('.task_progress_score_bar[data-task-id="'+e+'"] .task_progress_value').html("Checks completed: "+(100*n).toFixed(2)+"%"),$('.task_progress_score_bar[data-task-id="'+e+'"] .task_score_value').html((100*r).toFixed(2)+"%"),$('.modal.task_get_qa_review[data-task-id="'+e+'"][data-correction-id="'+t+'"]').data("loaded",0)}))},$(document).ready(r),$(document).on("page:load",r)}.call(this),function(){var t,e;e=function(){if($("#teams_wait_request_acknowledge").length>0)return $("#teams_wait_request_acknowledge .cancel_request").click((function(){var t,e,i;if(confirm("Are you sure?")&&!(t=$(this)).hasClass("disabled"))return t.addClass("disabled"),(e=$("#teams_wait_request_acknowledge .error_msg")).hide().html(""),i="/batch_planning_items/"+t.data("batch-planning-item-id")+"/cancel_team_partners.json",$.post(i,{},(function(i){var n;return t.removeClass("disabled"),i.success?window.location.reload():(n="An error occurred",i.error&&(n=i.error),e.show().html(n))}))}))},$(document).ready(e),$(document).on("page:load",e),t=function(){if($("#teams_request_to_answer").length>0)return $("#teams_request_to_answer .accept_to_join_team").click((function(){var t,e,i;if(confirm("Are you sure?")&&!(t=$(this)).hasClass("disabled"))return $("#teams_request_to_answer button").addClass("disabled"),(e=$("#teams_request_to_answer .error_msg")).hide().html(""),i="/batch_planning_items/"+t.data("batch-planning-item-id")+"/join_team_partners.json",$.post(i,{team_members_ids:t.data("team-member-ids")},(function(t){var i;return $("#teams_request_to_answer button").removeClass("disabled"),t.success?window.location.reload():(i="An error occurred",t.error&&(i=t.error),e.show().html(i))}))})),$("#teams_request_to_answer .refuse_to_join_team").click((function(){var t,e,i;if(confirm("Are you sure?")&&!(t=$(this)).hasClass("disabled"))return $("#teams_request_to_answer button").addClass("disabled"),(e=$("#teams_request_to_answer .error_msg")).hide().html(""),i="/batch_planning_items/"+t.data("batch-planning-item-id")+"/refuse_team_partners.json",$.post(i,{team_members_ids:t.data("team-member-ids")},(function(t){var i;return $("#teams_request_to_answer button").removeClass("disabled"),t.success?window.location.reload():(i="An error occurred",t.error&&(i=t.error),e.show().html(i))}))}))},$(document).ready(t),$(document).on("page:load",t)}.call(this),function(){var t,e;e=function(){var e;if((e=$('input.toggle-checkboxes-parent[type="checkbox"]')).length>0)return e.change((function(){return t($(this).data("selector"),$(this).prop("checked"))})),e.each((function(){return t($(this).data("selector"),$(this).prop("checked"))}))},t=function(t,e){var i;return i='.toggle-checkboxes-child[data-selector="'+t+'"]',$(i).each((function(){return e?$(this).show():($(i+' input[type="checkbox"]').prop("checked",!1),$(this).hide())}))},$(document).ready(e),$(document).on("page:load",e)}.call(this),function(){var t,e,i,n,r,o,s;t=function(t,i){var n,r,o,s,a,l,c,u,h,d,p;if(t&&i)return u=t.s3_path.split(".").pop(),p="misc",t.metadata&&t.metadata.mime_type&&(p=t.metadata.mime_type.split("/")[0]),h="Type: "+p+"/"+u,t.metadata&&t.metadata.filename&&(h=t.metadata.filename),d=$("#upload-images-missing").val(),("image"===p||["jpg","png","gif","jpeg"].includes(u))&&(d=t.url),r=$('<div class="gallery-image-wrapper">'),(n=$('<div class="bg-image">')).data("s3_path",t.s3_path),n.css("background-image","url("+d+")"),o=$('<div class="preview-footer">'),(a=$('<div class="upload-add" title="Insert this image">')).append($('<i class="fa-solid fa-plus"></i>')),a.data("filename",h),a.data("filetype",p),a.data("s3_path",t.s3_path),o.append(a),a.click((function(){return e($(this).data("filename"),$(this).data("filetype"),$(this).data("s3_path"))})),$("#uploader-modal").data("can-delete")&&((c=$('<div class="upload-remove" title="Delete PERMANENTLY this file">')).append($('<i class="fa-solid fa-trash"></i>')),c.data("s3_path",t.s3_path),o.append(c),c.click((function(){var t,e;if((e=$(this).data("s3_path"))&&confirm("Are you sure you want to delete this file?"))return t="/uploads?path="+e,$.ajax({type:"DELETE",dataType:"json",url:t}).done((function(){return r.remove()}))}))),(l=$('<div class="upload-preview" title="Preview this file">')).append($('<a href="'+t.url+'" target="_blank" class="fa-solid fa-eye upload-preview-link"></a>')),l.data("s3_path",t.s3_path),o.append(l),n.append(o),r.append(n),(s=$('<div class="upload-name" title="'+h+'">')).append($("<p>"+h+"</p>")),s.data("filename",h),r.append(s),i.append(r)},n=function(e){var i,n,r,o,s,a,l,c;return i=$("#uploader-modal #image-gallery"),c="/uploads",s=[],e?s.push({key:"last_key",value:e}):i.empty(),a=$("#gallery-filters-size :selected").val(),s.push({key:"size",value:a}),l=$("#gallery-filters-type :selected").val(),s.push({key:"type",value:l}),c+="?"+(s=s.map((function(t){return t.key+"="+t.value}))).join("&"),(o=$("#uploader-modal .pageNext")).hide(),(n=$("#uploader-modal .errorMessage")).hide(),(r=$("#uploader-modal #gallery-spinner")).show(),$.ajax({type:"GET",dataType:"json",url:c}).done((function(s){return s.items.forEach((function(e){return t(e,i)})),0===s.items.length&&n.show(),(e=s.last_key)?o.data("last-key",e).show():o.hide(),r.hide()}))},e=function(t,e,i){var n,r,o;if(void 0!==t&&void 0!==e&&void 0!==i)return r=(n=window.current_markdown_editor.codemirror).getCursor(),o="["+t+"]("+i+")","image"===e&&(o="!"+o),n.replaceRange(o,r)},i=function(t,i,n,r){return e(i,n,r)},s=function(){return n()},o=function(){if($("#uploader-modal .pageNext").length>0&&$("#uploader-modal .pageNext").click((function(){return n($(this).data("last-key"))})),$("#uploader-modal .pageRefresh").length>0)return $("#uploader-modal .pageRefresh").click((function(){return n()}))},r=function(){var e,i,n,r,o;if(n=$("#uploader-modal #upload_url_field_btn"),r=$("#uploader-modal #upload_url_field"),i=$("#uploader-modal .upload-url-container"),o=$("#uploader-modal #url-upload-spinner"),e=$("#uploader-modal .resulting-img-container"),n.length>0)return n.click((function(){var n,s;if(e.empty(),(s=r.val()).length>0)return i.hide(),o.show(),n="/uploads",$.ajax({url:n,type:"PUT",data:{upload_url:s}}).done((function(n){return t(n,e),i.show(),o.hide(),r.val("")}))}))},$(document).ready(o),$(document).on("page:load",o),$(document).on("upload-reset-modal",s),$(document).on("refreshGalleryEvent",s),$(document).on("addFileToMarkdownEvent",i),$(document).ready(r),$(document).on("page:load",r)}.call(this),function(){var t,e,i;i=function(){if($(".user_report_type_values").length>0)return $(".user_report_type_values .new_value").on("keypress",(function(e){if(13===e.keyCode)return t(),!1})),$(".user_report_type_values .add_new_value").click((function(){return t()})),$(".user_report_type_values .remove_value").click((function(){return $(this).parent().remove(),e()}))},$(document).ready(i),$(document).on("page:load",i),t=function(){var t,i,n,r,o;if((o=$(".user_report_type_values .new_value").val())&&""!==o.trim())return $(".user_report_type_values .new_value").val(""),t=$(".user_report_type_values .values_list"),i=$("<li>"),r=$("<span>").addClass("value").append(o),i.append(r),(n=$("<span>").addClass("action").addClass("remove_value")).append($('<i class="fa-solid fa-circle-minus"></i>')),i.append(n),t.append(i),e(),n.click((function(){return $(this).parent().remove(),e()}))},e=function(){var t,e;return e=$('input[type="hidden"][name="user_report_type[string_values]"]'),t=[],$(".user_report_type_values .values_list span.value").each((function(){return t.push($(this).html())})),e.val(t.join("|||"))}}.call(this),function(){document.addEventListener("DOMContentLoaded",(function(){var t,e,i,n,r,o,s;if(document.getElementById("withdrawal-form"))return s=document.getElementById("withdrawal_type"),t=document.getElementById("dismissal-reason-field"),r=document.getElementById("withdrawal-reason-field"),e=document.getElementById("withdrawal_dismissal_reason"),o=document.getElementById("withdrawal_withdrawal_reason"),i=document.getElementById("withdraw-button"),(n=function(){var n;switch(n="",s.value){case"dismissal":t.style.display="block",r.style.display="none",n=e.value;break;case"withdrawal":t.style.display="none",r.style.display="block",n=o.value;break;case"":t.style.display="none",r.style.display="none"}return 0===document.querySelectorAll('#withdrawal-check-list input[type="checkbox"]:not(:checked)').length&&""!==s.value&&""!==n?i.removeAttribute("disabled"):i.setAttribute("disabled","disabled")})(),s.addEventListener("change",n),e.addEventListener("change",n),o.addEventListener("change",n),document.querySelectorAll('#withdrawal-check-list input[type="checkbox"]').forEach((function(t){return t.addEventListener("change",n)}))}))}.call(this),function(){var t,e,i,n,r;i=function(){if($(".correction_skip_toggle").length>0)return $(".correction_skip_toggle").click((function(){var t,e;return t=$(this).data("correction-id"),e=this,$.post("/corrections/"+t+"/toggle_skip.json",(function(){return"Yes"===$(e).html()?$(e).html("No"):$(e).html("Yes")}))}))},$(document).ready(i),$(document).on("page:load",i),e=function(){if($(".correction_cheating_toggle").length>0)return $(".correction_cheating_toggle").click((function(){var t,e,i;return e=$(this).data("correction-id"),t=$(this),i=$("tr[data-correction-id="+e+"] td.percentage_correction a"),$.post("/corrections/"+e+"/toggle_cheating.json",(function(e){return"Yes"===t.html()?(t.html("No"),i.html(e.percentage+"%")):(t.html("Yes"),i.html(e.percentage+"% ("+e.raw_percentage+"%)"))}))}))},$(document).ready(e),$(document).on("page:load",e),r=function(){if($(".file-size-validation").length>0)return $(".file-size-validation").on("change",(function(){var t;if($(".submit-file input").prop("disabled",!1),$(".submit-file .alert-msg").html(""),
(t=$(this).data("file-size"))&&this.files&&this.files.length>0&&this.files[0]&&this.files[0].size&&this.files[0].size>t)return $(".submit-file input").prop("disabled",!0),$(".submit-file .alert-msg").html("Photo size is too big")}))},$(document).ready(r),$(document).on("page:load",r),n=function(){if($("table.reviews_made").length>0)return $("div#bpi_summary").each((function(){var t,e;if(t=$(this).data("bpi-id"),!$("div[data-bpi-id="+t+"]").hasClass("bpi-loaded"))return $("div[data-bpi-id="+t+"]").addClass("bpi-loaded"),e=$("div[data-bpi-id="+t+"] .spinner"),$.get("/batch_planning_items/"+t+"/_partial",(function(i){return $("div[data-bpi-id="+t+"]").html(i),e.hide()}))}))},$(document).ready(n),$(document).on("page:load",n),t=function(){var t,e;if($("#company").length>0&&$("#userCompanyNamesJSON").length>0)return $("form").on("keypress",(function(t){if(13===t.which)return t.preventDefault()})),e=JSON.parse($("#userCompanyNamesJSON").val()),t=$("#userSelectedCompanyName").val(),$("#company").each((function(){var i;return(i=new Bloodhound({local:e,datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,limit:20})).initialize(),$(this).tokenfield({tokens:[t],limit:1,showAutocompleteOnFocus:!0,createTokensOnBlur:!0,typeahead:[null,{source:i.ttAdapter()}]})}))},$(document).ready(t),$(document).on("page:load",t)}.call(this);var stIsIE=!1;if(sorttable={init:function(){arguments.callee.done||(arguments.callee.done=!0,_timer&&clearInterval(_timer),document.createElement&&document.getElementsByTagName&&(sorttable.DATE_RE=/^(\d\d?)[\/\.-](\d\d?)[\/\.-]((\d\d)?\d\d)$/,forEach(document.getElementsByTagName("table"),(function(t){-1!=t.className.search(/\bsortable\b/)&&sorttable.makeSortable(t)}))))},makeSortable:function(t){if(0==t.getElementsByTagName("thead").length&&(the=document.createElement("thead"),the.appendChild(t.rows[0]),t.insertBefore(the,t.firstChild)),null==t.tHead&&(t.tHead=t.getElementsByTagName("thead")[0]),1==t.tHead.rows.length){sortbottomrows=[];for(var e=0;e<t.rows.length;e++)-1!=t.rows[e].className.search(/\bsortbottom\b/)&&(sortbottomrows[sortbottomrows.length]=t.rows[e]);if(sortbottomrows){null==t.tFoot&&(tfo=document.createElement("tfoot"),t.appendChild(tfo));for(e=0;e<sortbottomrows.length;e++)tfo.appendChild(sortbottomrows[e]);delete sortbottomrows}headrow=t.tHead.rows[0].cells;for(e=0;e<headrow.length;e++)headrow[e].className.match(/\bsorttable_nosort\b/)||(mtch=headrow[e].className.match(/\bsorttable_([a-z0-9]+)\b/),mtch&&(override=mtch[1]),mtch&&"function"==typeof sorttable["sort_"+override]?headrow[e].sorttable_sortfunction=sorttable["sort_"+override]:headrow[e].sorttable_sortfunction=sorttable.guessType(t,e),headrow[e].sorttable_columnindex=e,headrow[e].sorttable_tbody=t.tBodies[0],dean_addEvent(headrow[e],"click",sorttable.innerSortFunction=function(){if(-1!=this.className.search(/\bsorttable_sorted\b/))return sorttable.reverse(this.sorttable_tbody),this.className=this.className.replace("sorttable_sorted","sorttable_sorted_reverse"),this.removeChild(document.getElementById("sorttable_sortfwdind")),sortrevind=document.createElement("span"),sortrevind.id="sorttable_sortrevind",sortrevind.innerHTML=stIsIE?'&nbsp<font face="webdings">5</font>':"&nbsp;&#x25B4;",void this.appendChild(sortrevind);if(-1!=this.className.search(/\bsorttable_sorted_reverse\b/))return sorttable.reverse(this.sorttable_tbody),this.className=this.className.replace("sorttable_sorted_reverse","sorttable_sorted"),this.removeChild(document.getElementById("sorttable_sortrevind")),sortfwdind=document.createElement("span"),sortfwdind.id="sorttable_sortfwdind",sortfwdind.innerHTML=stIsIE?'&nbsp<font face="webdings">6</font>':"&nbsp;&#x25BE;",void this.appendChild(sortfwdind);theadrow=this.parentNode,forEach(theadrow.childNodes,(function(t){1==t.nodeType&&(t.className=t.className.replace("sorttable_sorted_reverse",""),t.className=t.className.replace("sorttable_sorted",""))})),sortfwdind=document.getElementById("sorttable_sortfwdind"),sortfwdind&&sortfwdind.parentNode.removeChild(sortfwdind),sortrevind=document.getElementById("sorttable_sortrevind"),sortrevind&&sortrevind.parentNode.removeChild(sortrevind),this.className+=" sorttable_sorted",sortfwdind=document.createElement("span"),sortfwdind.id="sorttable_sortfwdind",sortfwdind.innerHTML=stIsIE?'&nbsp<font face="webdings">6</font>':"&nbsp;&#x25BE;",this.appendChild(sortfwdind),row_array=[],col=this.sorttable_columnindex,rows=this.sorttable_tbody.rows;for(var t=0;t<rows.length;t++)row_array[row_array.length]=[sorttable.getInnerText(rows[t].cells[col]),rows[t]];row_array.sort(this.sorttable_sortfunction),tb=this.sorttable_tbody;for(t=0;t<row_array.length;t++)tb.appendChild(row_array[t][1]);delete row_array}))}},guessType:function(t,e){sortfn=sorttable.sort_alpha;for(var i=0;i<t.tBodies[0].rows.length;i++)if(text=sorttable.getInnerText(t.tBodies[0].rows[i].cells[e]),""!=text){if(text.match(/^-?[\xa3$\xa4]?[\d,.]+%?$/))return sorttable.sort_numeric;if(possdate=text.match(sorttable.DATE_RE),possdate){if(first=parseInt(possdate[1]),second=parseInt(possdate[2]),first>12)return sorttable.sort_ddmm;if(second>12)return sorttable.sort_mmdd;sortfn=sorttable.sort_ddmm}}return sortfn},getInnerText:function(t){if(!t)return"";if(hasInputs="function"==typeof t.getElementsByTagName&&t.getElementsByTagName("input").length,null!=t.getAttribute("sorttable_customkey"))return t.getAttribute("sorttable_customkey");if(void 0!==t.textContent&&!hasInputs)return t.textContent.replace(/^\s+|\s+$/g,"");if(void 0!==t.innerText&&!hasInputs)return t.innerText.replace(/^\s+|\s+$/g,"");if(void 0!==t.text&&!hasInputs)return t.text.replace(/^\s+|\s+$/g,"");switch(t.nodeType){case 3:if("input"==t.nodeName.toLowerCase())return t.value.replace(/^\s+|\s+$/g,"");case 4:return t.nodeValue.replace(/^\s+|\s+$/g,"");case 1:case 11:for(var e="",i=0;i<t.childNodes.length;i++)e+=sorttable.getInnerText(t.childNodes[i]);return e.replace(/^\s+|\s+$/g,"");default:return""}},reverse:function(t){newrows=[];for(var e=0;e<t.rows.length;e++)newrows[newrows.length]=t.rows[e];for(e=newrows.length-1;e>=0;e--)t.appendChild(newrows[e]);delete newrows},sort_numeric:function(t,e){return aa=parseFloat(t[0].replace(/[^0-9.-]/g,"")),isNaN(aa)&&(aa=0),bb=parseFloat(e[0].replace(/[^0-9.-]/g,"")),isNaN(bb)&&(bb=0),aa-bb},sort_alpha:function(t,e){return t[0]==e[0]?0:t[0]<e[0]?-1:1},sort_ddmm:function(t,e){return mtch=t[0].match(sorttable.DATE_RE),y=mtch[3],m=mtch[2],d=mtch[1],1==m.length&&(m="0"+m),1==d.length&&(d="0"+d),dt1=y+m+d,mtch=e[0].match(sorttable.DATE_RE),y=mtch[3],m=mtch[2],d=mtch[1],1==m.length&&(m="0"+m),1==d.length&&(d="0"+d),dt2=y+m+d,dt1==dt2?0:dt1<dt2?-1:1},sort_mmdd:function(t,e){return mtch=t[0].match(sorttable.DATE_RE),y=mtch[3],d=mtch[2],m=mtch[1],1==m.length&&(m="0"+m),1==d.length&&(d="0"+d),dt1=y+m+d,mtch=e[0].match(sorttable.DATE_RE),y=mtch[3],d=mtch[2],m=mtch[1],1==m.length&&(m="0"+m),1==d.length&&(d="0"+d),dt2=y+m+d,dt1==dt2?0:dt1<dt2?-1:1},shaker_sort:function(t,e){for(var i=0,n=t.length-1,r=!0;r;){r=!1;for(var o=i;o<n;++o)if(e(t[o],t[o+1])>0){var s=t[o];t[o]=t[o+1],t[o+1]=s,r=!0}if(n--,!r)break;for(o=n;o>i;--o)if(e(t[o],t[o-1])<0){s=t[o];t[o]=t[o-1],t[o-1]=s,r=!0}i++}}},document.addEventListener&&document.addEventListener("DOMContentLoaded",sorttable.init,!1),/WebKit/i.test(navigator.userAgent))var _timer=setInterval((function(){/loaded|complete/.test(document.readyState)&&sorttable.init()}),10);window.onload=sorttable.init,dean_addEvent.guid=1,fixEvent.preventDefault=function(){this.returnValue=!1},fixEvent.stopPropagation=function(){this.cancelBubble=!0},Array.forEach||(Array.forEach=function(t,e,i){for(var n=0;n<t.length;n++)e.call(i,t[n],n,t)}),Function.prototype.forEach=function(t,e,i){for(var n in t)void 0===this.prototype[n]&&e.call(i,t[n],n,t)},String.forEach=function(t,e,i){Array.forEach(t.split(""),(function(n,r){e.call(i,n,r,t)}))};var forEach=function(t,e,i){if(t){var n=Object;if(t instanceof Function)n=Function;else{if(t.forEach instanceof Function)return void t.forEach(e,i);"string"==typeof t?n=String:"number"==typeof t.length&&(n=Array)}n.forEach(t,e,i)}};(function(){document.addEventListener("DOMContentLoaded",(function(){var t,e,i,n,r;if(null!==(n=document.getElementById("versioning_model-modal")))return i=n.querySelector(".spinner"),r=n.querySelector(".versions"),n.addEventListener("show.bs.modal",(function(o){var s,a,l,c,u,h;return a=o.relatedTarget,i.classList.add("d-block"),i.classList.remove("d-none"),r.innerHTML="",r.classList.add("d-none"),r.classList.remove("d-block"),s=a.getAttribute("data-action"),l=a.getAttribute("data-model-class"),c=a.getAttribute("data-model-id"),u=a.getAttribute("data-models-class"),null!=(h=a.getAttribute("data-version-id"))?(n.querySelector(".modal-title").innerHTML=l+" "+c+" - "+s,fetch("/versions/"+h+".json").then((function(t){return t.json()})).then((function(e){return t(e)}))):fetch("/"+u.toLowerCase()+"/"+c+"/versions.json").then((function(t){return t.json()})).then((function(t){return e(t)}))})),e=function(t){var e,n,o,s,a,l,c,u,h,d,p,f,m,g,v,y,b,w,x,_,k;if(i.classList.add("d-none"),i.classList.remove("d-block"),r.classList.add("d-block"),r.classList.remove("d-none"),void 0===t||0===t.length)return(f=document.createElement("div")).classList.add("alert","alert-warning"),f.innerHTML="No versions found",void r.appendChild(f);for((h=document.createElement("div")).classList.add("accordion","accordion-flush"),y=0,b=t.length;y<b;y++){for(m in k=t[y],(p=document.createElement("div")).classList.add("accordion-item"),(d=document.createElement("h2")).classList.add("accordion-header"),(c=document.createElement("button")).classList.add("accordion-button","collapsed"),c.type="button",c.setAttribute("data-bs-toggle","collapse"),c.setAttribute("data-bs-target","#flush-collapse-"+k.id),c.setAttribute("aria-expanded","false"),c.setAttribute("aria-controls","flush-collapse-"+k.id),c.style.setProperty("--bs-accordion-active-bg","var(--bs-secondary-bg)"),c.style.setProperty("--bs-accordion-active-color","var(--bs-accordion-color)"),c.style.setProperty("--bs-accordion-btn-focus-box-shadow","none"),(a=document.createElement("div")).classList.add("d-flex","justify-content-between","gap-2","me-2","w-100"),(l=document.createElement("code")).innerHTML=k.version_id,(s=document.createElement("span")).classList.add("text-end"),s.innerHTML=k.s_date+" by "+k.user.full_name,a.appendChild(l),a.appendChild(s),c.appendChild(a),d.appendChild(c),p.appendChild(d),(u=document.createElement("div")).id="flush-collapse-"+k.id,u.classList.add("accordion-collapse","collapse"),(e=document.createElement("div")).classList.add("accordion-body"),(o=document.createElement("ul")).classList.add("list-group"),_=k.changes)g=_[m],(n=document.createElement("li")).classList.add("list-group-item"),(v=document.createElement("h6")).innerHTML=m+":",n.appendChild(v),(x=document.createElement("pre")).classList.add("bg-danger-subtle","border-bottom-0","mb-0"),x.innerText=g[0],n.appendChild(x),(w=document.createElement("pre")).classList.add("bg-success-subtle","border-top-0"),w.innerText=g[1],n.appendChild(w),o.appendChild(n);e.appendChild(o),u.appendChild(e),p.appendChild(u),h.appendChild(p)}return r.appendChild(h)},t=function(t){var e,n,o,s,a,l,c,u,h,d,p,f,m;if(i.classList.add("d-none"),i.classList.remove("d-block"),r.classList.add("d-block"),r.classList.remove("d-none"),void 0===t)return(n=document.createElement("div")).classList.add("alert","alert-warning"),n.innerHTML="Versions not found",void r.appendChild(n);for(o in p=document.createElement("div"),f=document.createElement("div"),m=document.createElement("ul"),(e=function(t,e,i){var n,r,o;return null==i&&(i=!1),n=document.createElement("li"),(r=document.createElement("strong")).innerHTML=t,n.appendChild(r),i?(o=document.createElement("code")).innerHTML=e:o=document.createTextNode(e),n.appendChild(o),m.appendChild(n)})("Version ID: ",t.version_id,!0),e("Model: ",t.model_class),e("ID: ",t.model_id,!0),e("Action: ",t.action),e("Author: ",t.user.full_name+" ("+t.user.id+")"),e("Date: ",t.s_date),f.appendChild(m),p.appendChild(f),(d=document.createElement("ul")).classList.add("list-group"),c=t.changes)s=c[o],(u=document.createElement("li")).classList.add("list-group-item"),(h=document.createElement("h6")).innerHTML=o+":",u.appendChild(h),(l=document.createElement("pre")).classList.add("bg-danger-subtle","border-bottom-0","mb-0"),l.appendChild(document.createTextNode(s[0])),u.appendChild(l),(a=document.createElement("pre")).classList.add("bg-success-subtle","border-top-0"),a.appendChild(document.createTextNode(s[1])),u.appendChild(a),d.appendChild(u);return p.appendChild(d),r.appendChild(p)}}))}).call(this),function(){var t;t=function(){if($("#video-room-events-table").length>0)return $("#video-room-events-table").each((function(){var t;return console.log("sdsd"),t=$(this),$.getJSON("/video_rooms/"+t.data("video-room-id")+"/events.json",(function(e){var i;return t.empty(),!e||e.length<=0?((i=$("<tr>")).append($("<td>")),i.append($("<td>").append($("<em>").html("None"))),i.append($("<td>")),t.append(i)):e.forEach((function(e){var n,r;return(i=$("<tr>").attr("data-id",e.id)).append($("<td>").html(e.event_type)),i.append($("<td>").html(e.date)),n=$("<code>").html(e.user.id),r=$("<span>").html(e.user.full_name),i.append($("<td>").append(n).append(r)),t.append(i)}))}))}))},$(document).ready(t),$(document).on("page:load",t)}.call(this),document.addEventListener("DOMContentLoaded",(()=>{tooltipTriggerList=document.querySelectorAll('[data-bs-toggle="tooltip"]'),tooltipList=[...tooltipTriggerList].map((t=>new bootstrap.Tooltip(t)))}));